!function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="/vendor/panneau/js/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var o=n(2),s=n(3);o.Components.Fields=_.extend(o.Components.Fields,s)},function(e,t){e.exports=Panneau},function(e,t,n){"use strict";e.exports={Bubble:n(4),Bubbles:n(10)}},function(e,t,n){"use strict";var o=n(5),s=n(6),a=n(7),r=n(8),l=(n(9),o.createClass({displayName:"BubbleField",getDefaultProps:function(){return{placeholder:"Rechercher...",queryUrl:"/panneau/bubbles?search=%QUERY",queryWildcard:"%QUERY",transformResponse:function(e){return e},suggestionTemplate:["<div>",'<h4><%= _.get(snippet, "title") %></h4>','<p class="quiet"><%= _.get(snippet, "link", _.get(snippet, "subtitle")) %></p>',"</div>"].join("\n"),emptyTemplate:['<div class="empty-message">',"Aucun élément trouvé","</div>"].join("\n"),titleContent:null,identify:function(e){return e.id},datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(r.get(e,"snippet.title",e))},queryTokenizer:Bloodhound.tokenizers.whitespace}},render:function(){var e;this.props.label&&(e=o.createElement("label",{htmlFor:name,className:"control-label"},this.props.label));var t={},n={display:"none"};this.props.value&&(n.display="block",t.display="none");var s=null;this.props.value&&(s=o.createElement("input",{type:"hidden",name:this.props.name,value:this.props.value.id}));var a;if(this.props.titleContent)a=this.props.titleContent;else{var l=r.get(this.props,"value.snippet.title",""),i=r.get(this.props,"value.snippet.subtitle");a=o.createElement("div",null,o.createElement("span",{className:"glyphicon glyphicon-file"})," ",l," - ",o.createElement("span",{className:"small"},i))}return o.createElement("div",{className:"form-group form-group-bubble"},e,o.createElement("div",{className:"form-group-list-item",style:n},o.createElement("div",{className:"row"},o.createElement("div",{className:"col col-title"},a),o.createElement("div",{className:"col col-actions"},o.createElement("button",{type:"button",className:"btn btn-xs btn-default glyphicon glyphicon-remove",onClick:this.onClickRemove})))),o.createElement("div",{style:t},o.createElement("input",{ref:"input",type:"text",className:"form-control",placeholder:this.props.placeholder})),s)},componentDidMount:function(){var e=a(s.findDOMNode(this.refs.input)),t=new Bloodhound({datumTokenizer:this.props.datumTokenizer,queryTokenizer:this.props.queryTokenizer,identify:this.props.identify,sufficient:1,remote:{url:this.props.queryUrl,wildcard:this.props.queryWildcard,transform:this.props.transformResponse}});e.typeahead({hint:!0,highlight:!0,minLength:1},{name:"bubbles",source:t,limit:1/0,display:function(e){return""},templates:{empty:this.props.emptyTemplate,suggestion:r.template(this.props.suggestionTemplate)}}),e.on("typeahead:select",this.onTypeaheadSelect)},componentWillUnmount:function(){var e=a(s.findDOMNode(this.refs.input));e.off("typeahead:select"),e.typeahead("destroy")},onTypeaheadSelect:function(e,t){e.preventDefault(),this.props.onChange&&this.props.onChange(t)},onClickRemove:function(e){e.preventDefault(),this.props.onChange&&this.props.onChange(null)}}));e.exports=l},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=jQuery},function(e,t){e.exports=_},function(e,t){e.exports=Immutable},function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=n(5),a=n(9),r=Panneau.Mixins.Sortable,l=n(4),i=s.createClass({displayName:"Bubbles",mixins:[r],sortableOptions:{ref:"list",model:"value",onUpdate:"onSortableUpdate"},getDefaultProps:function(){return{ItemField:l,queryUrl:"/panneau/bubbles?search=%QUERY",queryWildcard:"%QUERY",addPlaceholder:"Rechercher pour ajouter...",removeButton:!1,addButton:!1,addButtonLabel:"Ajouter"}},render:function(){var e,t=this.renderBubbles(this.props.value||[]);this.props.label&&(e=s.createElement("label",{htmlFor:name,className:"control-label"},this.props.label));var n,a=this.props.ItemField,r="form-group form-group-list form-group-bubbles";if(this.props.addButton)n=s.createElement("div",{className:"well"},s.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.onClickAddButton},s.createElement("span",{className:"glyphicon glyphicon-plus"})," ",this.props.addButtonLabel));else{var l=(this.props.value||[]).length,i=_.bind(function(e){this.onBubbleChange(e,l)},this),p=this.props.name+"["+l+"]",u=this.props.addPlaceholder,c=_.omit(this.props,["name","value","addPlaceholder","label","ItemField","onChange"]);n=s.createElement(a,o({},c,{name:p,placeholder:u,onChange:i}))}return s.createElement("div",{className:r},e,s.createElement("div",{ref:"list",className:"list"},t),s.createElement("div",{className:"form-group-add"},n))},renderBubbles:function(e){return e.map(_.bind(this.renderBubble,this))},renderBubble:function(e,t){var n="bubble_"+t+"_"+e.id,a=_.bind(function(e){this.onBubbleChange(e,t)},this),r=this.props.name+"["+t+"]",l=this.props.ItemField,i=_.omit(this.props,["name","value","addPlaceholder","label","ItemField","onChange"]);if(this.props.removeButton){var p=_.bind(function(e){this.onClickRemoveButton(e,t)},this);return s.createElement("div",{className:"form-group-bubbles-item",key:n},s.createElement("div",{className:"input-group"},s.createElement("div",{className:"input-group-field"},s.createElement(l,o({},i,{name:r,value:e,onChange:a}))),s.createElement("div",{className:"input-group-btn"},s.createElement("button",{type:"button",className:"btn btn-default",onClick:p},s.createElement("span",{className:"glyphicon glyphicon-trash"})))))}return s.createElement(l,o({},i,{key:n,name:r,value:e,onChange:a}))},onClickAddButton:function(){var e=(this.props.value||[]).length;this.onBubbleChange({},e)},onClickRemoveButton:function(e,t){this.onBubbleChange(null,t)},onBubbleChange:function(e,t){var n=a.fromJS(this.props.value||[]),o=e?n.set(t,e):n["delete"](t);n!==o&&(e=o.toJS(),this.props.onChange&&this.props.onChange(e))},onSortableUpdate:function(e){this.props.onChange&&this.props.onChange(this.state.value)}});e.exports=i}]);
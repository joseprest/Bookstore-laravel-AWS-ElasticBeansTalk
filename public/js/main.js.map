{"version":3,"sources":["main.js","webpack:/webpack/bootstrap 70639fec940a21cefeec","webpack:///panneau.js","webpack:/external \"_\"","webpack:///components/DangerZone.react.js","webpack:/external \"React\"","webpack:/external \"ReactDOM\"","webpack:/external \"jQuery\"","webpack:///components/UserAvatar.react.js","webpack:/external \"Panneau\"","webpack:///requests/index.js","webpack:///requests/graphql.js","webpack:///Users/dmp/Code/manivelle/backend/~/promise/index.js","webpack:///Users/dmp/Code/manivelle/backend/~/promise/lib/index.js","webpack:///Users/dmp/Code/manivelle/backend/~/promise/lib/core.js","webpack:///Users/dmp/Code/manivelle/backend/~/asap/browser-raw.js","webpack:///Users/dmp/Code/manivelle/backend/~/promise/lib/done.js","webpack:///Users/dmp/Code/manivelle/backend/~/promise/lib/finally.js","webpack:///Users/dmp/Code/manivelle/backend/~/promise/lib/es6-extensions.js","webpack:///Users/dmp/Code/manivelle/backend/~/promise/lib/node-extensions.js","webpack:///Users/dmp/Code/manivelle/backend/~/asap/browser-asap.js","webpack:///Users/dmp/Code/manivelle/backend/~/promise/lib/synchronous.js","webpack:/external \"SuperagentPromise\"","webpack:/external \"Superagent\"","webpack:///requests/Bubbles.js","webpack:///requests/Fragments.js","webpack:///requests/Channels.js","webpack:///requests/Organisations.js","webpack:///requests/Playlists.js","webpack:///requests/Screens.js","webpack:///requests/Timeline.js","webpack:///requests/Users.js","webpack:///actions/index.js","webpack:///actions/ScreenActions.js","webpack:///actions/TeamActions.js","webpack:///actions/ChannelActions.js","webpack:///components/lists/index.js","webpack:///components/lists/Organisations.react.js","webpack:///components/items/Organisation.react.js","webpack:///components/lists/Channels.react.js","webpack:///components/items/Channel.react.js","webpack:///lib/url.js?e105","webpack:///lib/url.js","webpack:///components/items/ChannelAdd.react.js","webpack:///components/lists/Screens.react.js","webpack:///components/items/Screen.react.js","webpack:///components/items/ScreenAdd.react.js","webpack:///components/lists/Team.react.js","webpack:///components/items/TeamAdd.react.js","webpack:///components/items/Team.react.js","webpack:///components/lists/Bubbles.react.js","webpack:///components/items/Bubble.jsx","webpack:///components/snippets/index.js","webpack:///components/snippets/Bubble.jsx","webpack:///vendor/image.js","webpack:///components/snippets/Condition.jsx","webpack:///components/items/BubbleAdd.react.js","webpack:///components/lists/BubblesPlaylist.react.js","webpack:///actions/TimelineActions.js","webpack:///components/lists/BubblesChannel.react.js","webpack:/external \"Immutable\"","webpack:///components/lists/BubblesChannelFilters.react.js","webpack:///components/lists/Playlist.react.js","webpack:///components/items/PlaylistItem.react.js","webpack:///components/items/PlaylistItemAdd.react.js","webpack:///components/lists/Timeline.react.js","webpack:///components/items/index.js","webpack:///components/items/PlaylistBubble.react.js","webpack:///components/modals/index.js","webpack:///components/modals/ScreenLink.react.js","webpack:///mixins/SubForm.react.js","webpack:///components/modals/BubblesSelect.react.js","webpack:///components/BubblesSelector.react.js","webpack:///components/modals/ChannelAdd.react.js","webpack:///components/modals/ChannelSettings.react.js","webpack:///components/modals/Conditions.react.js","webpack:///components/modals/BubbleFormModal.jsx","webpack:///components/modals/FormModal.jsx","webpack:///components/modals/TeamInvite.react.js","webpack:///components/modals/TeamEdit.react.js","webpack:///components/fields/index.js","webpack:///components/fields/Location.react.js","webpack:///mixins/SubField.react.js","webpack:///components/fields/Position.react.js","webpack:///components/Map.react.js","webpack:///lib/gmap.js","webpack:///components/fields/Role.react.js","webpack:///components/fields/PasswordChange.react.js","webpack:///components/fields/Organisations.react.js","webpack:///components/fields/ScreenTechnical.react.js","webpack:///components/fields/ScreenResolution.react.js","webpack:///components/fields/Filters.react.js","webpack:///components/fields/Filter.react.js","webpack:///components/fields/FilterDate.react.js","webpack:///components/fields/FilterSelect.react.js","webpack:///components/fields/ConditionWeekdays.react.js","webpack:///components/fields/Weekdays.react.js","webpack:///components/fields/ConditionDateRange.react.js","webpack:///components/fields/ConditionTime.react.js","webpack:///main.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_","Panneau","Components","DangerZone","UserAvatar","Actions","extend","Lists","Items","Modals","Fields","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","React","ReactDOM","$","FormComponent","Form","Component","createClass","displayName","propTypes","form","PropTypes","object","isRequired","delete","bool","getDefaultProps","deleteTitle","deleteDescription","deleteConfirmation","buttons","className","type","label","getInitialState","opened","render","optionsStyle","display","this","state","toggleClassName","formProps","omit","props","deleteOptions","createElement","ref","style","onSubmit","onSubmitDelete","onClick","onClickToggle","componentDidUpdate","prevProps","prevState","findDOMNode","refs","options","e","preventDefault","setState","confirm","onDelete","jQuery","Requests","PictureField","Picture","user","value","get","uploadUrl","onChange","picture","Users","removeAvatar","then","bind","onPictureRemoved","updateAvatar","onPictureUpdated","avatar","graphql","Bubbles","Channels","Fragments","Organisations","Playlists","Screens","Timeline","buildArgs","params","types","queryArgs","objectArgs","each","v","k","isArray","push","join","query","Promise","agent","opts","argsTypes","fragments","match","args","replace","fragment","post","send","set","attr","end","response","body","errors","data","reject","noop","getThen","obj","ex","LAST_ERROR","IS_ERROR","tryCallOne","fn","a","tryCallTwo","b","TypeError","_45","_81","_65","_54","doResolve","safeThen","self","onFulfilled","onRejected","constructor","resolve","res","handle","Handler","deferred","_10","handleResolved","asap","cb","promise","ret","newValue","finale","_97","done","reason","_61","global","rawAsap","task","queue","requestFlush","flushing","flush","index","currentIndex","capacity","scan","newLength","makeRequestCallFromMutationObserver","callback","toggle","observer","BrowserMutationObserver","node","document","createTextNode","observe","characterData","makeRequestCallFromTimer","handleTimer","clearTimeout","timeoutHandle","clearInterval","intervalHandle","setTimeout","setInterval","MutationObserver","WebKitMutationObserver","apply","err","f","valuePromise","TRUE","FALSE","NULL","UNDEFINED","undefined","ZERO","EMPTYSTRING","all","arr","Array","slice","val","remaining","race","values","forEach","denodeifyWithCount","argumentCount","concat","callbackFn","Function","denodeifyWithoutCount","fnLength","Math","max","map","denodeify","Infinity","nodeify","pop","ctx","throwFirstError","pendingErrors","shift","rawTask","freeTasks","RawTask","requestErrorThrow","error","onerror","enableSynchronous","isPending","getState","isFulfilled","isRejected","getValue","Error","getReason","disableSynchronous","SuperagentPromise","Superagent","loadForChannel","channel","isObject","channel_id","page","paginationFields","bubbleFields","result","screenFields","userFields","invitationFields","timelineFields","channelFields","screenChannelFields","playlistItemFields","conditionFields","load","loadForScreen","screen","screen_id","linkScreen","auth_code","inviteUser","email","role_id","updateUser","user_id","removeUser","updateInvitation","invitation","invitation_id","removeInvitation","saveCondition","condition","condition_id","addBubblesWithCondition","playlist","bubbles","playlist_id","bubblesIds","bubble","bubble_ids","addFiltersWithCondition","filters","JSON","stringify","addBubbles","addFilters","removeItem","it","item_id","updateOrder","ids","addChannel","removeChannel","saveChannelSettings","settings","picture_id","ScreenActions","TeamActions","ChannelActions","FormActions","ModalActions","Modal","ResourceActions","Resource","request","authCode","dispatch","URL","route","updateErrors","addError","updateResource","closeModal","ListActions","List","addItem","Team","BubblesPlaylist","BubblesChannel","BubblesChannelFilters","Playlist","OrganisationItem","OrganisationsList","mixins","Mixins","items","renderListItems","getListItemComponent","name","link","href","ChannelItem","ChannelItemAdd","ChannelsList","channelsAdded","onAdd","onRemove","getListItemProps","onChannelChange","onChannelAdded","updateItem","onChannelRemoved","findIndex","title","imageStyle","backgroundImage","url","onModalClose","_routes","prefix","window","location","host","routes","ChannelAddItem","openModal","onModalAdd","onModalRemove","onClose","ScreenItem","ScreenAdd","ScreensList","addItemIfUnique","description","online","offline","infos","infosLabel","vendor","size","iconClassName","ScreenAddItem","element","onComplete","onModalComplete","TeamAdd","TeamItem","TeamList","canAdd","canEdit","itemProps","editable","onUpdate","onItemUpdate","onItemRemove","TeamAddItem","func","role","thumbnail","placement","BubbleItem","BubbleAdd","BubblesList","Paginator","Sortable","sortableOptions","model","filter","draggable","array","layout","string","addButton","bubblesSelectChannelsParams","checkedBubbles","onBubbleCheck","onBubbleClickAdd","onBubbleRemove","onOrderChange","emptyMessage","paginator","renderPaginator","currentItems","componentWillReceiveProps","nextProps","stateHasChanged","checked","find","onCheck","onClickAdd","onClickRemove","onBubbleClickRemove","onConditionChange","onBubbleConditionChange","addItems","onSortableUpdate","updateData","Snippets","BubbleSnippet","Bubble","ConditionSnippet","Condition","cols","renderColDrag","renderColSnippet","renderColConditions","renderColRemove","renderColCheckbox","colSize","colClassName","CheckboxField","Checkbox","onCheckboxChange","fields","hasCondition","onConditionEditClick","renderColActions","list","onConditionUpdated","tagName","split","subtitle","image","lines","text","img","src","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","Symbol","iterator","root","factory","width","height","parameter","URL_PARAMETER","PlaylistBubbleAddItem","channelsParams","TimelineActions","BubblesPlaylistList","number","bubblesToAdd","filtersToAdd","removeBubble","onBubbleRemoved","onBubbleAdded","playlist_item_id","onOrderUpdated","updateForScreen","timeline","Immutable","BubblesChannelList","filtersEnabled","onLoaded","onFiltersChange","paginatorBottom","fromJS","getParamsFromFilters","loading","renderLoading","filtersForm","toJS","filtersFields","bubbles_filters","renderFiltersForm","pagination","fieldsFilters","block","formData","formFields","onFieldChange","onFiltersFormFieldChange","countLabel","bubblesCount","total","last_page","perPage","per_page","currentPage","current_page","lastPage","interval","onClickPage","onPaginatorClickPage","onClickNext","onClickPrevious","queryHasChanged","reset","channelHasChanged","reloadBubbles","componentDidMount","channelId","prevChannelId","loadBubbles","onBubblesLoaded","hasParams","current","bubblesParams","onFiltersCheckboxChange","onBubblesFiltersChange","console","log","saveFilters","onSettingsSaved","currentTarget","currentValue","setIn","newChannel","PlaylistItem","PlaylistItemAdd","PlaylistList","onItemClickRemove","onItemConditionChange","onItemRemoved","onBubblesModalComplete","onItemAdded","onConditionModalComplete","TimeField","Time","currentTime","Date","getTime","time","cyclesCount","open","renderTimeline","pickerStyle","date","hours","getHours","minutes","getMinutes","timeValue","toggleIconClassName","timelineClassName","onToggleClick","htmlFor","onFilterChange","onTimeChange","cycles","currentCycle","cycleDuration","renderSeparator","getCurrentCycle","getCycleDuration","cycleStartTime","start","delta","position","floor","currentItem","getItemAtPosition","itemCurrentTime","ii","il","renderItem","duration","endTime","seconds","getSeconds","timeLabel","bubble_id","pictureLink","thumbnailStyle","backgroundSize","itemClassName","bindAll","clockInterval","onClockInterval","on","onResize","componentWillUnmount","off","$el","outerWidth","cycleWidth","$items","eq","is","ceil","timeParts","setHours","parseInt","setMinutes","setSeconds","newState","cl","cycle","startTime","currentPosition","Organisation","Channel","Screen","PlaylistBubble","PlaylistBubbleItem","ScreenLink","BubblesSelect","ChannelAdd","ChannelSettings","Conditions","BubbleForm","TeamInvite","TeamEdit","Popover","SubFormMixins","ScreenLinkModal","visible","formName","formErrors","other","Schema","formContainer","renderForm","onScreenLinked","onScreenLinkError","updateFormErrors","SubForm","token","querySelector","getAttribute","onFormFieldChange","errorsByField","message","merge","validation","matches","newErrors","newData","Relay","BubblesSelector","BubblesSelectModal","selectedBubbles","addSelectedButton","onAddSelectedClick","disabled","addFilterButtonProps","onAddFilterClick","addFilterButton","onOpen","onClickClose","aria-label","aria-hidden","onChannelLoaded","onBubblesChange","resizeList","$header","$footer","$children","$list","windowHeight","listHeight","outerHeight","css","onCompleteWithBubbles","onCompleteWithFilters","close","channels","onChannelsLoaded","loadingChannels","channelsMenu","renderChannels","bubblesList","onBubblesClickAdd","channelLoading","renderChannel","onChannelClick","loadChannels","ChannelAddModal","added","channelAdded","btnLabel","btnIcon","descriptionParagraph","componentWillMount","currentChannels","newChannels","BubblesChannelFiltersList","contextTypes","store","canAddBubbles","context","onAddModalComplete","onAddModalClose","ConditionsModal","filteredCondition","onClickSave","onConditionsSaved","FormModal","BubbleFormModal","bubbleType","formAction","formMethod","offsetX","offsetY","formSchema","method","action","onFormChange","toUpperCase","methodName","toLowerCase","$form","$inputs","_method","el","currentRequest","field","onFormComplete","onFormError","TeamInviteModal","onUserInvited","onUserInviteError","TeamEditModal","onUpdated","onUpdateError","onRemoved","onRemoveError","Location","Position","Role","PasswordChange","ScreenTechnical","ScreenResolution","Filters","Filter","FilterDate","FilterSelect","ConditionWeekdays","ConditionDateRange","ConditionTime","SubFieldMixin","PositionField","gmap","AddressField","withPosition","inputNumber","renderTextField","wrapperClassName","inputStreet","inputCity","inputPostalcode","positionValue","positionName","onPositionChange","checkAddress","debounce","street","address","city","postalcode","loadGMap","geocode","onGeocode","latLng","onSubFieldChange","latitude","lat","longitude","lng","mergeIn","TextField","Text","SubField","renderSubField","FieldComponent","wrapper","Map","inputLatitude","inputLongitude","radius","zoom","parseFloat","onMapPositionChange","onRadiusChange","onMapRadiusChange","round","marker","circle","apiKey","defaultLatitude","defaultLongitude","renderMap","center","getCenter","mapElement","google","maps","renderCircle","renderMarker","setMap","Marker","addListener","onMarkerDrag","onMarkerDragEnd","setRadius","Circle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","onCircleRadiusChanged","onCircleDrag","onCircleDragEnd","setCenter","setPosition","setZoom","getRadius","API_KEY","callbackName","script","getElementsByTagName","appendChild","geocoder","Geocoder","results","status","GeocoderStatus","OK","geometry","GOOGLE_API_KEY","RoleField","FieldErrors","select","renderSelect","formGroupClassName","renderErrors","selectProps","Select","PasswordField","Password","PasswordChangeField","update","passwordField","confirmationLabel","OrganisationsField","organisations","renderOrganisation","organisation","ScreenResolutionField","ScreenTechnicalField","fieldScreenResolution","fieldVendor","fieldModel","fieldSerialNumber","fieldSize","inputResolutionX","suffix","inputResolutionY","FilterField","FiltersField","renderFilters","lastIndex","isLast","renderFilter","onFilterClickRemove","filterName","filterValue","filterLabel","filtersMenu","renderFiltersMenu","filterFieldName","valueFieldName","filterFieldGroup","filterType","onFilterValueChange","data-toggle","aria-haspopup","aria-expanded","renderFiltersMenuItem","onFilterMenuClick","onValueChange","DateField","FilterDateField","DateRange","valueType","typeLabel","dateField","renderTypes","onDateChange","valueStart","valueEnd","onStartDateChange","onEndDateChange","renderType","onTypeClick","dateValue","SelectField","FilterSelectField","cloneDeep","unshift","onSelectChange","WeekdaysField","ConditionWeekdaysField","autoComplete","onCheckChange","CheckboxesField","Checkboxes","days","DateRangeField","ConditionDateRangeField","fieldValue","ConditionTimeField"],"mappings":"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","file":"main.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/js/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(1);\n\t__webpack_require__(98);\n\tmodule.exports = __webpack_require__(40);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ = __webpack_require__(2);\n\t\n\t//Panneau.Components.ModalsGroup.Component = require('./components/modals/ModalsGroup.react');\n\t\n\tPanneau.Components.DangerZone = __webpack_require__(3);\n\tPanneau.Components.UserAvatar = __webpack_require__(7);\n\t\n\t//Actions\n\tvar Actions = __webpack_require__(31);\n\tPanneau.Actions = _.extend(Panneau.Actions, Actions);\n\t\n\t//Lists\n\tvar Lists = __webpack_require__(35);\n\tPanneau.Components.Lists = _.extend(Panneau.Components.Lists, Lists);\n\t\n\t//Lists items\n\tvar Items = __webpack_require__(65);\n\tPanneau.Components.Lists.Items = _.extend(Panneau.Components.Lists.Items, Items);\n\t\n\t//Modals\n\tvar Modals = __webpack_require__(67);\n\tPanneau.Components.Modals = _.extend(Panneau.Components.Modals, Modals);\n\t\n\t//Fields\n\tvar Fields = __webpack_require__(79);\n\tPanneau.Components.Fields = _.extend(Panneau.Components.Fields, Fields);\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = _;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar ReactDOM = __webpack_require__(5);\n\tvar $ = __webpack_require__(6);\n\t\n\tvar FormComponent = Panneau.Components.Form.Component;\n\t\n\tvar DangerZone = React.createClass({\n\t    displayName: 'DangerZone',\n\t\n\t\n\t    propTypes: {\n\t        form: React.PropTypes.object.isRequired,\n\t        delete: React.PropTypes.bool\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            delete: true,\n\t            deleteTitle: 'Supprimer',\n\t            deleteDescription: '',\n\t            deleteConfirmation: 'Êtes-vous certain de vouloir supprimer cet item?',\n\t            form: {\n\t                buttons: [{\n\t                    'className': 'btn btn-danger',\n\t                    'type': 'submit',\n\t                    'label': 'Supprimer'\n\t                }]\n\t            }\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            opened: false\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t\n\t        var optionsStyle = {\n\t            display: 'none'\n\t        };\n\t        if (this.state.opened) {\n\t            optionsStyle.display = 'block';\n\t        }\n\t\n\t        var toggleClassName = 'glyphicon glyphicon-menu-down';\n\t        if (this.state.opened) {\n\t            toggleClassName = 'glyphicon glyphicon-menu-up';\n\t        }\n\t\n\t        var formProps = _.omit(this.props.form, ['errors', 'onSubmit']);\n\t\n\t        var deleteOptions = null;\n\t        if (this.props.delete) {\n\t            var deleteTitle = this.props.deleteTitle && this.props.deleteTitle.length ? React.createElement(\n\t                'h4',\n\t                null,\n\t                this.props.deleteTitle\n\t            ) : null;\n\t            var deleteDescription = this.props.deleteDescription && this.props.deleteDescription.length ? React.createElement(\n\t                'p',\n\t                null,\n\t                this.props.deleteDescription\n\t            ) : null;\n\t            deleteOptions = React.createElement(\n\t                'div',\n\t                { ref: 'options', className: 'options', style: optionsStyle },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'option' },\n\t                    deleteTitle,\n\t                    deleteDescription,\n\t                    React.createElement(FormComponent, _extends({}, formProps, { onSubmit: this.onSubmitDelete }))\n\t                )\n\t            );\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'danger-zone' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'toggle' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', onClick: this.onClickToggle },\n\t                    React.createElement('span', { className: 'glyphicon glyphicon-exclamation-sign' }),\n\t                    'Zone périlleuse ',\n\t                    React.createElement('span', { className: toggleClassName })\n\t                )\n\t            ),\n\t            deleteOptions\n\t        );\n\t    },\n\t\n\t    componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n\t        if (this.state.opened !== prevState.opened) {\n\t            var $options = $(ReactDOM.findDOMNode(this.refs.options));\n\t            if (this.state.opened) {} else {}\n\t        }\n\t    },\n\t\n\t    onClickToggle: function onClickToggle(e) {\n\t        e.preventDefault();\n\t\n\t        this.setState({\n\t            opened: !this.state.opened\n\t        });\n\t    },\n\t\n\t    onSubmitDelete: function onSubmitDelete(e) {\n\t        if (!confirm(this.props.deleteConfirmation)) {\n\t            e.preventDefault();\n\t        }\n\t\n\t        if (this.props.onDelete) {\n\t            this.props.onDelete(e);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = DangerZone;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = React;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactDOM;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar Panneau = __webpack_require__(8);\n\t\n\tvar Requests = __webpack_require__(9);\n\tvar PictureField = Panneau.Components.Fields.Picture;\n\t\n\tvar UserAvatar = React.createClass({\n\t    displayName: 'UserAvatar',\n\t\n\t\n\t    propTypes: {\n\t        user: React.PropTypes.object.isRequired\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            value: _.get(this.props, 'user.avatar')\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        return React.createElement(PictureField, { value: this.state.value, uploadUrl: '/upload/picture', onChange: this.onChange });\n\t    },\n\t\n\t    onChange: function onChange(picture) {\n\t        if (picture === null) {\n\t            Requests.Users.removeAvatar(this.props.user).then(_.bind(this.onPictureRemoved, this));\n\t        } else {\n\t            Requests.Users.updateAvatar(this.props.user, picture).then(_.bind(this.onPictureUpdated, this));\n\t        }\n\t    },\n\t\n\t    onPictureUpdated: function onPictureUpdated(user) {\n\t        this.setState({\n\t            value: user.avatar\n\t        });\n\t    },\n\t\n\t    onPictureRemoved: function onPictureRemoved() {\n\t        this.setState({\n\t            value: null\n\t        });\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = UserAvatar;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Panneau;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar graphql = __webpack_require__(10);\n\t\n\tvar Requests = {};\n\tRequests.graphql = graphql;\n\t\n\tRequests.Bubbles = __webpack_require__(23);\n\tRequests.Channels = __webpack_require__(25);\n\tRequests.Fragments = __webpack_require__(24);\n\tRequests.Organisations = __webpack_require__(26);\n\tRequests.Playlists = __webpack_require__(27);\n\tRequests.Screens = __webpack_require__(28);\n\tRequests.Timeline = __webpack_require__(29);\n\tRequests.Users = __webpack_require__(30);\n\t\n\tmodule.exports = Requests;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Promise = Promise || __webpack_require__(11);\n\tvar agent = __webpack_require__(21)(__webpack_require__(22), Promise);\n\tvar $ = __webpack_require__(6);\n\t\n\tfunction buildArgs(params, types) {\n\t    var queryArgs = [];\n\t    var objectArgs = [];\n\t    _.each(params, function (v, k) {\n\t        var type = _.get(types, k, _.isArray(v) ? '[String]' : 'String');\n\t        queryArgs.push('$' + k + ': ' + type);\n\t        objectArgs.push(k + ': $' + k);\n\t    });\n\t    queryArgs = queryArgs.length ? '(' + queryArgs.join(',') + ')' : '';\n\t    objectArgs = objectArgs.length ? '(' + objectArgs.join(',') + ')' : '';\n\t\n\t    return {\n\t        object: objectArgs,\n\t        query: queryArgs\n\t    };\n\t}\n\t\n\tmodule.exports = function (query, params, opts) {\n\t    opts = _.extend({\n\t        argsTypes: {},\n\t        fragments: []\n\t    }, opts);\n\t\n\t    if (typeof params === 'undefined') {\n\t        params = null;\n\t    }\n\t\n\t    if (query.match(/\\<(object|query)Args\\>/)) {\n\t        var args = buildArgs(params, opts.argsTypes);\n\t        query = query.replace(/\\<objectArgs\\>/g, args.object).replace(/\\<queryArgs\\>/g, args.query);\n\t    }\n\t\n\t    _.each(opts.fragments, function (fragment, key) {\n\t        query += fragment;\n\t    });\n\t\n\t    return agent.post('/graphql/query').send({\n\t        query: query,\n\t        params: params\n\t    }).set('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content')).set('Accept', 'application/json').end().then(function (response) {\n\t        if (response.body.errors || !response.body.data) {\n\t            return Promise.reject(response.body.errors);\n\t        }\n\t\n\t        return response.body.data;\n\t    });\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = __webpack_require__(12)\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = __webpack_require__(13);\n\t__webpack_require__(15);\n\t__webpack_require__(16);\n\t__webpack_require__(17);\n\t__webpack_require__(18);\n\t__webpack_require__(20);\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar asap = __webpack_require__(14);\n\t\n\tfunction noop() {}\n\t\n\t// States:\n\t//\n\t// 0 - pending\n\t// 1 - fulfilled with _value\n\t// 2 - rejected with _value\n\t// 3 - adopted the state of another promise, _value\n\t//\n\t// once the state is no longer pending (0) it is immutable\n\t\n\t// All `_` prefixed properties will be reduced to `_{random number}`\n\t// at build time to obfuscate them and discourage their use.\n\t// We don't use symbols or Object.defineProperty to fully hide them\n\t// because the performance isn't good enough.\n\t\n\t\n\t// to avoid using try/catch inside critical functions, we\n\t// extract them to here.\n\tvar LAST_ERROR = null;\n\tvar IS_ERROR = {};\n\tfunction getThen(obj) {\n\t  try {\n\t    return obj.then;\n\t  } catch (ex) {\n\t    LAST_ERROR = ex;\n\t    return IS_ERROR;\n\t  }\n\t}\n\t\n\tfunction tryCallOne(fn, a) {\n\t  try {\n\t    return fn(a);\n\t  } catch (ex) {\n\t    LAST_ERROR = ex;\n\t    return IS_ERROR;\n\t  }\n\t}\n\tfunction tryCallTwo(fn, a, b) {\n\t  try {\n\t    fn(a, b);\n\t  } catch (ex) {\n\t    LAST_ERROR = ex;\n\t    return IS_ERROR;\n\t  }\n\t}\n\t\n\tmodule.exports = Promise;\n\t\n\tfunction Promise(fn) {\n\t  if (typeof this !== 'object') {\n\t    throw new TypeError('Promises must be constructed via new');\n\t  }\n\t  if (typeof fn !== 'function') {\n\t    throw new TypeError('not a function');\n\t  }\n\t  this._45 = 0;\n\t  this._81 = 0;\n\t  this._65 = null;\n\t  this._54 = null;\n\t  if (fn === noop) return;\n\t  doResolve(fn, this);\n\t}\n\tPromise._10 = null;\n\tPromise._97 = null;\n\tPromise._61 = noop;\n\t\n\tPromise.prototype.then = function(onFulfilled, onRejected) {\n\t  if (this.constructor !== Promise) {\n\t    return safeThen(this, onFulfilled, onRejected);\n\t  }\n\t  var res = new Promise(noop);\n\t  handle(this, new Handler(onFulfilled, onRejected, res));\n\t  return res;\n\t};\n\t\n\tfunction safeThen(self, onFulfilled, onRejected) {\n\t  return new self.constructor(function (resolve, reject) {\n\t    var res = new Promise(noop);\n\t    res.then(resolve, reject);\n\t    handle(self, new Handler(onFulfilled, onRejected, res));\n\t  });\n\t};\n\tfunction handle(self, deferred) {\n\t  while (self._81 === 3) {\n\t    self = self._65;\n\t  }\n\t  if (Promise._10) {\n\t    Promise._10(self);\n\t  }\n\t  if (self._81 === 0) {\n\t    if (self._45 === 0) {\n\t      self._45 = 1;\n\t      self._54 = deferred;\n\t      return;\n\t    }\n\t    if (self._45 === 1) {\n\t      self._45 = 2;\n\t      self._54 = [self._54, deferred];\n\t      return;\n\t    }\n\t    self._54.push(deferred);\n\t    return;\n\t  }\n\t  handleResolved(self, deferred);\n\t}\n\t\n\tfunction handleResolved(self, deferred) {\n\t  asap(function() {\n\t    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;\n\t    if (cb === null) {\n\t      if (self._81 === 1) {\n\t        resolve(deferred.promise, self._65);\n\t      } else {\n\t        reject(deferred.promise, self._65);\n\t      }\n\t      return;\n\t    }\n\t    var ret = tryCallOne(cb, self._65);\n\t    if (ret === IS_ERROR) {\n\t      reject(deferred.promise, LAST_ERROR);\n\t    } else {\n\t      resolve(deferred.promise, ret);\n\t    }\n\t  });\n\t}\n\tfunction resolve(self, newValue) {\n\t  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n\t  if (newValue === self) {\n\t    return reject(\n\t      self,\n\t      new TypeError('A promise cannot be resolved with itself.')\n\t    );\n\t  }\n\t  if (\n\t    newValue &&\n\t    (typeof newValue === 'object' || typeof newValue === 'function')\n\t  ) {\n\t    var then = getThen(newValue);\n\t    if (then === IS_ERROR) {\n\t      return reject(self, LAST_ERROR);\n\t    }\n\t    if (\n\t      then === self.then &&\n\t      newValue instanceof Promise\n\t    ) {\n\t      self._81 = 3;\n\t      self._65 = newValue;\n\t      finale(self);\n\t      return;\n\t    } else if (typeof then === 'function') {\n\t      doResolve(then.bind(newValue), self);\n\t      return;\n\t    }\n\t  }\n\t  self._81 = 1;\n\t  self._65 = newValue;\n\t  finale(self);\n\t}\n\t\n\tfunction reject(self, newValue) {\n\t  self._81 = 2;\n\t  self._65 = newValue;\n\t  if (Promise._97) {\n\t    Promise._97(self, newValue);\n\t  }\n\t  finale(self);\n\t}\n\tfunction finale(self) {\n\t  if (self._45 === 1) {\n\t    handle(self, self._54);\n\t    self._54 = null;\n\t  }\n\t  if (self._45 === 2) {\n\t    for (var i = 0; i < self._54.length; i++) {\n\t      handle(self, self._54[i]);\n\t    }\n\t    self._54 = null;\n\t  }\n\t}\n\t\n\tfunction Handler(onFulfilled, onRejected, promise){\n\t  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n\t  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n\t  this.promise = promise;\n\t}\n\t\n\t/**\n\t * Take a potentially misbehaving resolver function and make sure\n\t * onFulfilled and onRejected are only called once.\n\t *\n\t * Makes no guarantees about asynchrony.\n\t */\n\tfunction doResolve(fn, promise) {\n\t  var done = false;\n\t  var res = tryCallTwo(fn, function (value) {\n\t    if (done) return;\n\t    done = true;\n\t    resolve(promise, value);\n\t  }, function (reason) {\n\t    if (done) return;\n\t    done = true;\n\t    reject(promise, reason);\n\t  })\n\t  if (!done && res === IS_ERROR) {\n\t    done = true;\n\t    reject(promise, LAST_ERROR);\n\t  }\n\t}\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\t\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tmodule.exports = rawAsap;\n\tfunction rawAsap(task) {\n\t    if (!queue.length) {\n\t        requestFlush();\n\t        flushing = true;\n\t    }\n\t    // Equivalent to push, but avoids a function call.\n\t    queue[queue.length] = task;\n\t}\n\t\n\tvar queue = [];\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\tvar flushing = false;\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tvar requestFlush;\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tvar index = 0;\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tvar capacity = 1024;\n\t\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tfunction flush() {\n\t    while (index < queue.length) {\n\t        var currentIndex = index;\n\t        // Advance the index before calling the task. This ensures that we will\n\t        // begin flushing on the next task the task throws an error.\n\t        index = index + 1;\n\t        queue[currentIndex].call();\n\t        // Prevent leaking memory for long chains of recursive calls to `asap`.\n\t        // If we call `asap` within tasks scheduled by `asap`, the queue will\n\t        // grow, but to avoid an O(n) walk for every task we execute, we don't\n\t        // shift tasks off the queue after they have been executed.\n\t        // Instead, we periodically shift 1024 tasks off the queue.\n\t        if (index > capacity) {\n\t            // Manually shift all values starting at the index back to the\n\t            // beginning of the queue.\n\t            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n\t                queue[scan] = queue[scan + index];\n\t            }\n\t            queue.length -= index;\n\t            index = 0;\n\t        }\n\t    }\n\t    queue.length = 0;\n\t    index = 0;\n\t    flushing = false;\n\t}\n\t\n\t// `requestFlush` is implemented using a strategy based on data collected from\n\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\n\t// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n\t// have WebKitMutationObserver but not un-prefixed MutationObserver.\n\t// Must use `global` instead of `window` to work in both frames and web\n\t// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\tvar BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\t\n\t// MutationObservers are desirable because they have high priority and work\n\t// reliably everywhere they are implemented.\n\t// They are implemented in all modern browsers.\n\t//\n\t// - Android 4-4.3\n\t// - Chrome 26-34\n\t// - Firefox 14-29\n\t// - Internet Explorer 11\n\t// - iPad Safari 6-7.1\n\t// - iPhone Safari 7-7.1\n\t// - Safari 6-7\n\tif (typeof BrowserMutationObserver === \"function\") {\n\t    requestFlush = makeRequestCallFromMutationObserver(flush);\n\t\n\t// MessageChannels are desirable because they give direct access to the HTML\n\t// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t// 11-12, and in web workers in many engines.\n\t// Although message channels yield to any queued rendering and IO tasks, they\n\t// would be better than imposing the 4ms delay of timers.\n\t// However, they do not work reliably in Internet Explorer or Safari.\n\t\n\t// Internet Explorer 10 is the only browser that has setImmediate but does\n\t// not have MutationObservers.\n\t// Although setImmediate yields to the browser's renderer, it would be\n\t// preferrable to falling back to setTimeout since it does not have\n\t// the minimum 4ms penalty.\n\t// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t// Desktop to a lesser extent) that renders both setImmediate and\n\t// MessageChannel useless for the purposes of ASAP.\n\t// https://github.com/kriskowal/q/issues/396\n\t\n\t// Timers are implemented universally.\n\t// We fall back to timers in workers in most engines, and in foreground\n\t// contexts in the following browsers.\n\t// However, note that even this simple case requires nuances to operate in a\n\t// broad spectrum of browsers.\n\t//\n\t// - Firefox 3-13\n\t// - Internet Explorer 6-9\n\t// - iPad Safari 4.3\n\t// - Lynx 2.8.7\n\t} else {\n\t    requestFlush = makeRequestCallFromTimer(flush);\n\t}\n\t\n\t// `requestFlush` requests that the high priority event queue be flushed as\n\t// soon as possible.\n\t// This is useful to prevent an error thrown in a task from stalling the event\n\t// queue if the exception handled by Node.js’s\n\t// `process.on(\"uncaughtException\")` or by a domain.\n\trawAsap.requestFlush = requestFlush;\n\t\n\t// To request a high priority event, we induce a mutation observer by toggling\n\t// the text of a text node between \"1\" and \"-1\".\n\tfunction makeRequestCallFromMutationObserver(callback) {\n\t    var toggle = 1;\n\t    var observer = new BrowserMutationObserver(callback);\n\t    var node = document.createTextNode(\"\");\n\t    observer.observe(node, {characterData: true});\n\t    return function requestCall() {\n\t        toggle = -toggle;\n\t        node.data = toggle;\n\t    };\n\t}\n\t\n\t// The message channel technique was discovered by Malte Ubl and was the\n\t// original foundation for this library.\n\t// http://www.nonblocking.io/2011/06/windownexttick.html\n\t\n\t// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n\t// page's first load. Thankfully, this version of Safari supports\n\t// MutationObservers, so we don't need to fall back in that case.\n\t\n\t// function makeRequestCallFromMessageChannel(callback) {\n\t//     var channel = new MessageChannel();\n\t//     channel.port1.onmessage = callback;\n\t//     return function requestCall() {\n\t//         channel.port2.postMessage(0);\n\t//     };\n\t// }\n\t\n\t// For reasons explained above, we are also unable to use `setImmediate`\n\t// under any circumstances.\n\t// Even if we were, there is another bug in Internet Explorer 10.\n\t// It is not sufficient to assign `setImmediate` to `requestFlush` because\n\t// `setImmediate` must be called *by name* and therefore must be wrapped in a\n\t// closure.\n\t// Never forget.\n\t\n\t// function makeRequestCallFromSetImmediate(callback) {\n\t//     return function requestCall() {\n\t//         setImmediate(callback);\n\t//     };\n\t// }\n\t\n\t// Safari 6.0 has a problem where timers will get lost while the user is\n\t// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n\t// mutation observers, so that implementation is used instead.\n\t// However, if we ever elect to use timers in Safari, the prevalent work-around\n\t// is to add a scroll event listener that calls for a flush.\n\t\n\t// `setTimeout` does not call the passed callback if the delay is less than\n\t// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n\t// even then.\n\t\n\tfunction makeRequestCallFromTimer(callback) {\n\t    return function requestCall() {\n\t        // We dispatch a timeout with a specified delay of 0 for engines that\n\t        // can reliably accommodate that request. This will usually be snapped\n\t        // to a 4 milisecond delay, but once we're flushing, there's no delay\n\t        // between events.\n\t        var timeoutHandle = setTimeout(handleTimer, 0);\n\t        // However, since this timer gets frequently dropped in Firefox\n\t        // workers, we enlist an interval handle that will try to fire\n\t        // an event 20 times per second until it succeeds.\n\t        var intervalHandle = setInterval(handleTimer, 50);\n\t\n\t        function handleTimer() {\n\t            // Whichever timer succeeds will cancel both timers and\n\t            // execute the callback.\n\t            clearTimeout(timeoutHandle);\n\t            clearInterval(intervalHandle);\n\t            callback();\n\t        }\n\t    };\n\t}\n\t\n\t// This is for `asap.js` only.\n\t// Its name will be periodically randomized to break any code that depends on\n\t// its existence.\n\trawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\t\n\t// ASAP was originally a nextTick shim included in Q. This was factored out\n\t// into this ASAP package. It was later adapted to RSVP which made further\n\t// amendments. These decisions, particularly to marginalize MessageChannel and\n\t// to capture the MutationObserver implementation in a closure, were integrated\n\t// back into ASAP proper.\n\t// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Promise = __webpack_require__(13);\n\t\n\tmodule.exports = Promise;\n\tPromise.prototype.done = function (onFulfilled, onRejected) {\n\t  var self = arguments.length ? this.then.apply(this, arguments) : this;\n\t  self.then(null, function (err) {\n\t    setTimeout(function () {\n\t      throw err;\n\t    }, 0);\n\t  });\n\t};\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Promise = __webpack_require__(13);\n\t\n\tmodule.exports = Promise;\n\tPromise.prototype['finally'] = function (f) {\n\t  return this.then(function (value) {\n\t    return Promise.resolve(f()).then(function () {\n\t      return value;\n\t    });\n\t  }, function (err) {\n\t    return Promise.resolve(f()).then(function () {\n\t      throw err;\n\t    });\n\t  });\n\t};\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t//This file contains the ES6 extensions to the core Promises/A+ API\n\t\n\tvar Promise = __webpack_require__(13);\n\t\n\tmodule.exports = Promise;\n\t\n\t/* Static Functions */\n\t\n\tvar TRUE = valuePromise(true);\n\tvar FALSE = valuePromise(false);\n\tvar NULL = valuePromise(null);\n\tvar UNDEFINED = valuePromise(undefined);\n\tvar ZERO = valuePromise(0);\n\tvar EMPTYSTRING = valuePromise('');\n\t\n\tfunction valuePromise(value) {\n\t  var p = new Promise(Promise._61);\n\t  p._81 = 1;\n\t  p._65 = value;\n\t  return p;\n\t}\n\tPromise.resolve = function (value) {\n\t  if (value instanceof Promise) return value;\n\t\n\t  if (value === null) return NULL;\n\t  if (value === undefined) return UNDEFINED;\n\t  if (value === true) return TRUE;\n\t  if (value === false) return FALSE;\n\t  if (value === 0) return ZERO;\n\t  if (value === '') return EMPTYSTRING;\n\t\n\t  if (typeof value === 'object' || typeof value === 'function') {\n\t    try {\n\t      var then = value.then;\n\t      if (typeof then === 'function') {\n\t        return new Promise(then.bind(value));\n\t      }\n\t    } catch (ex) {\n\t      return new Promise(function (resolve, reject) {\n\t        reject(ex);\n\t      });\n\t    }\n\t  }\n\t  return valuePromise(value);\n\t};\n\t\n\tPromise.all = function (arr) {\n\t  var args = Array.prototype.slice.call(arr);\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    if (args.length === 0) return resolve([]);\n\t    var remaining = args.length;\n\t    function res(i, val) {\n\t      if (val && (typeof val === 'object' || typeof val === 'function')) {\n\t        if (val instanceof Promise && val.then === Promise.prototype.then) {\n\t          while (val._81 === 3) {\n\t            val = val._65;\n\t          }\n\t          if (val._81 === 1) return res(i, val._65);\n\t          if (val._81 === 2) reject(val._65);\n\t          val.then(function (val) {\n\t            res(i, val);\n\t          }, reject);\n\t          return;\n\t        } else {\n\t          var then = val.then;\n\t          if (typeof then === 'function') {\n\t            var p = new Promise(then.bind(val));\n\t            p.then(function (val) {\n\t              res(i, val);\n\t            }, reject);\n\t            return;\n\t          }\n\t        }\n\t      }\n\t      args[i] = val;\n\t      if (--remaining === 0) {\n\t        resolve(args);\n\t      }\n\t    }\n\t    for (var i = 0; i < args.length; i++) {\n\t      res(i, args[i]);\n\t    }\n\t  });\n\t};\n\t\n\tPromise.reject = function (value) {\n\t  return new Promise(function (resolve, reject) {\n\t    reject(value);\n\t  });\n\t};\n\t\n\tPromise.race = function (values) {\n\t  return new Promise(function (resolve, reject) {\n\t    values.forEach(function(value){\n\t      Promise.resolve(value).then(resolve, reject);\n\t    });\n\t  });\n\t};\n\t\n\t/* Prototype Methods */\n\t\n\tPromise.prototype['catch'] = function (onRejected) {\n\t  return this.then(null, onRejected);\n\t};\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// This file contains then/promise specific extensions that are only useful\n\t// for node.js interop\n\t\n\tvar Promise = __webpack_require__(13);\n\tvar asap = __webpack_require__(19);\n\t\n\tmodule.exports = Promise;\n\t\n\t/* Static Functions */\n\t\n\tPromise.denodeify = function (fn, argumentCount) {\n\t  if (\n\t    typeof argumentCount === 'number' && argumentCount !== Infinity\n\t  ) {\n\t    return denodeifyWithCount(fn, argumentCount);\n\t  } else {\n\t    return denodeifyWithoutCount(fn);\n\t  }\n\t}\n\t\n\tvar callbackFn = (\n\t  'function (err, res) {' +\n\t  'if (err) { rj(err); } else { rs(res); }' +\n\t  '}'\n\t);\n\tfunction denodeifyWithCount(fn, argumentCount) {\n\t  var args = [];\n\t  for (var i = 0; i < argumentCount; i++) {\n\t    args.push('a' + i);\n\t  }\n\t  var body = [\n\t    'return function (' + args.join(',') + ') {',\n\t    'var self = this;',\n\t    'return new Promise(function (rs, rj) {',\n\t    'var res = fn.call(',\n\t    ['self'].concat(args).concat([callbackFn]).join(','),\n\t    ');',\n\t    'if (res &&',\n\t    '(typeof res === \"object\" || typeof res === \"function\") &&',\n\t    'typeof res.then === \"function\"',\n\t    ') {rs(res);}',\n\t    '});',\n\t    '};'\n\t  ].join('');\n\t  return Function(['Promise', 'fn'], body)(Promise, fn);\n\t}\n\tfunction denodeifyWithoutCount(fn) {\n\t  var fnLength = Math.max(fn.length - 1, 3);\n\t  var args = [];\n\t  for (var i = 0; i < fnLength; i++) {\n\t    args.push('a' + i);\n\t  }\n\t  var body = [\n\t    'return function (' + args.join(',') + ') {',\n\t    'var self = this;',\n\t    'var args;',\n\t    'var argLength = arguments.length;',\n\t    'if (arguments.length > ' + fnLength + ') {',\n\t    'args = new Array(arguments.length + 1);',\n\t    'for (var i = 0; i < arguments.length; i++) {',\n\t    'args[i] = arguments[i];',\n\t    '}',\n\t    '}',\n\t    'return new Promise(function (rs, rj) {',\n\t    'var cb = ' + callbackFn + ';',\n\t    'var res;',\n\t    'switch (argLength) {',\n\t    args.concat(['extra']).map(function (_, index) {\n\t      return (\n\t        'case ' + (index) + ':' +\n\t        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n\t        'break;'\n\t      );\n\t    }).join(''),\n\t    'default:',\n\t    'args[argLength] = cb;',\n\t    'res = fn.apply(self, args);',\n\t    '}',\n\t    \n\t    'if (res &&',\n\t    '(typeof res === \"object\" || typeof res === \"function\") &&',\n\t    'typeof res.then === \"function\"',\n\t    ') {rs(res);}',\n\t    '});',\n\t    '};'\n\t  ].join('');\n\t\n\t  return Function(\n\t    ['Promise', 'fn'],\n\t    body\n\t  )(Promise, fn);\n\t}\n\t\n\tPromise.nodeify = function (fn) {\n\t  return function () {\n\t    var args = Array.prototype.slice.call(arguments);\n\t    var callback =\n\t      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n\t    var ctx = this;\n\t    try {\n\t      return fn.apply(this, arguments).nodeify(callback, ctx);\n\t    } catch (ex) {\n\t      if (callback === null || typeof callback == 'undefined') {\n\t        return new Promise(function (resolve, reject) {\n\t          reject(ex);\n\t        });\n\t      } else {\n\t        asap(function () {\n\t          callback.call(ctx, ex);\n\t        })\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tPromise.prototype.nodeify = function (callback, ctx) {\n\t  if (typeof callback != 'function') return this;\n\t\n\t  this.then(function (value) {\n\t    asap(function () {\n\t      callback.call(ctx, null, value);\n\t    });\n\t  }, function (err) {\n\t    asap(function () {\n\t      callback.call(ctx, err);\n\t    });\n\t  });\n\t}\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t// rawAsap provides everything we need except exception management.\n\tvar rawAsap = __webpack_require__(14);\n\t// RawTasks are recycled to reduce GC churn.\n\tvar freeTasks = [];\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tvar pendingErrors = [];\n\tvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\t\n\tfunction throwFirstError() {\n\t    if (pendingErrors.length) {\n\t        throw pendingErrors.shift();\n\t    }\n\t}\n\t\n\t/**\n\t * Calls a task as soon as possible after returning, in its own event, with priority\n\t * over other events like animation, reflow, and repaint. An error thrown from an\n\t * event will not interrupt, nor even substantially slow down the processing of\n\t * other events, but will be rather postponed to a lower priority event.\n\t * @param {{call}} task A callable object, typically a function that takes no\n\t * arguments.\n\t */\n\tmodule.exports = asap;\n\tfunction asap(task) {\n\t    var rawTask;\n\t    if (freeTasks.length) {\n\t        rawTask = freeTasks.pop();\n\t    } else {\n\t        rawTask = new RawTask();\n\t    }\n\t    rawTask.task = task;\n\t    rawAsap(rawTask);\n\t}\n\t\n\t// We wrap tasks with recyclable task objects.  A task object implements\n\t// `call`, just like a function.\n\tfunction RawTask() {\n\t    this.task = null;\n\t}\n\t\n\t// The sole purpose of wrapping the task is to catch the exception and recycle\n\t// the task object after its single use.\n\tRawTask.prototype.call = function () {\n\t    try {\n\t        this.task.call();\n\t    } catch (error) {\n\t        if (asap.onerror) {\n\t            // This hook exists purely for testing purposes.\n\t            // Its name will be periodically randomized to break any code that\n\t            // depends on its existence.\n\t            asap.onerror(error);\n\t        } else {\n\t            // In a web browser, exceptions are not fatal. However, to avoid\n\t            // slowing down the queue of pending tasks, we rethrow the error in a\n\t            // lower priority turn.\n\t            pendingErrors.push(error);\n\t            requestErrorThrow();\n\t        }\n\t    } finally {\n\t        this.task = null;\n\t        freeTasks[freeTasks.length] = this;\n\t    }\n\t};\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar Promise = __webpack_require__(13);\n\t\n\tmodule.exports = Promise;\n\tPromise.enableSynchronous = function () {\n\t  Promise.prototype.isPending = function() {\n\t    return this.getState() == 0;\n\t  };\n\t\n\t  Promise.prototype.isFulfilled = function() {\n\t    return this.getState() == 1;\n\t  };\n\t\n\t  Promise.prototype.isRejected = function() {\n\t    return this.getState() == 2;\n\t  };\n\t\n\t  Promise.prototype.getValue = function () {\n\t    if (this._81 === 3) {\n\t      return this._65.getValue();\n\t    }\n\t\n\t    if (!this.isFulfilled()) {\n\t      throw new Error('Cannot get a value of an unfulfilled promise.');\n\t    }\n\t\n\t    return this._65;\n\t  };\n\t\n\t  Promise.prototype.getReason = function () {\n\t    if (this._81 === 3) {\n\t      return this._65.getReason();\n\t    }\n\t\n\t    if (!this.isRejected()) {\n\t      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n\t    }\n\t\n\t    return this._65;\n\t  };\n\t\n\t  Promise.prototype.getState = function () {\n\t    if (this._81 === 3) {\n\t      return this._65.getState();\n\t    }\n\t    if (this._81 === -1 || this._81 === -2) {\n\t      return 0;\n\t    }\n\t\n\t    return this._81;\n\t  };\n\t};\n\t\n\tPromise.disableSynchronous = function() {\n\t  Promise.prototype.isPending = undefined;\n\t  Promise.prototype.isFulfilled = undefined;\n\t  Promise.prototype.isRejected = undefined;\n\t  Promise.prototype.getValue = undefined;\n\t  Promise.prototype.getReason = undefined;\n\t  Promise.prototype.getState = undefined;\n\t};\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\tmodule.exports = SuperagentPromise;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Superagent;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar graphql = __webpack_require__(10);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar Fragments = __webpack_require__(24);\n\t\n\tmodule.exports = {\n\t\n\t    loadForChannel: function loadForChannel(channel, params) {\n\t        var id = _.isObject(channel) ? channel.id : channel;\n\t        if (typeof params === 'undefined' || !params) {\n\t            params = {};\n\t        }\n\t        params.channel_id = id;\n\t\n\t        return graphql('\\n            query Query<queryArgs>{\\n                data: bubblesPaginated<objectArgs>\\n                {\\n                    pagination {\\n                        ...paginationFields\\n                    }\\n                    items {\\n                        ...bubbleFields\\n                    }\\n                }\\n            }\\n        ', params, {\n\t            argsTypes: {\n\t                page: 'Int'\n\t            },\n\t            fragments: [Fragments.paginationFields, Fragments.bubbleFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    }\n\t\n\t};\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t\n\t    'paginationFields': '\\n        fragment paginationFields on Pagination {\\n            total\\n            per_page\\n            current_page\\n            last_page\\n            from\\n            to\\n        }\\n    ',\n\t\n\t    'screenFields': '\\n        fragment screenFields on Screen {\\n            id\\n            snippet {\\n                title\\n        \\t\\tsubtitle\\n        \\t\\tdescription\\n        \\t\\tpicture {\\n        \\t\\t\\tlink\\n        \\t\\t}\\n            }\\n        }\\n    ',\n\t\n\t    'userFields': '\\n        fragment userFields on User {\\n            id\\n            name\\n            email\\n            role {\\n                id\\n                name\\n            }\\n            avatar {\\n                width\\n                height\\n                link\\n            }\\n        }\\n    ',\n\t\n\t    'invitationFields': '\\n        fragment invitationFields on OrganisationInvitation {\\n            id\\n            name\\n            email\\n            role {\\n                id\\n                name\\n            }\\n        }\\n    ',\n\t\n\t    'timelineFields': '\\n        fragment timelineFields on Timeline {\\n            bubbles {\\n                ...bubbleFields\\n            }\\n            cycles {\\n                start\\n                end\\n                items {\\n                    id\\n                    bubble_id\\n                    duration\\n                }\\n            }\\n        }\\n    ',\n\t\n\t    'channelFields': '\\n        fragment channelFields on Channel {\\n        \\tid\\n        \\tsnippet {\\n        \\t\\ttitle\\n        \\t\\tsubtitle\\n        \\t\\tdescription\\n        \\t\\tpicture {\\n        \\t\\t\\tlink\\n        \\t\\t}\\n        \\t}\\n        \\t\\n        \\tbubbles_filters {\\n        \\t\\tname\\n        \\t\\ttype\\n        \\t\\tlabel\\n        \\t\\t\\n        \\t\\t... on ChannelBubbleFilterSelect {\\n        \\t\\t\\tvalues {\\n        \\t\\t\\t\\tvalue\\n        \\t\\t\\t\\tlabel\\n        \\t\\t\\t}\\n        \\t\\t}\\n        \\t\\t\\n        \\t}\\n        }\\n    ',\n\t\n\t    'screenChannelFields': '\\n        fragment screenChannelFields on Channel {\\n            screen_settings {\\n                filters {\\n                    name\\n                    value\\n                }\\n            }\\n        }\\n    ',\n\t\n\t    'bubbleFields': '\\n        fragment bubbleFields on Bubble {\\n            id\\n            type\\n            snippet {\\n                title\\n                subtitle\\n                description\\n                picture {\\n                    width\\n                    height\\n                    link\\n                }\\n                picture_thumbnail: picture(filter: \"thumbnail_snippet\") {\\n                    width\\n                    height\\n                    link\\n                }\\n            }\\n        }\\n    ',\n\t\n\t    'playlistItemFields': '\\n        fragment playlistItemFields on PlaylistItem {\\n            id\\n            order\\n            bubble {\\n                ...bubbleFields\\n            }\\n            condition {\\n                ...conditionFields\\n            }\\n        }\\n    ',\n\t\n\t    'conditionFields': '\\n        fragment conditionFields on Condition {\\n            id\\n            name\\n            snippet {\\n                title\\n                subtitle\\n                description\\n            }\\n\\t\\n        \\tfields {\\n        \\t\\tdays\\n        \\t\\tdaterange\\n        \\t\\tdate\\n        \\t\\ttime\\n        \\t}\\n        }\\n    '\n\t\n\t};\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar graphql = __webpack_require__(10);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar Fragments = __webpack_require__(24);\n\t\n\tmodule.exports = {\n\t\n\t    load: function load(params) {\n\t        return graphql('\\n            query Query<queryArgs>{\\n                data: channels<objectArgs>\\n                {\\n                    ...channelFields\\n                }\\n            }\\n        ', params, {\n\t            fragments: [Fragments.channelFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    loadForScreen: function loadForScreen(screen) {\n\t        var screen_id = _.isObject(screen) ? _.get(screen, 'id') : screen;\n\t        return this.load({\n\t            screen_id: screen_id\n\t        });\n\t    }\n\t\n\t};\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar graphql = __webpack_require__(10);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar Fragments = __webpack_require__(24);\n\t\n\tmodule.exports = {\n\t\n\t    linkScreen: function linkScreen(auth_code) {\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: organisationLinkScreen<objectArgs>\\n                    {\\n                        ...screenFields\\n                    }\\n                }\\n            ', {\n\t            auth_code: auth_code\n\t        }, {\n\t            fragments: [Fragments.screenFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    inviteUser: function inviteUser(email, role_id) {\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: organisationInviteUser<objectArgs>\\n                    {\\n                        ...invitationFields\\n                    }\\n                }\\n            ', {\n\t            email: email,\n\t            role_id: role_id\n\t        }, {\n\t            fragments: [Fragments.invitationFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    updateUser: function updateUser(user, role_id) {\n\t        var user_id = _.isObject(user) ? _.get(user, 'id') : user;\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: organisationUpdateUser<objectArgs>\\n                    {\\n                        ...userFields\\n                    }\\n                }\\n            ', {\n\t            user_id: user_id,\n\t            role_id: role_id\n\t        }, {\n\t            fragments: [Fragments.userFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    removeUser: function removeUser(user) {\n\t        var user_id = _.isObject(user) ? _.get(user, 'id') : user;\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: organisationRemoveUser<objectArgs>\\n                    {\\n                        ...userFields\\n                    }\\n                }\\n            ', {\n\t            user_id: user_id\n\t        }, {\n\t            fragments: [Fragments.userFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    updateInvitation: function updateInvitation(invitation, role_id) {\n\t        var invitation_id = _.isObject(invitation) ? _.get(invitation, 'id') : invitation;\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: organisationUpdateInvitation<objectArgs>\\n                    {\\n                        ...invitationFields\\n                    }\\n                }\\n            ', {\n\t            invitation_id: invitation_id,\n\t            role_id: role_id\n\t        }, {\n\t            fragments: [Fragments.invitationFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    removeInvitation: function removeInvitation(invitation) {\n\t        var invitation_id = _.isObject(invitation) ? _.get(invitation, 'id') : invitation;\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: organisationRemoveInvitation<objectArgs>\\n                    {\\n                        ...invitationFields\\n                    }\\n                }\\n            ', {\n\t            invitation_id: invitation_id\n\t        }, {\n\t            fragments: [Fragments.invitationFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    }\n\t\n\t};\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar graphql = __webpack_require__(10);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar Fragments = __webpack_require__(24);\n\t\n\tmodule.exports = {\n\t\n\t    saveCondition: function saveCondition(condition, id) {\n\t        var params = _.extend(id ? {\n\t            condition_id: id\n\t        } : {}, condition);\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    saveCondition<objectArgs>\\n                    {\\n                        ...conditionFields\\n                    }\\n                }\\n            ', params, {\n\t            fragments: [Fragments.conditionFields]\n\t        }).then(function (result) {\n\t            return result.saveCondition;\n\t        });\n\t    },\n\t\n\t    addBubblesWithCondition: function addBubblesWithCondition(playlist, bubbles, condition) {\n\t        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id') : playlist;\n\t        var condition_id = _.isObject(condition) ? _.get(condition, 'id') : condition;\n\t\n\t        var bubblesIds = _.map(bubbles, function (bubble) {\n\t            return bubble.id + '';\n\t        });\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: playlistAddBubbles<objectArgs>\\n                    {\\n                        ...playlistItemFields\\n                    }\\n                }\\n            ', {\n\t            playlist_id: playlist_id + '',\n\t            bubble_ids: bubblesIds,\n\t            condition_id: condition_id + ''\n\t        }, {\n\t            argsTypes: {\n\t                playlist_id: 'String',\n\t                bubble_ids: '[String]',\n\t                condition_id: 'String'\n\t            },\n\t            fragments: [Fragments.playlistItemFields, Fragments.bubbleFields, Fragments.conditionFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    addFiltersWithCondition: function addFiltersWithCondition(playlist, filters, condition) {\n\t        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id') : playlist;\n\t        var condition_id = _.isObject(condition) ? _.get(condition, 'id') : condition;\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: playlistAddFilters<objectArgs>\\n                    {\\n                        ...playlistItemFields\\n                    }\\n                }\\n            ', {\n\t            playlist_id: playlist_id + '',\n\t            filters: JSON.stringify(filters),\n\t            condition_id: condition_id + ''\n\t        }, {\n\t            argsTypes: {\n\t                playlist_id: 'String',\n\t                filters: 'String',\n\t                condition_id: 'String'\n\t            },\n\t            fragments: [Fragments.playlistItemFields, Fragments.bubbleFields, Fragments.conditionFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    addBubbles: function addBubbles(playlist, bubbles) {\n\t        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id') : playlist;\n\t\n\t        var bubblesIds = _.map(bubbles, function (bubble) {\n\t            return bubble.id + '';\n\t        });\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: playlistAddBubbles<objectArgs>\\n                    {\\n                        ...playlistItemFields\\n                    }\\n                }\\n            ', {\n\t            playlist_id: playlist_id + '',\n\t            bubble_ids: bubblesIds\n\t        }, {\n\t            argsTypes: {\n\t                playlist_id: 'String',\n\t                bubble_ids: '[String]'\n\t            },\n\t            fragments: [Fragments.playlistItemFields, Fragments.bubbleFields, Fragments.conditionFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    addFilters: function addFilters(playlist, filters) {\n\t        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id') : playlist;\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: playlistAddFilters<objectArgs>\\n                    {\\n                        ...playlistItemFields\\n                    }\\n                }\\n            ', {\n\t            playlist_id: playlist_id + '',\n\t            filters: JSON.stringify(filters)\n\t        }, {\n\t            argsTypes: {\n\t                playlist_id: 'String',\n\t                filters: 'String',\n\t                condition_id: 'String'\n\t            },\n\t            fragments: [Fragments.playlistItemFields, Fragments.bubbleFields, Fragments.conditionFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    removeItem: function removeItem(playlist, it) {\n\t        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id') : playlist;\n\t        var item_id = _.isObject(it) ? _.get(it, 'id') : it;\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: playlistRemoveBubble<objectArgs>\\n                    {\\n                        ...playlistItemFields\\n                    }\\n                }\\n            ', {\n\t            playlist_id: playlist_id + '',\n\t            item_id: item_id\n\t        }, {\n\t            argsTypes: {\n\t                playlist_id: 'String',\n\t                item_id: 'String'\n\t            },\n\t            fragments: [Fragments.playlistItemFields, Fragments.bubbleFields, Fragments.conditionFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    updateOrder: function updateOrder(playlist, ids) {\n\t        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id') : playlist;\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: playlistUpdateOrder<objectArgs>\\n                    {\\n                        ...playlistItemFields\\n                    }\\n                }\\n            ', {\n\t            playlist_id: playlist_id + '',\n\t            ids: ids\n\t        }, {\n\t            argsTypes: {\n\t                playlist_id: 'String',\n\t                ids: '[Int]'\n\t            },\n\t            fragments: [Fragments.playlistItemFields, Fragments.bubbleFields, Fragments.conditionFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    }\n\t};\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar graphql = __webpack_require__(10);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar Fragments = __webpack_require__(24);\n\t\n\tmodule.exports = {\n\t\n\t    addChannel: function addChannel(screen, channel) {\n\t        var screen_id = _.isObject(screen) ? _.get(screen, 'id') : screen;\n\t        var channel_id = _.isObject(channel) ? _.get(channel, 'id') : channel;\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: screenAddChannel<objectArgs>\\n                    {\\n                        ...channelFields\\n                    }\\n                }\\n            ', {\n\t            channel_id: channel_id,\n\t            screen_id: screen_id\n\t        }, {\n\t            argsTypes: {\n\t                screen_id: 'String!',\n\t                channel_id: 'String!'\n\t            },\n\t            fragments: [Fragments.channelFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    removeChannel: function removeChannel(screen, channel) {\n\t        var screen_id = _.isObject(screen) ? _.get(screen, 'id') : screen;\n\t        var channel_id = _.isObject(channel) ? _.get(channel, 'id') : channel;\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: screenRemoveChannel<objectArgs>\\n                    {\\n                        ...channelFields\\n                    }\\n                }\\n            ', {\n\t            channel_id: channel_id,\n\t            screen_id: screen_id\n\t        }, {\n\t            argsTypes: {\n\t                screen_id: 'String!',\n\t                channel_id: 'String!'\n\t            },\n\t            fragments: [Fragments.channelFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    saveChannelSettings: function saveChannelSettings(screen, channel, settings) {\n\t        var screen_id = _.isObject(screen) ? _.get(screen, 'id') : screen;\n\t        var channel_id = _.isObject(channel) ? _.get(channel, 'id') : channel;\n\t\n\t        var params = {\n\t            screen_id: screen_id,\n\t            channel_id: channel_id,\n\t            settings: JSON.stringify(settings)\n\t        };\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: screenSaveChannelSettings<objectArgs>\\n                    {\\n                        ...screenChannelFields\\n                    }\\n                }\\n            ', params, {\n\t            argsTypes: {\n\t                screen_id: 'String!',\n\t                channel_id: 'String!',\n\t                settings: 'String'\n\t            },\n\t            fragments: [Fragments.screenChannelFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    }\n\t\n\t};\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar graphql = __webpack_require__(10);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar Fragments = __webpack_require__(24);\n\t\n\tmodule.exports = {\n\t\n\t    loadForScreen: function loadForScreen(screen_id) {\n\t        return graphql('\\n                query QueryTimeline<queryArgs>{\\n                    data: timeline<objectArgs>\\n                    {\\n                        ...timelineFields\\n                    }\\n                }\\n            ', {\n\t            screen_id: screen_id + ''\n\t        }, {\n\t            argsTypes: {\n\t                screen_id: 'String!'\n\t            },\n\t            fragments: [Fragments.timelineFields, Fragments.bubbleFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    }\n\t\n\t};\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar graphql = __webpack_require__(10);\n\tvar _ = __webpack_require__(2);\n\tvar Fragments = __webpack_require__(24);\n\t\n\tmodule.exports = {\n\t\n\t    updateAvatar: function updateAvatar(user, picture) {\n\t        var user_id = _.isObject(user) ? _.get(user, 'id') : user;\n\t        var picture_id = _.isObject(picture) ? _.get(picture, 'id') : picture;\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: userUpdateAvatar<objectArgs>\\n                    {\\n                        ...userFields\\n                    }\\n                }\\n            ', {\n\t            user_id: user_id + '',\n\t            picture_id: picture_id + ''\n\t        }, {\n\t            argsTypes: {\n\t                user_id: 'String',\n\t                picture_id: 'String'\n\t            },\n\t            fragments: [Fragments.userFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    },\n\t\n\t    removeAvatar: function removeAvatar(user) {\n\t        var user_id = _.isObject(user) ? _.get(user, 'id') : user;\n\t\n\t        return graphql('\\n                mutation Mutation<queryArgs>{\\n                    data: userRemoveAvatar<objectArgs>\\n                    {\\n                        ...userFields\\n                    }\\n                }\\n            ', {\n\t            user_id: user_id + ''\n\t        }, {\n\t            argsTypes: {\n\t                user_id: 'String'\n\t            },\n\t            fragments: [Fragments.userFields]\n\t        }).then(function (result) {\n\t            return result.data;\n\t        });\n\t    }\n\t\n\t};\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t    'ScreenActions': __webpack_require__(32),\n\t    'TeamActions': __webpack_require__(33),\n\t    'ChannelActions': __webpack_require__(34)\n\t};\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar FormActions = Panneau.Actions.Form;\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar ResourceActions = Panneau.Actions.Resource;\n\t\n\tvar request = __webpack_require__(22);\n\tvar $ = __webpack_require__(6);\n\t\n\tmodule.exports = {\n\t\n\t    linkScreen: function linkScreen(authCode, form) {\n\t        return function (dispatch) {\n\t            request.post(URL.route('organisation.screens.link')).send({\n\t                'auth_code': authCode\n\t            }).set('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content')).set('Accept', 'application/json').end(function (err, response) {\n\t                if (err) {\n\t\n\t                    if (response && response.body) {\n\t                        dispatch(FormActions.updateErrors(response.body, form || 'organisation.screens.link'));\n\t                    } else {\n\t                        dispatch(FormActions.addError('auth_code', 'error', form || 'organisation.screens.link'));\n\t                    }\n\t\n\t                    return;\n\t                }\n\t\n\t                var screen = response.body;\n\t\n\t                dispatch(ResourceActions.updateResource('screens', screen.id, screen));\n\t                //dispatch(ResourceActions.updateResource('organisations', organisation.id, 'screen_ids', 1));\n\t                dispatch(ModalActions.closeModal());\n\t\n\t                return;\n\t            });\n\t        };\n\t    }\n\t\n\t};\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar FormActions = Panneau.Actions.Form;\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar ListActions = Panneau.Actions.List;\n\t\n\tvar request = __webpack_require__(22);\n\tvar $ = __webpack_require__(6);\n\t\n\tmodule.exports = {\n\t\n\t    linkScreen: function linkScreen(authCode, form) {\n\t        return function (dispatch) {\n\t            request.post(URL.route('organisation.screens.link')).send({\n\t                'auth_code': authCode\n\t            }).set('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content')).set('Accept', 'application/json').end(function (err, response) {\n\t                if (err) {\n\t\n\t                    if (response && response.body) {\n\t                        dispatch(FormActions.updateErrors(response.body, form || 'organisation.screen'));\n\t                    } else {\n\t                        dispatch(FormActions.addError('auth_code', 'error', form || 'organisation.screen'));\n\t                    }\n\t\n\t                    return;\n\t                }\n\t\n\t                dispatch(ListActions.addItem(response.body, 'organisation.screens'));\n\t                dispatch(ModalActions.closeModal());\n\t\n\t                return;\n\t            });\n\t        };\n\t    }\n\t\n\t};\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar FormActions = Panneau.Actions.Form;\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar ListActions = Panneau.Actions.List;\n\t\n\tvar request = __webpack_require__(22);\n\tvar $ = __webpack_require__(6);\n\t\n\tmodule.exports = {};\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t    'Organisations': __webpack_require__(36),\n\t    'Channels': __webpack_require__(38),\n\t    'Screens': __webpack_require__(43),\n\t    'Team': __webpack_require__(46),\n\t    'Bubbles': __webpack_require__(49),\n\t    'BubblesPlaylist': __webpack_require__(56),\n\t    'BubblesChannel': __webpack_require__(58),\n\t    'BubblesChannelFilters': __webpack_require__(60),\n\t    'Playlist': __webpack_require__(61),\n\t    'Timeline': __webpack_require__(64)\n\t};\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar OrganisationItem = __webpack_require__(37);\n\t\n\tvar OrganisationsList = React.createClass({\n\t    displayName: 'OrganisationsList',\n\t\n\t\n\t    mixins: [Panneau.Mixins.List],\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t        var items = this.renderListItems(this.props.items);\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list list-rows list-organisations' },\n\t            items\n\t        );\n\t    },\n\t\n\t    getListItemComponent: function getListItemComponent() {\n\t        return OrganisationItem;\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = OrganisationsList;\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar OrganisationItem = React.createClass({\n\t    displayName: 'OrganisationItem',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t        var name = _.get(this.props, 'data.name');\n\t        var link = _.get(this.props, 'data.link');\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item' },\n\t            React.createElement(\n\t                'a',\n\t                { href: link, className: 'thumbnail' },\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'icon' },\n\t                    React.createElement('span', { className: 'glyphicon glyphicon-picture' })\n\t                ),\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'caption caption-lg' },\n\t                    React.createElement(\n\t                        'strong',\n\t                        null,\n\t                        name\n\t                    )\n\t                )\n\t            )\n\t        );\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = OrganisationItem;\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar ChannelItem = __webpack_require__(39);\n\tvar ChannelItemAdd = __webpack_require__(42);\n\t\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar ListActions = Panneau.Actions.List;\n\t\n\tvar ChannelsList = React.createClass({\n\t    displayName: 'ChannelsList',\n\t\n\t\n\t    mixins: [Panneau.Mixins.List],\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            screen: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var items = this.renderListItems(this.props.items);\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list list-thumbnails list-channels' },\n\t            items,\n\t            React.createElement(ChannelItemAdd, { channelsAdded: this.props.items, onAdd: this.onAdd, onRemove: this.onRemove })\n\t        );\n\t    },\n\t\n\t    getListItemComponent: function getListItemComponent() {\n\t        return ChannelItem;\n\t    },\n\t\n\t    getListItemProps: function getListItemProps(channel, index) {\n\t        var onChannelChange = _.bind(function (channel) {\n\t            this.onChannelChange(channel, index);\n\t        }, this);\n\t        return {\n\t            screen: this.props.screen,\n\t            onChange: onChannelChange\n\t        };\n\t    },\n\t\n\t    onAdd: function onAdd(channel) {\n\t        Requests.Screens.addChannel(this.props.screen.id, channel.id).then(_.bind(this.onChannelAdded, this));\n\t    },\n\t\n\t    onChannelChange: function onChannelChange(channel, index) {\n\t        Panneau.dispatch(ListActions.updateItem(index, channel, this.props.name));\n\t    },\n\t\n\t    onChannelAdded: function onChannelAdded(channel) {\n\t        Panneau.dispatch(ListActions.addItem(channel, this.props.name));\n\t    },\n\t\n\t    onRemove: function onRemove(channel) {\n\t        Requests.Screens.removeChannel(this.props.screen.id, channel.id).then(_.bind(this.onChannelRemoved, this));\n\t    },\n\t\n\t    onChannelRemoved: function onChannelRemoved(channel) {\n\t        var index = _.findIndex(this.props.items, function (it) {\n\t            return it.id + '' === channel.id + '';\n\t        });\n\t\n\t        if (index >= 0) {\n\t            Panneau.dispatch(ListActions.removeItem(index, this.props.name));\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ChannelsList;\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar URL = __webpack_require__(40);\n\t\n\tvar ModalActions = Panneau.Actions.Modal;\n\t\n\tvar ChannelItem = React.createClass({\n\t    displayName: 'ChannelItem',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t        var title = _.get(this.props, 'data.snippet.title');\n\t        var description = _.get(this.props, 'data.snippet.description');\n\t        var picture = _.get(this.props, 'data.snippet.picture.link');\n\t        var imageStyle = {\n\t            backgroundImage: picture ? 'url(' + picture + ')' : 'none'\n\t        };\n\t\n\t        var url = URL.route('organisation.screens.channel', {\n\t            screen_id: this.props.screen.id,\n\t            channel_id: this.props.data.id\n\t        });\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item list-item-xs list-item-channel' },\n\t            React.createElement(\n\t                'a',\n\t                { href: url, className: 'thumbnail', onClick: this.onClick },\n\t                React.createElement('span', { className: 'image', style: imageStyle }),\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'caption' },\n\t                    title\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onClick: function onClick(e) {\n\t        /*e.preventDefault();\n\t        \n\t        Panneau.dispatch(ModalActions.openModal('ChannelSettings', {\n\t            channel: this.props.data,\n\t            screen: this.props.screen,\n\t            onClose: this.onModalClose,\n\t            onChannelChange: this.onChannelChange\n\t        }));*/\n\t    },\n\t\n\t    onModalClose: function onModalClose() {},\n\t\n\t    onChannelChange: function onChannelChange(channel) {\n\t        if (this.props.onChange) {\n\t            this.props.onChange(channel);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ChannelItem;\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"URL\"] = __webpack_require__(41);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _routes = {};\n\t\n\tmodule.exports = {\n\t\n\t    route: function route(key, opts) {\n\t        if (_.isObject(key)) {\n\t            var routes = key;\n\t            for (var key in routes) {\n\t                _routes[key] = routes[key];\n\t            }\n\t            return;\n\t        }\n\t\n\t        var prefix = 'http://' + window.location.host;\n\t        var url = (_routes[key] || key).replace(prefix, '');\n\t\n\t        if (typeof opts !== 'undefined') {\n\t            for (var k in opts) {\n\t                url = url.replace(':' + k, opts[k]);\n\t            }\n\t        }\n\t\n\t        return url;\n\t    }\n\t\n\t};\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar ModalActions = Panneau.Actions.Modal;\n\t\n\tvar ChannelAddItem = React.createClass({\n\t    displayName: \"ChannelAddItem\",\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            channelsAdded: []\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: \"list-item list-item-xs list-item-add\" },\n\t            React.createElement(\n\t                \"a\",\n\t                { href: \"#\", className: \"thumbnail\", onClick: this.onClick },\n\t                React.createElement(\n\t                    \"span\",\n\t                    { className: \"icon\" },\n\t                    React.createElement(\"span\", { className: \"glyphicon glyphicon-plus\" })\n\t                ),\n\t                React.createElement(\n\t                    \"span\",\n\t                    { className: \"caption\" },\n\t                    \"Ajouter une chaîne\"\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onClick: function onClick(e) {\n\t        e.preventDefault();\n\t\n\t        Panneau.dispatch(ModalActions.openModal('ChannelAdd', {\n\t            channelsAdded: this.props.channelsAdded,\n\t            onAdd: this.onModalAdd,\n\t            onRemove: this.onModalRemove,\n\t            onClose: this.onModalClose\n\t        }));\n\t    },\n\t\n\t    onModalAdd: function onModalAdd(channel) {\n\t        if (this.props.onAdd) {\n\t            this.props.onAdd(channel);\n\t        }\n\t    },\n\t\n\t    onModalRemove: function onModalRemove(channel) {\n\t        if (this.props.onRemove) {\n\t            this.props.onRemove(channel);\n\t        }\n\t    },\n\t\n\t    onModalClose: function onModalClose() {}\n\t\n\t});\n\t\n\tmodule.exports = ChannelAddItem;\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar ScreenItem = __webpack_require__(44);\n\tvar ScreenAdd = __webpack_require__(45);\n\t\n\tvar ListActions = Panneau.Actions.List;\n\t\n\tvar ScreensList = React.createClass({\n\t    displayName: 'ScreensList',\n\t\n\t\n\t    mixins: [Panneau.Mixins.List],\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t        var items = this.renderListItems(this.props.items);\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list list-thumbnails list-screens' },\n\t            items,\n\t            React.createElement(ScreenAdd, { onAdd: this.onAdd })\n\t        );\n\t    },\n\t\n\t    getListItemComponent: function getListItemComponent() {\n\t        return ScreenItem;\n\t    },\n\t\n\t    onAdd: function onAdd(screen) {\n\t        Panneau.dispatch(ListActions.addItemIfUnique(screen, 'id', this.props.name));\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ScreensList;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar ScreenItem = React.createClass({\n\t    displayName: 'ScreenItem',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t        var name = _.get(this.props, 'data.snippet.title');\n\t        var description = _.get(this.props, 'data.snippet.description');\n\t        var id = _.get(this.props, 'data.id');\n\t        var online = _.get(this.props, 'data.online', false);\n\t        var link = URL.route('organisation.screens.show', {\n\t            screen_id: id\n\t        });\n\t\n\t        var offline = null;\n\t        if (!online) {\n\t            offline = React.createElement(\n\t                'span',\n\t                { className: 'banner-offline' },\n\t                'Hors ligne'\n\t            );\n\t        }\n\t\n\t        if (description && description.length) {\n\t            description = React.createElement(\n\t                'span',\n\t                { className: 'small' },\n\t                description\n\t            );\n\t        } else {\n\t            description;\n\t        }\n\t\n\t        var infos = null;\n\t        var infosLabel = [];\n\t        var vendor = _.get(this.props, 'data.vendor');\n\t        var size = _.get(this.props, 'data.size');\n\t        if (vendor && vendor.length) {\n\t            infosLabel.push(vendor);\n\t        }\n\t        if (size && size.length) {\n\t            infosLabel.push(size);\n\t        }\n\t        if (infosLabel.length) {\n\t            infos = React.createElement(\n\t                'span',\n\t                { className: 'small' },\n\t                infosLabel.join(' - ')\n\t            );\n\t        }\n\t\n\t        var iconClassName = 'glyphicon glyphicon-' + (online ? 'ok' : 'remove') + '-sign';\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item list-item-sm' },\n\t            React.createElement(\n\t                'a',\n\t                { href: link, className: 'thumbnail' },\n\t                offline,\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'icon' },\n\t                    React.createElement('span', { className: iconClassName })\n\t                ),\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'caption caption-lg' },\n\t                    React.createElement(\n\t                        'strong',\n\t                        null,\n\t                        name\n\t                    ),\n\t                    description,\n\t                    infos\n\t                )\n\t            )\n\t        );\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ScreenItem;\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar ReactDOM = __webpack_require__(5);\n\t\n\tvar ScreenActions = __webpack_require__(32);\n\tvar ModalActions = Panneau.Actions.Modal;\n\t\n\tvar ScreenAddItem = React.createClass({\n\t    displayName: 'ScreenAddItem',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item list-item-sm list-item-add' },\n\t            React.createElement(\n\t                'a',\n\t                { href: '#', className: 'thumbnail', onClick: this.onClick },\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'icon' },\n\t                    React.createElement('span', { className: 'glyphicon glyphicon-plus btn-icon-screen' })\n\t                ),\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'caption caption-lg' },\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'small' },\n\t                        'Ajouter un écran'\n\t                    )\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onClick: function onClick(e) {\n\t        e.preventDefault();\n\t\n\t        Panneau.dispatch(ModalActions.openModal('ScreenLink', {\n\t            element: ReactDOM.findDOMNode(this),\n\t            onComplete: this.onModalComplete,\n\t            onClose: this.onModalClose\n\t        }));\n\t    },\n\t\n\t    onModalComplete: function onModalComplete(screen) {\n\t        if (this.props.onAdd) {\n\t            this.props.onAdd(screen);\n\t        }\n\t    },\n\t\n\t    onModalClose: function onModalClose() {}\n\t\n\t});\n\t\n\tmodule.exports = ScreenAddItem;\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar ListActions = Panneau.Actions.List;\n\t\n\tvar TeamAdd = __webpack_require__(47);\n\tvar TeamItem = __webpack_require__(48);\n\t\n\tvar TeamList = React.createClass({\n\t    displayName: 'TeamList',\n\t\n\t\n\t    mixins: [Panneau.Mixins.List],\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            canAdd: false,\n\t            canEdit: false\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var items = this.renderListItems(this.props.items);\n\t\n\t        var addItem = null;\n\t        if (this.props.canAdd) {\n\t            addItem = React.createElement(TeamAdd, { onAdd: this.onAdd });\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list list-thumbnails list-team' },\n\t            items,\n\t            addItem\n\t        );\n\t    },\n\t\n\t    getListItemComponent: function getListItemComponent() {\n\t        return TeamItem;\n\t    },\n\t\n\t    getListItemProps: function getListItemProps(it, index, itemProps) {\n\t        var props = {};\n\t        props.editable = this.props.canEdit, props.onUpdate = _.bind(function (user) {\n\t            this.onItemUpdate(index, user);\n\t        }, this);\n\t        props.onRemove = _.bind(function () {\n\t            this.onItemRemove(index);\n\t        }, this);\n\t        return props;\n\t    },\n\t\n\t    onAdd: function onAdd(invitation) {\n\t        invitation.id = 'invitation' + invitation.id;\n\t        Panneau.dispatch(ListActions.addItemIfUnique(invitation, 'id', this.props.name));\n\t    },\n\t\n\t    onItemUpdate: function onItemUpdate(index, user) {\n\t        Panneau.dispatch(ListActions.updateItem(index, user, this.props.name));\n\t    },\n\t\n\t    onItemRemove: function onItemRemove(index) {\n\t        Panneau.dispatch(ListActions.removeItem(index, this.props.name));\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = TeamList;\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar ReactDOM = __webpack_require__(5);\n\t\n\tvar TeamActions = __webpack_require__(33);\n\tvar ModalActions = Panneau.Actions.Modal;\n\t\n\tvar TeamAddItem = React.createClass({\n\t    displayName: 'TeamAddItem',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item list-item-sm list-item-add' },\n\t            React.createElement(\n\t                'a',\n\t                { href: URL.route('organisation.team.create'), className: 'thumbnail thumbnail-small thumbnail-horizontal', onClick: this.onClick },\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'icon' },\n\t                    React.createElement('span', { className: 'glyphicon glyphicon-plus' })\n\t                ),\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'caption caption-lg' },\n\t                    'Ajouter un membre de l\\'équipe'\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onClick: function onClick(e) {\n\t        e.preventDefault();\n\t\n\t        Panneau.dispatch(ModalActions.openModal('TeamInvite', {\n\t            element: ReactDOM.findDOMNode(this),\n\t            onComplete: _.bind(this.onModalComplete, this),\n\t            onClose: _.bind(this.onModalClose, this)\n\t        }));\n\t    },\n\t\n\t    onModalComplete: function onModalComplete(invitation) {\n\t        if (this.props.onAdd) {\n\t            this.props.onAdd(invitation);\n\t        }\n\t    },\n\t\n\t    onModalClose: function onModalClose() {}\n\t\n\t});\n\t\n\tmodule.exports = TeamAddItem;\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar ReactDOM = __webpack_require__(5);\n\tvar Panneau = __webpack_require__(8);\n\tvar ModalActions = Panneau.Actions.Modal;\n\t\n\tvar TeamItem = React.createClass({\n\t    displayName: 'TeamItem',\n\t\n\t\n\t    propTypes: {\n\t        onChange: React.PropTypes.func,\n\t        onRemove: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            editable: false\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var name = _.get(this.props, 'data.name');\n\t        if (!name || !name.length) {\n\t            name = _.get(this.props, 'data.email');\n\t        }\n\t\n\t        var role = _.get(this.props, 'data.role.name', null);\n\t        var type = _.get(this.props, 'data.type', 'invitation');\n\t\n\t        var link = URL.route('organisation.team.show', {\n\t            user_id: _.get(this.props, 'data.id')\n\t        });\n\t\n\t        var imageStyle = {\n\t            backgroundImage: 'url(' + _.get(this.props, 'data.avatar.link', '/img/avatar.png') + ')'\n\t        };\n\t\n\t        var description = React.createElement(\n\t            'span',\n\t            null,\n\t            role\n\t        );\n\t        if (type === 'invitation') {\n\t            description = React.createElement(\n\t                'span',\n\t                null,\n\t                'Invitation en cours...'\n\t            );\n\t        }\n\t\n\t        var editable = this.props.editable;\n\t        var thumbnail;\n\t        if (editable) {\n\t            thumbnail = React.createElement(\n\t                'a',\n\t                { href: link, className: 'thumbnail thumbnail-small thumbnail-horizontal', onClick: this.onClick },\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'image', style: imageStyle },\n\t                    ' '\n\t                ),\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'caption' },\n\t                    React.createElement(\n\t                        'strong',\n\t                        null,\n\t                        name\n\t                    ),\n\t                    description\n\t                )\n\t            );\n\t        } else {\n\t            thumbnail = React.createElement(\n\t                'div',\n\t                { className: 'thumbnail thumbnail-small thumbnail-horizontal' },\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'image', style: imageStyle },\n\t                    ' '\n\t                ),\n\t                React.createElement(\n\t                    'span',\n\t                    { className: 'caption' },\n\t                    React.createElement(\n\t                        'strong',\n\t                        null,\n\t                        name\n\t                    ),\n\t                    description\n\t                )\n\t            );\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item list-item-sm' },\n\t            thumbnail\n\t        );\n\t    },\n\t\n\t    onClick: function onClick(e) {\n\t        e.preventDefault();\n\t\n\t        Panneau.dispatch(ModalActions.openModal('TeamEdit', {\n\t            element: ReactDOM.findDOMNode(this),\n\t            placement: 'auto',\n\t            data: this.props.data,\n\t            onComplete: _.bind(this.onModalComplete, this),\n\t            onClose: _.bind(this.onModalClose, this)\n\t        }));\n\t    },\n\t\n\t    onModalComplete: function onModalComplete(data) {\n\t        if (data === null) {\n\t            if (this.props.onRemove) {\n\t                this.props.onRemove();\n\t            }\n\t            return;\n\t        }\n\t\n\t        if (this.props.onUpdate) {\n\t            this.props.onUpdate(data);\n\t        }\n\t    },\n\t\n\t    onModalClose: function onModalClose() {}\n\t\n\t});\n\t\n\tmodule.exports = TeamItem;\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar Form = Panneau.Components.Form.Component;\n\t\n\tvar ListActions = Panneau.Actions.List;\n\t\n\tvar BubbleItem = __webpack_require__(50);\n\tvar BubbleAdd = __webpack_require__(55);\n\t\n\tvar BubblesList = React.createClass({\n\t    displayName: 'BubblesList',\n\t\n\t\n\t    mixins: [Panneau.Mixins.List, Panneau.Mixins.Paginator, Panneau.Mixins.Sortable],\n\t\n\t    sortableOptions: {\n\t        ref: 'list',\n\t        model: 'items',\n\t        handle: '.list-item-col-drag',\n\t        filter: '.list-item-add',\n\t        draggable: '.list-item',\n\t        onUpdate: 'onSortableUpdate'\n\t    },\n\t\n\t    propTypes: {\n\t        items: React.PropTypes.array,\n\t        layout: React.PropTypes.string,\n\t        addButton: React.PropTypes.bool,\n\t        bubblesSelectChannelsParams: React.PropTypes.object,\n\t        checkedBubbles: React.PropTypes.array,\n\t        onBubbleCheck: React.PropTypes.func,\n\t        onBubbleClickAdd: React.PropTypes.func,\n\t        onBubbleRemove: React.PropTypes.func,\n\t        onOrderChange: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            items: [],\n\t            addButton: false,\n\t            layout: 'bubble',\n\t            bubblesSelectChannelsParams: null,\n\t            checkedBubbles: [],\n\t            emptyMessage: 'Aucun contenu.'\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            checkedBubbles: this.props.checkedBubbles\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var items = this.renderListItems(this.props.items);\n\t        var paginator = this.props.paginator ? this.renderPaginator(this.props.paginator) : null;\n\t\n\t        //Add button\n\t        var addButton = null;\n\t        if (this.props.addButton) {\n\t            addButton = React.createElement(BubbleAdd, {\n\t                bubblesSelectChannelsParams: this.props.bubblesSelectChannelsParams,\n\t                currentItems: this.props.items,\n\t                onAdd: this.onAdd });\n\t        }\n\t\n\t        if (!items.length && this.props.emptyMessage) {\n\t            items = React.createElement(\n\t                'div',\n\t                { className: 'list-item list-item-empty' },\n\t                this.props.emptyMessage\n\t            );\n\t        }\n\t\n\t        var className = 'list list-rows list-bubbles';\n\t        if (this.props.layout === 'playlist') {\n\t            className += ' list-playlist';\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: className },\n\t            React.createElement(\n\t                'div',\n\t                { ref: 'list', className: 'list-items' },\n\t                items\n\t            ),\n\t            addButton,\n\t            paginator\n\t        );\n\t    },\n\t\n\t    componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t        var state = {};\n\t        var stateHasChanged = false;\n\t        if (this.state.checkedBubbles !== nextProps.checkedBubbles) {\n\t            state.checkedBubbles = nextProps.checkedBubbles;\n\t            stateHasChanged = true;\n\t        }\n\t\n\t        if (stateHasChanged) {\n\t            this.setState(state);\n\t        }\n\t    },\n\t\n\t    getListItemComponent: function getListItemComponent(it, index) {\n\t        return BubbleItem;\n\t    },\n\t\n\t    getListItemProps: function getListItemProps(it, index, itemProps) {\n\t        var props = {};\n\t        props.layout = this.props.layout;\n\t        props.checked = _.find(this.state.checkedBubbles, 'id', it.id) ? true : false;\n\t        props.onCheck = _.bind(function (checked, bubble) {\n\t            this.onBubbleCheck(bubble, checked);\n\t        }, this);\n\t        props.onClickAdd = _.bind(function (bubble) {\n\t            this.onBubbleClickAdd(bubble);\n\t        }, this);\n\t        props.onClickRemove = _.bind(function (bubble) {\n\t            this.onBubbleClickRemove(bubble, index);\n\t        }, this);\n\t        props.onConditionChange = _.bind(function (condition) {\n\t            this.onBubbleConditionChange(it, condition);\n\t        }, this);\n\t        return props;\n\t    },\n\t\n\t    onAdd: function onAdd(bubbles) {\n\t        if (this.props.onAdd) {\n\t            this.props.onAdd(bubbles);\n\t            return;\n\t        }\n\t\n\t        Panneau.dispatch(ListActions.addItems(bubbles, this.props.name));\n\t    },\n\t\n\t    onBubbleCheck: function onBubbleCheck(bubble, checked) {\n\t        if (this.props.onBubbleCheck) {\n\t            this.props.onBubbleCheck(bubble, checked);\n\t        }\n\t    },\n\t\n\t    onBubbleConditionChange: function onBubbleConditionChange(bubble, condition) {\n\t        if (this.props.onBubbleConditionChange) {\n\t            this.props.onBubbleConditionChange(bubble, condition);\n\t        }\n\t    },\n\t\n\t    onBubbleClickAdd: function onBubbleClickAdd(bubble) {\n\t        if (this.props.onBubbleClickAdd) {\n\t            this.props.onBubbleClickAdd(bubble);\n\t        }\n\t    },\n\t\n\t    onBubbleClickRemove: function onBubbleClickRemove(bubble, index) {\n\t        if (this.props.onBubbleClickRemove) {\n\t            this.props.onBubbleClickRemove(bubble, index);\n\t            return;\n\t        }\n\t\n\t        Panneau.dispatch(ListActions.removeItem(index, this.props.name));\n\t\n\t        if (this.props.onBubbleRemove) {\n\t            this.props.onBubbleRemove(bubble);\n\t        }\n\t    },\n\t\n\t    onSortableUpdate: function onSortableUpdate(e) {\n\t        Panneau.dispatch(ListActions.updateData(this.state.items, this.props.name));\n\t\n\t        if (this.props.onOrderChange) {\n\t            this.props.onOrderChange(this.state.items);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = BubblesList;\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar Snippets = __webpack_require__(51);\n\tvar BubbleSnippet = Snippets.Bubble;\n\tvar ConditionSnippet = Snippets.Condition;\n\t\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar ListActions = Panneau.Actions.List;\n\t\n\tvar BubbleItem = React.createClass({\n\t    displayName: 'BubbleItem',\n\t\n\t\n\t    propTypes: {\n\t        layout: React.PropTypes.string,\n\t        checked: React.PropTypes.bool,\n\t        data: React.PropTypes.object.isRequired,\n\t        onCheck: React.PropTypes.func,\n\t        onClickAdd: React.PropTypes.func,\n\t        onClickRemove: React.PropTypes.func,\n\t        onConditionChange: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            layout: 'bubble',\n\t            checked: false\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            checked: this.props.checked\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var cols = [];\n\t        if (this.props.layout === 'playlist') {\n\t            cols.push(this.renderColDrag(1));\n\t            cols.push(this.renderColSnippet(6));\n\t            cols.push(this.renderColConditions(4));\n\t            cols.push(this.renderColRemove(1));\n\t        } else if (this.props.layout === 'add') {\n\t            cols.push(this.renderColCheckbox(1));\n\t            cols.push(this.renderColSnippet(11));\n\t            //cols.push(this.renderColActions(4));\n\t        } else {\n\t                cols.push(this.renderColSnippet());\n\t            }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item', onClick: this.onClick },\n\t            cols\n\t        );\n\t    },\n\t\n\t    renderColDrag: function renderColDrag(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 1;\n\t        var colClassName = 'list-item-col-drag list-item-col-' + colSize;\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_drag', className: colClassName },\n\t            React.createElement('span', { className: 'glyphicon glyphicon-menu-hamburger' })\n\t        );\n\t    },\n\t\n\t    renderColCheckbox: function renderColCheckbox(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 1;\n\t        var colClassName = 'list-item-col-' + colSize;\n\t\n\t        var CheckboxField = Panneau.Components.Fields.Checkbox;\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_checkbox', className: colClassName },\n\t            React.createElement(CheckboxField, { checked: this.props.checked, onChange: this.onCheckboxChange })\n\t        );\n\t    },\n\t\n\t    renderColSnippet: function renderColSnippet(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 12;\n\t        var colClassName = 'list-item-col-' + colSize;\n\t        var type = _.get(this.props, 'data.type', '');\n\t\n\t        var data = _.get(this.props, 'data.snippet');\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_snippet', className: colClassName },\n\t            React.createElement(BubbleSnippet, { data: data })\n\t        );\n\t    },\n\t\n\t    renderColConditions: function renderColConditions(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 12;\n\t        var colClassName = 'list-item-col-top list-item-col-' + colSize;\n\t\n\t        var data = _.get(this.props, 'data.condition.snippet');\n\t        var fields = _.get(this.props, 'data.condition.fields', {});\n\t\n\t        var hasCondition = false;\n\t        _.each(fields, function (v, k) {\n\t            var isArray = _.isArray(v);\n\t            if (v && !isArray || isArray && v.length) {\n\t                hasCondition = true;\n\t            }\n\t        });\n\t\n\t        var condition;\n\t        if (hasCondition) {\n\t            condition = React.createElement(ConditionSnippet, { data: data });\n\t        } else {\n\t            condition = React.createElement(\n\t                'p',\n\t                null,\n\t                'En tout temps'\n\t            );\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_conditions', className: colClassName },\n\t            condition,\n\t            React.createElement(\n\t                'div',\n\t                { className: '' },\n\t                React.createElement(\n\t                    'a',\n\t                    { href: '#', onClick: this.onConditionEditClick },\n\t                    'Modifier'\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    renderColActions: function renderColActions(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 1;\n\t        var colClassName = 'list-item-col-last list-item-col-' + colSize;\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_actions', className: colClassName },\n\t            React.createElement(\n\t                'button',\n\t                { type: 'button', className: 'btn btn-default', onClick: this.onClickAdd },\n\t                'Ajouter'\n\t            )\n\t        );\n\t    },\n\t\n\t    renderColRemove: function renderColRemove(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 1;\n\t        var colClassName = 'list-item-col-last list-item-col-' + colSize;\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_remove', className: colClassName },\n\t            React.createElement('button', { type: 'button', className: 'btn btn-default btn-no-border glyphicon glyphicon-remove', onClick: this.onClickRemove })\n\t        );\n\t    },\n\t\n\t    componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t        if (this.state.checked !== nextProps.checked) {\n\t            this.setState({\n\t                checked: nextProps.checked\n\t            });\n\t        }\n\t    },\n\t\n\t    onConditionEditClick: function onConditionEditClick(e) {\n\t        e.preventDefault();\n\t\n\t        var bubble = _.get(this.props, 'data');\n\t        var condition = _.get(this.props, 'data.condition', {});\n\t\n\t        Panneau.dispatch(ModalActions.openModal('Conditions', {\n\t            bubbles: [bubble],\n\t            condition: condition,\n\t            onComplete: this.onModalComplete,\n\t            onClose: this.onModalClose\n\t        }));\n\t    },\n\t\n\t    onModalComplete: function onModalComplete(condition) {\n\t        var bubble = _.get(this.props, 'data', null);\n\t        _.set(bubble || {}, 'condition', condition);\n\t\n\t        Panneau.dispatch(ListActions.updateItem(this.props.index, bubble, this.props.list));\n\t        Panneau.dispatch(ModalActions.closeModal('Conditions'));\n\t\n\t        if (this.props.onConditionChange) {\n\t            this.props.onConditionChange(condition);\n\t        }\n\t    },\n\t\n\t    onModalClose: function onModalClose() {},\n\t\n\t    onConditionUpdated: function onConditionUpdated(condition) {},\n\t\n\t    onClick: function onClick(e) {\n\t        if (e.target.tagName === 'input') {\n\t            return;\n\t        }\n\t\n\t        if (this.props.layout === 'add' && this.props.onCheck) {\n\t            this.props.onCheck(!this.props.checked, this.props.data);\n\t        }\n\t    },\n\t\n\t    onCheckboxChange: function onCheckboxChange(value) {\n\t        if (this.props.onCheck) {\n\t            this.props.onCheck(value, this.props.data);\n\t        }\n\t    },\n\t\n\t    onClickAdd: function onClickAdd() {\n\t        if (this.props.onClickAdd) {\n\t            this.props.onClickAdd(this.props.data);\n\t        }\n\t    },\n\t\n\t    onClickRemove: function onClickRemove() {\n\t        if (this.props.onClickRemove) {\n\t            this.props.onClickRemove(this.props.data);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = BubbleItem;\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t    'Bubble': __webpack_require__(52),\n\t    'Condition': __webpack_require__(54)\n\t};\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Image = __webpack_require__(53);\n\t\n\tvar BubbleSnippet = React.createClass({\n\t    displayName: 'BubbleSnippet',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            data: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var title = _.get(this.props, 'data.title');\n\t        var description = _.get(this.props, 'data.description', '').split('\\n');\n\t        var subtitle = _.get(this.props, 'data.subtitle', '');\n\t        var link = _.get(this.props, 'data.link');\n\t        var image = _.get(this.props, 'data.picture_thumbnail.link', _.get(this.props, 'data.picture.link'));\n\t\n\t        if (subtitle && subtitle.length) {\n\t            subtitle = React.createElement(\n\t                'div',\n\t                { className: 'subtitle' },\n\t                subtitle\n\t            );\n\t        } else {\n\t            subtitle = null;\n\t        }\n\t\n\t        if (description && description.length) {\n\t            var lines = _.map(description, function (text, index) {\n\t                var key = 'description_' + index;\n\t                return React.createElement(\n\t                    'div',\n\t                    { key: key },\n\t                    text\n\t                );\n\t            });\n\t            description = React.createElement(\n\t                'div',\n\t                { className: 'description' },\n\t                lines\n\t            );\n\t        } else {\n\t            description = null;\n\t        }\n\t\n\t        var img = React.createElement('div', { className: 'image' });\n\t        if (image && image.length) {\n\t            img = React.createElement('img', { src: image, className: 'image' });\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'snippet snippet-with-thumbnail snippet-bubble' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'snippet-thumbnail' },\n\t                img\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'snippet-caption' },\n\t                React.createElement(\n\t                    'h4',\n\t                    { className: 'title' },\n\t                    title\n\t                ),\n\t                subtitle,\n\t                description\n\t            )\n\t        );\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = BubbleSnippet;\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\t(function (root, factory) {\n\t\tif (true) {\n\t\t\t// AMD. Register as an anonymous module.\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n\t\t\t// Node. Does not work with strict CommonJS, but\n\t\t\t// only CommonJS-like environments that support module.exports,\n\t\t\t// like Node.\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\t// Browser globals (root is window)\n\t\t\tif (typeof root.Folklore === 'undefined') {\n\t\t\t\troot.Folklore = {};\n\t\t\t}\n\t\t\troot.Folklore.Image = factory();\n\t\t}\n\t})(undefined, function () {\n\t\n\t\t'use strict';\n\t\n\t\tvar URL_PARAMETER = '-image({options})';\n\t\n\t\t// Build a image formatted URL\n\t\tfunction url(src, width, height, options) {\n\t\n\t\t\t// Don't allow empty strings\n\t\t\tif (!src || !src.length) return;\n\t\n\t\t\t//If width parameter is an array, use it as options\n\t\t\tif (width instanceof Object) {\n\t\t\t\toptions = width;\n\t\t\t\twidth = null;\n\t\t\t\theight = null;\n\t\t\t}\n\t\n\t\t\t//Get size\n\t\t\tif (!width) width = '_';\n\t\t\tif (!height) height = '_';\n\t\n\t\t\t// Produce the image option\n\t\t\tvar params = [];\n\t\n\t\t\t//Add size if presents\n\t\t\tif (width != '_' || height != '_') {\n\t\t\t\tparams.push(width + 'x' + height);\n\t\t\t}\n\t\n\t\t\t// Add options.\n\t\t\tif (options && options instanceof Object) {\n\t\t\t\tvar val, key;\n\t\t\t\tfor (key in options) {\n\t\t\t\t\tval = options[key];\n\t\t\t\t\tif (val === true || val === null) {\n\t\t\t\t\t\tparams.push(key);\n\t\t\t\t\t} else if (val instanceof Array) {\n\t\t\t\t\t\tparams.push(key + '(' + val.join(',') + ')');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.push(key + '(' + val + ')');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tparams = params.join('-');\n\t\t\tvar parameter = URL_PARAMETER.replace('{options}', params);\n\t\n\t\t\t// Break the path apart and put back together again\n\t\t\treturn src.replace(/^(.+)(\\.[a-z]+)$/i, \"$1\" + parameter + \"$2\");\n\t\t}\n\t\n\t\t// Expose public methods.\n\t\treturn {\n\t\t\turl: url\n\t\t};\n\t});\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar ConditionSnippet = React.createClass({\n\t    displayName: 'ConditionSnippet',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            data: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var title = _.get(this.props, 'data.title');\n\t        var description = _.get(this.props, 'data.description', '').split('\\n');\n\t        description = _.map(description, function (text, index) {\n\t            var key = 'description_' + index;\n\t            return React.createElement(\n\t                'div',\n\t                { key: key },\n\t                text\n\t            );\n\t        });\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'snippet snippet-condition' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'snippet-caption' },\n\t                React.createElement(\n\t                    'h4',\n\t                    { className: 'title' },\n\t                    title\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'description' },\n\t                    description\n\t                )\n\t            )\n\t        );\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ConditionSnippet;\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar ScreenActions = __webpack_require__(32);\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar ResourceActions = Panneau.Actions.Resource;\n\t\n\tvar PlaylistBubbleAddItem = React.createClass({\n\t    displayName: 'PlaylistBubbleAddItem',\n\t\n\t\n\t    propTypes: {\n\t        bubblesSelectChannelsParams: React.PropTypes.object,\n\t        currentItems: React.PropTypes.array\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            bubblesSelectChannelsParams: null,\n\t            currentItems: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item list-item-add' },\n\t            React.createElement(\n\t                'a',\n\t                { href: '#', className: 'thumbnail', onClick: this.onClick },\n\t                React.createElement('span', { className: 'glyphicon glyphicon-plus' }),\n\t                React.createElement(\n\t                    'strong',\n\t                    null,\n\t                    'Ajouter des diapositives'\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onClick: function onClick(e) {\n\t        e.preventDefault();\n\t\n\t        Panneau.dispatch(ModalActions.openModal('BubblesSelect', {\n\t            channelsParams: this.props.bubblesSelectChannelsParams,\n\t            onComplete: this.onModalComplete,\n\t            onClose: this.onModalClose\n\t        }));\n\t    },\n\t\n\t    onModalComplete: function onModalComplete(result) {\n\t        Panneau.dispatch(ModalActions.closeModal('BubblesSelect'));\n\t\n\t        if (this.props.onAdd) {\n\t            this.props.onAdd(result);\n\t        }\n\t    },\n\t\n\t    onModalClose: function onModalClose() {}\n\t\n\t});\n\t\n\tmodule.exports = PlaylistBubbleAddItem;\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar Bubbles = __webpack_require__(49);\n\t\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar ListActions = Panneau.Actions.List;\n\tvar TimelineActions = __webpack_require__(57);\n\t\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar BubblesPlaylistList = React.createClass({\n\t    displayName: 'BubblesPlaylistList',\n\t\n\t\n\t    propTypes: {\n\t        screen_id: React.PropTypes.number,\n\t        playlist_id: React.PropTypes.number\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            layout: \"playlist\",\n\t            addButton: true,\n\t            emptyMessage: null,\n\t            screen_id: null,\n\t            playlist_id: null\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            bubblesToAdd: null,\n\t            filtersToAdd: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var channelsParams = {};\n\t        if (this.props.screen_id) {\n\t            channelsParams.screen_id = this.props.screen_id;\n\t        }\n\t\n\t        return React.createElement(Bubbles, _extends({}, this.props, {\n\t            bubblesSelectChannelsParams: channelsParams,\n\t            onAdd: this.onAdd,\n\t            onBubbleClickRemove: this.onBubbleClickRemove,\n\t            onOrderChange: this.onOrderChange,\n\t            onBubbleConditionChange: this.onBubbleConditionChange\n\t        }));\n\t    },\n\t\n\t    onAdd: function onAdd(data) {\n\t        var bubbles = _.get(data, 'bubbles', null);\n\t        var filters = _.get(data, 'filters', null);\n\t\n\t        this.setState({\n\t            filtersToAdd: filters,\n\t            bubblesToAdd: bubbles\n\t        }, function () {\n\t            Panneau.dispatch(ModalActions.openModal('Conditions', {\n\t                bubbles: bubbles,\n\t                filters: filters,\n\t                onComplete: this.onModalComplete,\n\t                onClose: this.onModalClose\n\t            }));\n\t        });\n\t    },\n\t\n\t    onBubbleClickRemove: function onBubbleClickRemove(bubble, index) {\n\t        if (!confirm('Êtes-vous certain de vouloir enlever ce contenu?')) {\n\t            return;\n\t        }\n\t\n\t        Requests.Playlists.removeBubble(this.props.playlist_id, index).then(_.bind(function (bubbles) {\n\t            this.onBubbleRemoved(bubbles);\n\t        }, this));\n\t    },\n\t\n\t    onModalComplete: function onModalComplete(condition) {\n\t        if (this.state.bubblesToAdd) {\n\t            Requests.Playlists.addBubblesWithCondition(this.props.playlist_id, this.state.bubblesToAdd, condition).then(_.bind(this.onBubbleAdded, this));\n\t        } else if (this.state.filtersToAdd) {\n\t            Requests.Playlists.addFiltersWithCondition(this.props.playlist_id, this.state.filtersToAdd, condition).then(_.bind(this.onBubbleAdded, this));\n\t        }\n\t    },\n\t\n\t    onOrderChange: function onOrderChange(items) {\n\t        var ids = [];\n\t        _.each(items, function (it) {\n\t            ids.push(it.playlist_item_id);\n\t        });\n\t\n\t        Requests.Playlists.updateOrder(this.props.playlist_id, ids).then(_.bind(this.onOrderUpdated, this));\n\t    },\n\t\n\t    onModalClose: function onModalClose() {\n\t        this.setState({\n\t            filtersToAdd: null,\n\t            bubblesToAdd: null\n\t        });\n\t    },\n\t\n\t    onBubbleRemoved: function onBubbleRemoved(bubbles) {\n\t        Panneau.dispatch(ListActions.updateData(bubbles, this.props.name));\n\t        Panneau.dispatch(TimelineActions.updateForScreen(this.props.screen_id));\n\t    },\n\t\n\t    onBubbleAdded: function onBubbleAdded(bubbles) {\n\t        bubbles = !_.isArray(bubbles) ? [bubbles] : bubbles;\n\t        this.setState({\n\t            filtersToAdd: null,\n\t            bubblesToAdd: null\n\t        }, function () {\n\t            Panneau.dispatch(ListActions.addItems(bubbles, this.props.name));\n\t            Panneau.dispatch(ModalActions.closeModal('Conditions'));\n\t            Panneau.dispatch(TimelineActions.updateForScreen(this.props.screen_id));\n\t        });\n\t    },\n\t\n\t    onBubbleConditionChange: function onBubbleConditionChange() {\n\t        Panneau.dispatch(TimelineActions.updateForScreen(this.props.screen_id));\n\t    },\n\t\n\t    onOrderUpdated: function onOrderUpdated(bubbles) {\n\t        Panneau.dispatch(ListActions.updateData(bubbles, this.props.name));\n\t        Panneau.dispatch(TimelineActions.updateForScreen(this.props.screen_id));\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = BubblesPlaylistList;\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar ListActions = Panneau.Actions.List;\n\t\n\tvar Requests = __webpack_require__(9);\n\t\n\tmodule.exports = {\n\t\n\t    updateForScreen: function updateForScreen(screen_id) {\n\t        return function (dispatch) {\n\t            Requests.Timeline.loadForScreen(screen_id).then(function (timeline) {\n\t                dispatch(ListActions.updateData(timeline, 'bubbles.timeline'));\n\t            });\n\t        };\n\t    }\n\t\n\t};\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar $ = __webpack_require__(6);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar BubblesList = __webpack_require__(49);\n\t\n\tvar Form = Panneau.Components.Form.Component;\n\tvar Paginator = Panneau.Components.Paginator;\n\t\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar BubblesChannelList = React.createClass({\n\t    displayName: 'BubblesChannelList',\n\t\n\t\n\t    propTypes: {\n\t        channel: React.PropTypes.object,\n\t        filters: React.PropTypes.array,\n\t        filtersEnabled: React.PropTypes.bool,\n\t        checkedBubbles: React.PropTypes.array,\n\t        onLoaded: React.PropTypes.func,\n\t        onFiltersChange: React.PropTypes.func,\n\t        onChange: React.PropTypes.func,\n\t        onClickAdd: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            filtersEnabled: true,\n\t            channel: null,\n\t            checkedBubbles: null,\n\t            filters: null,\n\t            paginatorBottom: true\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        var filters = this.props.filters ? Immutable.fromJS(this.props.filters) : null;\n\t        var params = this.props.filters ? Immutable.fromJS(this.getParamsFromFilters(this.props.filters)) : null;\n\t\n\t        return {\n\t            checkedBubbles: this.props.checkedBubbles,\n\t            bubbles: null,\n\t            params: params,\n\t            page: 1,\n\t            filters: filters,\n\t            loading: false\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        if (!this.state.bubbles) {\n\t            var loading = this.renderLoading();\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'bubbles-selector' },\n\t                loading\n\t            );\n\t        }\n\t\n\t        //Filters form\n\t        var filtersForm = null;\n\t        if (this.props.channel) {\n\t            var filters = this.state.filters ? this.state.filters.toJS() : null;\n\t            var filtersFields = this.props.channel.bubbles_filters;\n\t            filtersForm = this.renderFiltersForm(filters, filtersFields);\n\t        }\n\t\n\t        //Paginator\n\t        var paginator = null;\n\t        if (this.state.pagination) {\n\t            paginator = this.renderPaginator(this.state.pagination);\n\t        }\n\t\n\t        //Bubbles list\n\t        var bubbles = this.state.bubbles || [];\n\t        var props = _.omit(this.props, ['items', 'checkedBubbles', 'onBubbleCheck', 'onBubbleClickAdd']);\n\t        var list = React.createElement(BubblesList, _extends({}, props, {\n\t            items: bubbles,\n\t            checkedBubbles: this.state.checkedBubbles,\n\t            onBubbleCheck: this.onBubbleCheck,\n\t            onBubbleClickAdd: this.onBubbleClickAdd\n\t        }));\n\t\n\t        //Loading\n\t        var loading = null;\n\t        if (this.state.loading) {\n\t            loading = this.renderLoading();\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'bubbles-channel' },\n\t            filtersForm,\n\t            paginator,\n\t            loading,\n\t            list,\n\t            this.props.paginatorBottom && bubbles.length > 5 ? paginator : null\n\t        );\n\t    },\n\t\n\t    renderLoading: function renderLoading() {\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'loading-block' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'table' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'middle' },\n\t                    'Chargement...'\n\t                )\n\t            ),\n\t            React.createElement('div', { className: 'block' })\n\t        );\n\t    },\n\t\n\t    renderFiltersForm: function renderFiltersForm(filters, fieldsFilters) {\n\t        var formData = {\n\t            filters: filters\n\t        };\n\t        var formFields = [{\n\t            'name': 'filters',\n\t            'type': 'filters',\n\t            'filters': fieldsFilters\n\t        }];\n\t\n\t        var block;\n\t        if (!this.props.filtersEnabled) {\n\t            block = React.createElement('div', { className: 'filters-block' });\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'filters' },\n\t            React.createElement(Form, { name: 'bubbles.filters', fields: formFields, data: formData, onFieldChange: this.onFiltersFormFieldChange }),\n\t            block\n\t        );\n\t    },\n\t\n\t    renderPaginator: function renderPaginator(pagination) {\n\t        var bubblesCount = pagination.total;\n\t        var countLabel;\n\t        if (bubblesCount === 1) {\n\t            countLabel = '1 élément correspondant à ces critères';\n\t        } else if (bubblesCount > 1) {\n\t            countLabel = bubblesCount + ' éléments correspondants à ces critères';\n\t        }\n\t\n\t        if (countLabel) {\n\t            var paginator = null;\n\t            if (pagination.last_page > 1) {\n\t                paginator = React.createElement(Paginator, {\n\t                    total: pagination.total,\n\t                    perPage: pagination.per_page,\n\t                    currentPage: pagination.current_page,\n\t                    lastPage: pagination.last_page,\n\t                    interval: 3,\n\t                    onClickPage: this.onPaginatorClickPage,\n\t                    onClickNext: this.onPaginatorClickPage,\n\t                    onClickPrevious: this.onPaginatorClickPage });\n\t            }\n\t\n\t            countLabel = React.createElement(\n\t                'div',\n\t                { className: 'bubbles-paginator' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'col col-count' },\n\t                    countLabel\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'col col-paginator' },\n\t                    paginator\n\t                )\n\t            );\n\t        }\n\t\n\t        return countLabel;\n\t    },\n\t\n\t    componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t        if (this.props.filters !== nextProps.filters) {\n\t            var filters = nextProps.filters ? Immutable.fromJS(nextProps.filters) : null;\n\t            var params = nextProps.filters ? Immutable.fromJS(this.getParamsFromFilters(nextProps.filters)) : null;\n\t\n\t            this.setState({\n\t                filters: filters,\n\t                params: params\n\t            });\n\t        }\n\t    },\n\t\n\t    componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n\t        if (this.queryHasChanged(prevProps, prevState)) {\n\t            var reset = this.channelHasChanged(prevProps, prevState);\n\t            this.reloadBubbles(reset);\n\t        }\n\t    },\n\t\n\t    componentDidMount: function componentDidMount() {\n\t        this.reloadBubbles();\n\t    },\n\t\n\t    channelHasChanged: function channelHasChanged(prevProps, prevState) {\n\t        var channelId = _.get(this.props, 'channel.id', '') + '';\n\t        var prevChannelId = _.get(prevProps, 'channel.id', '') + '';\n\t\n\t        return channelId !== prevChannelId;\n\t    },\n\t\n\t    queryHasChanged: function queryHasChanged(prevProps, prevState) {\n\t        return this.channelHasChanged(prevProps, prevState) || this.state.params !== prevState.params || this.state.page !== prevState.page ? true : false;\n\t    },\n\t\n\t    reloadBubbles: function reloadBubbles(reset) {\n\t        if (typeof reset === 'undefined') {\n\t            reset = false;\n\t        }\n\t\n\t        var params = this.state.params ? this.state.params.toJS() : null;\n\t        if (reset) {\n\t            this.setState({\n\t                params: null,\n\t                filters: null,\n\t                page: 1,\n\t                pagination: null,\n\t                checked: null\n\t            }, function () {\n\t                this.loadBubbles(this.props.channel, params);\n\t            });\n\t        } else {\n\t            this.loadBubbles(this.props.channel, params);\n\t        }\n\t    },\n\t\n\t    loadBubbles: function loadBubbles(channel, params) {\n\t        this.setState({\n\t            loading: true\n\t        }, function () {\n\t            if (typeof params === 'undefined' || !params) {\n\t                params = {};\n\t            }\n\t            params.page = this.state.page;\n\t            Requests.Bubbles.loadForChannel(channel, params).then(this.onBubblesLoaded);\n\t        });\n\t    },\n\t\n\t    getParamsFromFilters: function getParamsFromFilters(filters) {\n\t        var params = {};\n\t        var hasParams = false;\n\t        _.each(filters || [], function (filter) {\n\t            var value = null;\n\t            if (_.isObject(filter.value) && !_.isArray(filter.value)) {\n\t                value = _.get(filter, 'value.value');\n\t            } else if (filter.value) {\n\t                value = filter.value;\n\t            }\n\t            if (value !== null && typeof value !== 'undefined' && value.length) {\n\t                params['filter_' + filter.name] = _.isArray(value) ? value.join(',') : value;\n\t                hasParams = true;\n\t            }\n\t        });\n\t        return hasParams ? params : null;\n\t    },\n\t\n\t    onBubblesLoaded: function onBubblesLoaded(bubbles) {\n\t        this.setState({\n\t            bubbles: bubbles.items,\n\t            pagination: bubbles.pagination,\n\t            loading: false\n\t        }, function () {\n\t            if (this.props.onLoaded) {\n\t                this.props.onLoaded(bubbles);\n\t            }\n\t        });\n\t    },\n\t\n\t    onPaginatorClickPage: function onPaginatorClickPage(e, page) {\n\t        e.preventDefault();\n\t\n\t        this.setState({\n\t            page: page\n\t        });\n\t    },\n\t\n\t    onBubbleCheck: function onBubbleCheck(bubble, checked) {\n\t        var checkedBubbles = this.state.checkedBubbles || [];\n\t        var current = _.find(checkedBubbles, function (it) {\n\t            return it.id + '' === bubble.id + '';\n\t        });\n\t\n\t        if (!current) {\n\t            checkedBubbles.push(bubble);\n\t        } else {\n\t            checkedBubbles = _.filter(checkedBubbles, function (it) {\n\t                return it.id + '' !== current.id + '';\n\t            });\n\t        }\n\t\n\t        this.setState({\n\t            checkedBubbles: checkedBubbles\n\t        }, function () {\n\t            if (this.props.onChange) {\n\t                this.props.onChange(this.state.checkedBubbles);\n\t            }\n\t        });\n\t    },\n\t\n\t    onFiltersFormFieldChange: function onFiltersFormFieldChange(name, value) {\n\t        if (name === 'filters') {\n\t            var bubblesParams = this.getParamsFromFilters(value);\n\t            this.setState({\n\t                params: bubblesParams ? Immutable.fromJS(bubblesParams) : null,\n\t                filters: value ? Immutable.fromJS(value) : null\n\t            });\n\t\n\t            if (this.props.onFiltersChange) {\n\t                this.props.onFiltersChange(value);\n\t            }\n\t        }\n\t    },\n\t\n\t    onBubbleClickAdd: function onBubbleClickAdd(bubble) {\n\t        if (this.props.onClickAdd) {\n\t            this.props.onClickAdd(bubble);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = BubblesChannelList;\n\n/***/ },\n/* 59 */\n/***/ function(module, exports) {\n\n\tmodule.exports = Immutable;\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar $ = __webpack_require__(6);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar BubblesChannelList = __webpack_require__(58);\n\t\n\tvar BubblesChannelFilters = React.createClass({\n\t    displayName: 'BubblesChannelFilters',\n\t\n\t\n\t    propTypes: {\n\t        channel: React.PropTypes.object,\n\t        filters: React.PropTypes.array\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            channel: null,\n\t            filters: null\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        var filters = _.get(this.props, 'filters', null);\n\t\n\t        return {\n\t            filters: filters,\n\t            filtersEnabled: filters && filters.length ? true : false\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'bubbles-channel-filters' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group form-group-checkbox' },\n\t                React.createElement(\n\t                    'label',\n\t                    null,\n\t                    React.createElement('input', { type: 'checkbox', checked: this.state.filtersEnabled, onChange: this.onFiltersCheckboxChange }),\n\t                    ' Afficher seulement les éléments correspondant aux critères suivants:'\n\t                )\n\t            ),\n\t            React.createElement(BubblesChannelList, {\n\t                channel: this.props.channel,\n\t                filtersEnabled: this.state.filtersEnabled,\n\t                filters: _.isArray(this.state.filters) ? this.state.filters : [],\n\t                onLoaded: this.onBubblesLoaded,\n\t                onFiltersChange: this.onBubblesFiltersChange\n\t            })\n\t        );\n\t    },\n\t\n\t    componentDidMount: function componentDidMount() {},\n\t\n\t    componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n\t        if (this.state.filters !== prevState.filters && (prevState.filtersEnabled || this.state.filtersEnabled)) {\n\t            console.log('SAVE FILTERS');\n\t            this.saveFilters(this.state.filters);\n\t        }\n\t    },\n\t\n\t    saveFilters: function saveFilters(filters) {\n\t        Requests.Screens.saveChannelSettings(this.props.screen, this.props.channel, {\n\t            filters: filters\n\t        }).then(_.bind(this.onSettingsSaved, this));\n\t\n\t        if (this.props.onFiltersChange) {\n\t            this.props.onFiltersChange(filters);\n\t        }\n\t    },\n\t\n\t    onFiltersCheckboxChange: function onFiltersCheckboxChange(e) {\n\t        var checked = e.currentTarget.checked;\n\t        this.setState({\n\t            filtersEnabled: checked,\n\t            filters: !checked ? [] : this.state.filters\n\t        });\n\t    },\n\t\n\t    onBubblesLoaded: function onBubblesLoaded(bubbles) {\n\t        if (this.props.onBubblesLoaded) {\n\t            this.props.onBubblesLoaded(bubbles);\n\t        }\n\t    },\n\t\n\t    onBubblesFiltersChange: function onBubblesFiltersChange(filters) {\n\t        this.setState({\n\t            filters: filters\n\t        });\n\t    },\n\t\n\t    onSettingsSaved: function onSettingsSaved(channel) {\n\t        var filters = _.get(channel, 'screen_settings.filters');\n\t        var currentValue = Immutable.fromJS(this.props.channel);\n\t        var newValue = currentValue.setIn(['screen_settings', 'filters'], filters);\n\t        var newChannel = newValue.toJS();\n\t        if (this.props.onChannelChange) {\n\t            this.props.onChannelChange(newChannel);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = BubblesChannelFilters;\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar PlaylistItem = __webpack_require__(62);\n\tvar PlaylistItemAdd = __webpack_require__(63);\n\t\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar ListActions = Panneau.Actions.List;\n\tvar TimelineActions = __webpack_require__(57);\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar PlaylistList = React.createClass({\n\t    displayName: 'PlaylistList',\n\t\n\t\n\t    mixins: [Panneau.Mixins.List, Panneau.Mixins.Paginator, Panneau.Mixins.Sortable],\n\t\n\t    sortableOptions: {\n\t        ref: 'list',\n\t        model: 'items',\n\t        handle: '.list-item-col-drag',\n\t        filter: '.list-item-add',\n\t        draggable: '.list-item',\n\t        onUpdate: 'onSortableUpdate'\n\t    },\n\t\n\t    propTypes: {\n\t        screen: React.PropTypes.object,\n\t        screen: React.PropTypes.object\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            addButton: true,\n\t            emptyMessage: null,\n\t            screen: null,\n\t            playlist: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var channelsParams = {};\n\t        var screen_id = _.get(this.props, 'screen.id', null);\n\t        if (screen_id) {\n\t            channelsParams.screen_id = screen_id;\n\t        }\n\t\n\t        var items = this.renderListItems(this.props.items);\n\t\n\t        //Add button\n\t        var addButton = null;\n\t        if (this.props.addButton) {\n\t            addButton = React.createElement(PlaylistItemAdd, {\n\t                bubblesSelectChannelsParams: channelsParams,\n\t                playlist: this.props.playlist,\n\t                currentItems: this.props.items,\n\t                onAdd: this.onAdd });\n\t        }\n\t\n\t        if (!items.length && this.props.emptyMessage) {\n\t            items = React.createElement(\n\t                'div',\n\t                { className: 'list-item list-item-empty' },\n\t                this.props.emptyMessage\n\t            );\n\t        }\n\t\n\t        var className = 'list list-rows list-playlist';\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: className },\n\t            React.createElement(\n\t                'div',\n\t                { ref: 'list', className: 'list-items' },\n\t                items\n\t            ),\n\t            addButton\n\t        );\n\t    },\n\t\n\t    getListItemComponent: function getListItemComponent(it, index) {\n\t        return PlaylistItem;\n\t    },\n\t\n\t    getListItemProps: function getListItemProps(it, index, itemProps) {\n\t        var props = {};\n\t        props.onClickRemove = _.bind(function () {\n\t            this.onItemClickRemove(it, index);\n\t        }, this);\n\t        props.onConditionChange = _.bind(function (condition) {\n\t            this.onItemConditionChange(condition, it, index);\n\t        }, this);\n\t        return props;\n\t    },\n\t\n\t    onItemClickRemove: function onItemClickRemove(it, index) {\n\t        if (!confirm('Êtes-vous certain de vouloir enlever ce contenu?')) {\n\t            return;\n\t        }\n\t\n\t        var playlist_id = _.get(this.props, 'playlist.id');\n\t        Requests.Playlists.removeItem(playlist_id, it.id).then(_.bind(this.onItemRemoved, this));\n\t    },\n\t\n\t    onItemConditionChange: function onItemConditionChange(condition, it, index) {\n\t        var screen_id = _.get(this.props, 'screen.id');\n\t        it.condition = condition;\n\t        Panneau.dispatch(ListActions.updateItem(index, it, this.props.name));\n\t        Panneau.dispatch(TimelineActions.updateForScreen(screen_id));\n\t    },\n\t\n\t    onAdd: function onAdd(items) {\n\t        var screen_id = _.get(this.props, 'screen.id', null);\n\t        Panneau.dispatch(ListActions.addItems(items, this.props.name));\n\t        Panneau.dispatch(TimelineActions.updateForScreen(screen_id));\n\t    },\n\t\n\t    onSortableUpdate: function onSortableUpdate(e) {\n\t        var ids = [];\n\t        _.each(this.state.items, function (it) {\n\t            ids.push(it.id);\n\t        });\n\t\n\t        var playlist_id = _.get(this.props, 'playlist.id');\n\t        Requests.Playlists.updateOrder(playlist_id, ids).then(_.bind(this.onOrderUpdated, this));\n\t\n\t        Panneau.dispatch(ListActions.updateData(this.state.items, this.props.name));\n\t    },\n\t\n\t    onItemRemoved: function onItemRemoved(items) {\n\t        var screen_id = _.get(this.props, 'screen.id');\n\t        Panneau.dispatch(ListActions.updateData(items, this.props.name));\n\t        Panneau.dispatch(TimelineActions.updateForScreen(screen_id));\n\t    },\n\t\n\t    onOrderUpdated: function onOrderUpdated(bubbles) {\n\t        var screen_id = _.get(this.props, 'screen.id', null);\n\t        Panneau.dispatch(ListActions.updateData(bubbles, this.props.name));\n\t        Panneau.dispatch(TimelineActions.updateForScreen(screen_id));\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = PlaylistList;\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar Snippets = __webpack_require__(51);\n\tvar BubbleSnippet = Snippets.Bubble;\n\tvar ConditionSnippet = Snippets.Condition;\n\t\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar ListActions = Panneau.Actions.List;\n\t\n\tvar PlaylistItem = React.createClass({\n\t    displayName: 'PlaylistItem',\n\t\n\t\n\t    propTypes: {\n\t        layout: React.PropTypes.string,\n\t        data: React.PropTypes.object.isRequired,\n\t        onClickRemove: React.PropTypes.func,\n\t        onConditionChange: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            layout: 'bubble'\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var cols = [];\n\t        cols.push(this.renderColDrag(1));\n\t        cols.push(this.renderColSnippet(6));\n\t        cols.push(this.renderColConditions(4));\n\t        cols.push(this.renderColRemove(1));\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item' },\n\t            cols\n\t        );\n\t    },\n\t\n\t    renderColDrag: function renderColDrag(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 1;\n\t        var colClassName = 'list-item-col-drag list-item-col-' + colSize;\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_drag', className: colClassName },\n\t            React.createElement('span', { className: 'glyphicon glyphicon-menu-hamburger' })\n\t        );\n\t    },\n\t\n\t    renderColSnippet: function renderColSnippet(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 12;\n\t        var colClassName = 'list-item-col-' + colSize;\n\t        var type = _.get(this.props, 'data.bubble.type', '');\n\t        var data = _.get(this.props, 'data.bubble.snippet');\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_snippet', className: colClassName },\n\t            React.createElement(BubbleSnippet, { data: data })\n\t        );\n\t    },\n\t\n\t    renderColConditions: function renderColConditions(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 12;\n\t        var colClassName = 'list-item-col-top list-item-col-' + colSize;\n\t\n\t        var data = _.get(this.props, 'data.condition.snippet');\n\t        var fields = _.get(this.props, 'data.condition.fields', {});\n\t\n\t        var hasCondition = false;\n\t        _.each(fields, function (v, k) {\n\t            var isArray = _.isArray(v);\n\t            if (v && !isArray || isArray && v.length) {\n\t                hasCondition = true;\n\t            }\n\t        });\n\t\n\t        var condition;\n\t        if (hasCondition) {\n\t            condition = React.createElement(ConditionSnippet, { data: data });\n\t        } else {\n\t            condition = React.createElement(\n\t                'p',\n\t                null,\n\t                'En tout temps'\n\t            );\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_conditions', className: colClassName },\n\t            condition,\n\t            React.createElement(\n\t                'div',\n\t                { className: '' },\n\t                React.createElement(\n\t                    'a',\n\t                    { href: '#', onClick: this.onConditionEditClick },\n\t                    'Modifier'\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    renderColRemove: function renderColRemove(size) {\n\t        var colSize = typeof size !== 'undefined' ? size : 1;\n\t        var colClassName = 'list-item-col-last list-item-col-' + colSize;\n\t        return React.createElement(\n\t            'div',\n\t            { key: 'col_remove', className: colClassName },\n\t            React.createElement('button', { type: 'button', className: 'btn btn-default btn-no-border glyphicon glyphicon-remove', onClick: this.onClickRemove })\n\t        );\n\t    },\n\t\n\t    onConditionEditClick: function onConditionEditClick(e) {\n\t        e.preventDefault();\n\t\n\t        var bubble = _.get(this.props, 'data');\n\t        var condition = _.get(this.props, 'data.condition', {});\n\t\n\t        Panneau.dispatch(ModalActions.openModal('Conditions', {\n\t            bubbles: [bubble],\n\t            condition: condition,\n\t            onComplete: this.onModalComplete,\n\t            onClose: this.onModalClose\n\t        }));\n\t    },\n\t\n\t    onModalComplete: function onModalComplete(condition) {\n\t        var bubble = _.get(this.props, 'data', null);\n\t        _.set(bubble || {}, 'condition', condition);\n\t\n\t        Panneau.dispatch(ListActions.updateItem(this.props.index, bubble, this.props.list));\n\t        Panneau.dispatch(ModalActions.closeModal('Conditions'));\n\t\n\t        if (this.props.onConditionChange) {\n\t            this.props.onConditionChange(condition);\n\t        }\n\t    },\n\t\n\t    onModalClose: function onModalClose() {},\n\t\n\t    onConditionUpdated: function onConditionUpdated(condition) {},\n\t\n\t    onClickRemove: function onClickRemove() {\n\t        if (this.props.onClickRemove) {\n\t            this.props.onClickRemove(this.props.data);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = PlaylistItem;\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar ScreenActions = __webpack_require__(32);\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar PlaylistItemAdd = React.createClass({\n\t    displayName: 'PlaylistItemAdd',\n\t\n\t\n\t    propTypes: {\n\t        bubblesSelectChannelsParams: React.PropTypes.object,\n\t        currentItems: React.PropTypes.array\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            bubblesSelectChannelsParams: null,\n\t            currentItems: null\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            bubblesToAdd: null,\n\t            filtersToAdd: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item list-item-add' },\n\t            React.createElement(\n\t                'a',\n\t                { href: '#', className: 'thumbnail', onClick: this.onClick },\n\t                React.createElement('span', { className: 'glyphicon glyphicon-plus' }),\n\t                React.createElement(\n\t                    'strong',\n\t                    null,\n\t                    'Ajouter des diapositives'\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onClick: function onClick(e) {\n\t        e.preventDefault();\n\t\n\t        this.setState({\n\t            filtersToAdd: null,\n\t            bubblesToAdd: null\n\t        }, function () {\n\t            Panneau.dispatch(ModalActions.openModal('BubblesSelect', {\n\t                channelsParams: this.props.bubblesSelectChannelsParams,\n\t                onComplete: _.bind(this.onBubblesModalComplete, this)\n\t            }));\n\t        });\n\t    },\n\t\n\t    onBubblesModalComplete: function onBubblesModalComplete(result) {\n\t        Panneau.dispatch(ModalActions.closeModal('BubblesSelect'));\n\t\n\t        var bubbles = _.get(result, 'bubbles', null);\n\t        var filters = _.get(result, 'filters', null);\n\t\n\t        var playlist_id = _.get(this.props, 'playlist.id');\n\t        if (filters) {\n\t            Requests.Playlists.addFilters(playlist_id, filters).then(_.bind(this.onItemAdded, this));\n\t        } else {\n\t            Requests.Playlists.addBubbles(playlist_id, bubbles).then(_.bind(this.onItemAdded, this));\n\t        }\n\t\n\t        /*this.setState({\n\t            filtersToAdd: filters,\n\t            bubblesToAdd: bubbles\n\t        }, function()\n\t        {\n\t            \n\t            Panneau.dispatch(ModalActions.openModal('Conditions', {\n\t                bubbles: bubbles,\n\t                filters: filters,\n\t                onComplete: _.bind(this.onConditionModalComplete, this)\n\t            }));\n\t        });*/\n\t    },\n\t\n\t    onConditionModalComplete: function onConditionModalComplete(condition) {\n\t        var playlist_id = _.get(this.props, 'playlist.id');\n\t        if (this.state.bubblesToAdd) {\n\t            Requests.Playlists.addBubblesWithCondition(playlist_id, this.state.bubblesToAdd, condition).then(_.bind(this.onItemAdded, this));\n\t        } else if (this.state.filtersToAdd) {\n\t            Requests.Playlists.addFiltersWithCondition(playlist_id, this.state.filtersToAdd, condition).then(_.bind(this.onItemAdded, this));\n\t        }\n\t    },\n\t\n\t    onItemAdded: function onItemAdded(items) {\n\t        Panneau.dispatch(ModalActions.closeModal('Conditions'));\n\t\n\t        items = !_.isArray(items) ? [items] : items;\n\t        this.setState({\n\t            filtersToAdd: null,\n\t            bubblesToAdd: null\n\t        }, function () {\n\t            this.props.onAdd(items);\n\t        });\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = PlaylistItemAdd;\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar ReactDOM = __webpack_require__(5);\n\t\n\tvar TimeField = Panneau.Components.Fields.Time;\n\t\n\tvar Timeline = React.createClass({\n\t    displayName: 'Timeline',\n\t\n\t\n\t    propTypes: {\n\t        screen_id: React.PropTypes.number,\n\t        items: React.PropTypes.object\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            items: {}\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        var currentTime = new Date().getTime();\n\t        return {\n\t            time: currentTime,\n\t            currentTime: currentTime,\n\t            filter: 'now',\n\t            cyclesCount: 2,\n\t            open: false\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var timeline = this.renderTimeline();\n\t\n\t        var pickerStyle = {};\n\t        if (this.state.filter !== 'time') {\n\t            pickerStyle.display = 'none';\n\t        }\n\t\n\t        var date = new Date(this.state.time);\n\t        var hours = date.getHours();\n\t        var minutes = date.getMinutes();\n\t\n\t        var time = [];\n\t        time.push(hours < 10 ? '0' + hours : hours);\n\t        time.push(minutes < 10 ? '0' + minutes : minutes);\n\t\n\t        var timeValue = time.join(':');\n\t\n\t        var toggleIconClassName = 'glyphicon glyphicon glyphicon-menu-' + (this.state.open ? 'down' : 'up');\n\t        var timelineClassName = 'container-timeline timeline-slider';\n\t        if (this.state.open) {\n\t            timelineClassName += ' timeline-open';\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: timelineClassName },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'timeline-header' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-toggle', onClick: this.onToggleClick },\n\t                    React.createElement('span', { className: toggleIconClassName })\n\t                ),\n\t                React.createElement(\n\t                    'label',\n\t                    { className: 'timeline-label', htmlFor: '', onClick: this.onToggleClick },\n\t                    'Aperçu du diaporama'\n\t                ),\n\t                React.createElement(\n\t                    'select',\n\t                    { className: 'form-control timeline-selector', name: 'role', value: this.state.filter, onChange: this.onFilterChange },\n\t                    React.createElement(\n\t                        'option',\n\t                        { value: 'now' },\n\t                        'maintenant'\n\t                    ),\n\t                    React.createElement(\n\t                        'option',\n\t                        { value: 'time' },\n\t                        'À une certaine heure'\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'timeline-picker', style: pickerStyle },\n\t                    React.createElement(TimeField, { value: timeValue, onChange: this.onTimeChange })\n\t                )\n\t            ),\n\t            React.createElement(\n\t                'ul',\n\t                { className: 'list-group list-group-timeline' },\n\t                timeline\n\t            )\n\t        );\n\t    },\n\t\n\t    renderTimeline: function renderTimeline() {\n\t        var cycles = _.get(this.props, 'items.cycles', []);\n\t        if (!cycles || !cycles.length) {\n\t            return React.createElement(\n\t                'li',\n\t                { className: 'list-group-item list-group-item-empty' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'middle' },\n\t                    'Aucun contenu pour le moment.'\n\t                )\n\t            );\n\t        }\n\t\n\t        var items = [];\n\t\n\t        var currentTime = this.state.time;\n\t        var currentCycle, cycleDuration;\n\t        var index = 0;\n\t        for (var i = 0; i < this.state.cyclesCount; i++) {\n\t            if (i > 0) {\n\t                items.push(this.renderSeparator(index));\n\t            }\n\t\n\t            currentCycle = this.getCurrentCycle(currentTime);\n\t            cycleDuration = this.getCycleDuration(currentCycle);\n\t\n\t            var cycleStartTime = currentCycle.start * 1000;\n\t            var delta = currentTime - cycleStartTime;\n\t            var position = delta % cycleDuration;\n\t            var cyclesCount = Math.floor(delta / cycleDuration);\n\t            var currentItem = this.getItemAtPosition(currentCycle, position);\n\t\n\t            var itemCurrentTime = cycleStartTime + cyclesCount * cycleDuration;\n\t            for (var ii = 0, il = currentCycle.items.length; ii < il; ii++) {\n\t                var it = currentCycle.items[ii];\n\t                items.push(this.renderItem(it, itemCurrentTime, it.id === currentItem.id, index));\n\t                itemCurrentTime += it.duration * 1000;\n\t                index++;\n\t            }\n\t\n\t            currentTime += cycleDuration;\n\t        }\n\t\n\t        return items;\n\t    },\n\t\n\t    renderItem: function renderItem(it, time, current, index) {\n\t        var endTime = time + it.duration * 1000;\n\t        var date = new Date(time);\n\t        var hours = date.getHours();\n\t        var minutes = date.getMinutes();\n\t        var seconds = date.getSeconds();\n\t        var timeLabel = [];\n\t        timeLabel.push(hours < 10 ? '0' + hours : hours);\n\t        timeLabel.push(minutes < 10 ? '0' + minutes : minutes);\n\t        timeLabel.push(seconds < 10 ? '0' + seconds : seconds);\n\t        timeLabel = timeLabel.join(':');\n\t\n\t        var key = 'item_' + index;\n\t        var bubbles = _.get(this.props, 'items.bubbles', []);\n\t        var bubble = _.find(bubbles, function (bubble) {\n\t            return bubble.id + '' === it.bubble_id + '';\n\t        });\n\t        var pictureLink = _.get(bubble || {}, 'snippet.picture.link');\n\t        var thumbnailStyle = {\n\t            'backgroundImage': 'url(' + pictureLink + ')',\n\t            'backgroundSize': 'cover'\n\t        };\n\t\n\t        var itemClassName = 'list-group-item';\n\t        if (this.state.currentTime >= time && this.state.currentTime < endTime) {\n\t            itemClassName += ' list-group-item-current';\n\t            timeLabel = 'Maintenant';\n\t        }\n\t\n\t        return React.createElement(\n\t            'li',\n\t            { key: key, className: itemClassName },\n\t            React.createElement('div', { className: 'timeline-thumbnail', style: thumbnailStyle }),\n\t            React.createElement(\n\t                'span',\n\t                null,\n\t                timeLabel\n\t            )\n\t        );\n\t    },\n\t\n\t    renderSeparator: function renderSeparator(index) {\n\t        var key = 'sep_' + index;\n\t        return React.createElement(\n\t            'li',\n\t            { key: key, className: 'list-group-item list-group-item-separator' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'border-timeline' },\n\t                React.createElement('div', { className: 'list-group-item-separator-border' }),\n\t                React.createElement('div', { className: 'glyphicon glyphicon-retweet list-group-item-separator-icon' }),\n\t                React.createElement('div', { className: 'list-group-item-separator-border' })\n\t            )\n\t        );\n\t    },\n\t\n\t    componentDidMount: function componentDidMount() {\n\t        _.bindAll(this, 'onClockInterval', 'onResize');\n\t        this.clockInterval = setInterval(this.onClockInterval, 500);\n\t\n\t        $(window).on('resize', this.onResize);\n\t\n\t        this.onResize();\n\t    },\n\t\n\t    componentWillUnmount: function componentWillUnmount() {\n\t        $(window).off('resize', this.onResize);\n\t\n\t        if (this.clockInterval) {\n\t            clearInterval(this.clockInterval);\n\t        }\n\t    },\n\t\n\t    onResize: function onResize() {\n\t        var $el = $(ReactDOM.findDOMNode(this));\n\t        var width = $el.outerWidth();\n\t        var cycleWidth = 0;\n\t        var $items = $el.find('.list-group-item');\n\t        for (var i = 0, il = $items.length; i < il; i++) {\n\t            cycleWidth += $items.eq(i).outerWidth();\n\t            if ($items.eq(i).is('.list-group-item-separator')) {\n\t                break;\n\t            }\n\t        }\n\t\n\t        var cyclesCount = Math.max(Math.ceil(width / cycleWidth), 1) + 1;\n\t        this.setState({\n\t            cyclesCount: cyclesCount\n\t        });\n\t    },\n\t\n\t    onToggleClick: function onToggleClick() {\n\t        this.setState({\n\t            open: !this.state.open\n\t        });\n\t    },\n\t\n\t    onFilterChange: function onFilterChange(e) {\n\t        this.setState({\n\t            filter: e.target.value,\n\t            time: e.target.value === 'now' ? this.state.currentTime : this.state.time,\n\t            open: true\n\t        });\n\t    },\n\t\n\t    onTimeChange: function onTimeChange(value) {\n\t        var timeParts = value.split(':');\n\t        var date = new Date();\n\t        date.setHours(parseInt(timeParts[0]));\n\t        date.setMinutes(parseInt(timeParts[1]));\n\t        date.setSeconds(0);\n\t\n\t        this.setState({\n\t            time: date.getTime()\n\t        });\n\t    },\n\t\n\t    onClockInterval: function onClockInterval() {\n\t        var newState = {\n\t            currentTime: new Date().getTime()\n\t        };\n\t\n\t        if (this.state.filter === 'now') {\n\t            newState.time = newState.currentTime;\n\t        }\n\t\n\t        this.setState(newState);\n\t    },\n\t\n\t    getCurrentCycle: function getCurrentCycle(time) {\n\t        //Find current cycle\n\t        var currentCycle = null;\n\t        var cycles = _.get(this.props, 'items.cycles');\n\t        for (var i = 0, cl = cycles.length; i < cl; i++) {\n\t            var cycle = cycles[i];\n\t            var startTime = new Date(cycle.start * 1000).getTime();\n\t            var endTime = new Date(cycle.end * 1000).getTime();\n\t\n\t            if (time >= startTime && time < endTime) {\n\t                currentCycle = cycle;\n\t                break;\n\t            }\n\t        }\n\t\n\t        return currentCycle;\n\t    },\n\t\n\t    getCycleDuration: function getCycleDuration(cycle) {\n\t        var duration = 0;\n\t        for (var i = 0, il = cycle.items.length; i < il; i++) {\n\t            var it = cycle.items[i];\n\t            duration += it.duration * 1000;\n\t        }\n\t\n\t        return duration;\n\t    },\n\t\n\t    getItemAtPosition: function getItemAtPosition(cycle, position) {\n\t        //Find the item covering this position\n\t        var currentPosition = 0;\n\t        var currentItem = cycle.items[0];\n\t        for (var i = 0, il = cycle.items.length; i < il; i++) {\n\t            var it = cycle.items[i];\n\t            currentPosition += it.duration;\n\t            if (currentPosition > position) {\n\t                break;\n\t            }\n\t            currentItem = it;\n\t        }\n\t\n\t        return currentItem;\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = Timeline;\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t    'Organisation': __webpack_require__(37),\n\t    'Channel': __webpack_require__(39),\n\t    'Screen': __webpack_require__(44),\n\t    'ScreenAdd': __webpack_require__(45),\n\t    'Team': __webpack_require__(48),\n\t    'TeamAdd': __webpack_require__(47),\n\t    'PlaylistBubble': __webpack_require__(66),\n\t    'Bubble': __webpack_require__(50),\n\t    'BubbleAdd': __webpack_require__(55),\n\t    'PlaylistItem': __webpack_require__(62),\n\t    'PlaylistItemAdd': __webpack_require__(63)\n\t};\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar PlaylistBubbleItem = React.createClass({\n\t    displayName: 'PlaylistBubbleItem',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t        var name = _.get(this.props, 'data.name');\n\t        var link = _.get(this.props, 'data.link');\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'list-item' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'col-sm-1' },\n\t                React.createElement('button', { className: 'btn btn-default glyphicon glyphicon-menu-hamburger', type: 'button', name: 'button' })\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'col-sm-6' },\n\t                React.createElement('div', { className: 'table-thumbnail' }),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'table-description' },\n\t                    React.createElement(\n\t                        'h3',\n\t                        null,\n\t                        'Événement choisi automatiquement'\n\t                    ),\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'table-type' },\n\t                        'Événements'\n\t                    ),\n\t                    React.createElement(\n\t                        'a',\n\t                        { className: 'table-link', href: '#' },\n\t                        'Modiﬁer'\n\t                    )\n\t                )\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'col-sm-4' },\n\t                React.createElement(\n\t                    'span',\n\t                    null,\n\t                    'Afﬁcher en tout temps'\n\t                ),\n\t                React.createElement(\n\t                    'a',\n\t                    { className: 'table-link', href: '#' },\n\t                    'Modiﬁer'\n\t                )\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'col-sm-1' },\n\t                React.createElement('button', { className: 'btn btn-default glyphicon glyphicon-remove', type: 'button', name: 'button' })\n\t            )\n\t        );\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = PlaylistBubbleItem;\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t    'ScreenLink': __webpack_require__(68),\n\t    'BubblesSelect': __webpack_require__(70),\n\t    'ChannelAdd': __webpack_require__(72),\n\t    'ChannelSettings': __webpack_require__(73),\n\t    'Conditions': __webpack_require__(74),\n\t\n\t    'BubbleForm': __webpack_require__(75),\n\t\n\t    'TeamInvite': __webpack_require__(77),\n\t    'TeamEdit': __webpack_require__(78)\n\t};\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar Immutable = __webpack_require__(59);\n\tvar _ = __webpack_require__(2);\n\tvar $ = __webpack_require__(6);\n\t\n\tvar FormActions = Panneau.Actions.Form;\n\tvar ModalActions = Panneau.Actions.Modal;\n\tvar Requests = __webpack_require__(9);\n\tvar ScreenActions = __webpack_require__(32);\n\tvar Popover = Panneau.Components.Modals.Popover;\n\t\n\tvar SubFormMixins = __webpack_require__(69);\n\t\n\tvar ScreenLinkModal = React.createClass({\n\t    displayName: 'ScreenLinkModal',\n\t\n\t\n\t    mixins: [SubFormMixins],\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            visible: false,\n\t            element: null,\n\t            formName: 'organisation.screens.link'\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            formData: null,\n\t            formErrors: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var other = _.omit(this.props, ['onClose', 'authCode']);\n\t        var title = 'Lier un écran';\n\t\n\t        //Form\n\t        var formProps = Panneau.Schema.Form[this.props.formName];\n\t        formProps.name = this.props.formName;\n\t        formProps.onSubmit = this.onSubmit;\n\t        var formContainer = this.renderForm(formProps);\n\t\n\t        return React.createElement(\n\t            Popover,\n\t            _extends({}, other, { title: title, onClose: this.onClose }),\n\t            React.createElement(\n\t                'p',\n\t                null,\n\t                'Assurez-vous que l’écran soit allumé et connecté à internet.'\n\t            ),\n\t            formContainer,\n\t            React.createElement(\n\t                'p',\n\t                null,\n\t                'Ce code de 4 chiffres apparaît à l’écran lors de sa première mise en marche.'\n\t            )\n\t        );\n\t    },\n\t\n\t    componentDidMount: function componentDidMount() {\n\t        _.bindAll(this, 'onScreenLinked', 'onScreenLinkError');\n\t    },\n\t\n\t    onClose: function onClose() {\n\t        if (this.props.onClose) {\n\t            this.props.onClose();\n\t        }\n\t    },\n\t\n\t    onSubmit: function onSubmit(e) {\n\t        e.preventDefault();\n\t\n\t        var authCode = this.state.formData ? this.state.formData.get('auth_code') : null;\n\t        Requests.Organisations.linkScreen(authCode).then(this.onScreenLinked, this.onScreenLinkError);\n\t    },\n\t\n\t    onScreenLinked: function onScreenLinked(screen) {\n\t        this.props.closeModal();\n\t\n\t        if (this.props.onComplete) {\n\t            this.props.onComplete(screen);\n\t        }\n\t    },\n\t\n\t    onScreenLinkError: function onScreenLinkError(errors) {\n\t        this.updateFormErrors(errors);\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ScreenLinkModal;\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar Immutable = __webpack_require__(59);\n\tvar _ = __webpack_require__(2);\n\t\n\tvar FormComponent = Panneau.Components.Form.Component;\n\t\n\tvar SubForm = {\n\t\n\t    renderForm: function renderForm(props) {\n\t        props.data = this.state.formData ? this.state.formData.toJS() : null;\n\t        props.errors = this.state.formErrors ? this.state.formErrors.toJS() : null;\n\t        props.token = document.querySelector('meta[name=csrf-token]').getAttribute('content');\n\t\n\t        return React.createElement(FormComponent, _extends({}, props, { onSubmit: this.onSubmit, onFieldChange: this.onFormFieldChange }));\n\t    },\n\t\n\t    updateFormErrors: function updateFormErrors(errors) {\n\t        var formName = this.props.formName;\n\t        var errorsByField = {};\n\t        _.each(errors, function (error) {\n\t            if (error.message === 'validation') {\n\t                errorsByField = _.merge(errorsByField, error.validation);\n\t            } else {\n\t                var matches = error.message.match(/\\$([a-z][a-z0-9\\[\\]_-]+)/);\n\t                if (matches) {\n\t                    var message = error.message.match(/^\\$[a-z][^\\s]+\\:?\\s*/) ? error.message.replace(/^\\$[a-z][^\\s]+\\:?\\s*/, '') : '';\n\t                    _.set(errorsByField, matches[1], [message]);\n\t                }\n\t            }\n\t        });\n\t\n\t        var newErrors = Immutable.fromJS(errorsByField);\n\t\n\t        this.setState({\n\t            formErrors: newErrors\n\t        });\n\t    },\n\t\n\t    onFormFieldChange: function onFormFieldChange(name, value) {\n\t        var data = this.state.formData;\n\t        if (!data) {\n\t            data = Immutable.fromJS({});\n\t        }\n\t        var newData = data.set(name, value);\n\t\n\t        this.setState({\n\t            formData: newData\n\t        });\n\t    }\n\t\n\t};\n\t\n\tmodule.exports = SubForm;\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar ReactDOM = __webpack_require__(5);\n\tvar Relay = Panneau.Relay;\n\t\n\tvar $ = __webpack_require__(6);\n\t\n\tvar ModalMixins = Panneau.Mixins.Modal;\n\tvar Modal = Panneau.Components.Modals.Modal;\n\tvar BubblesList = __webpack_require__(49);\n\tvar BubblesSelector = __webpack_require__(71);\n\t\n\tvar BubblesSelectModal = React.createClass({\n\t    displayName: 'BubblesSelectModal',\n\t\n\t\n\t    propTypes: {\n\t        visible: React.PropTypes.bool,\n\t        channelsParams: React.PropTypes.object\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            visible: false,\n\t            channelsParams: null\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            selectedBubbles: [],\n\t            filters: [],\n\t            channel: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t\n\t        var addSelectedButton = null;\n\t        var bubblesCount = this.state.selectedBubbles.length;\n\t        if (!bubblesCount) {\n\t            addSelectedButton = React.createElement(\n\t                'button',\n\t                { type: 'button', className: 'btn btn-default', disabled: 'disabled' },\n\t                'Sélectionnez des diapositives...'\n\t            );\n\t        } else {\n\t            var label = bubblesCount === 1 ? 'Ajouter 1 diapositive' : 'Ajouter les ' + bubblesCount + ' diapositives';\n\t            addSelectedButton = React.createElement(\n\t                'button',\n\t                { type: 'button', className: 'btn btn-default', onClick: this.onAddSelectedClick },\n\t                label\n\t            );\n\t        }\n\t\n\t        var addFilterButtonProps = {\n\t            type: 'button',\n\t            className: 'btn btn-default',\n\t            onClick: this.onAddFilterClick\n\t        };\n\t        if (!_.get(this.state, 'filters.0.value')) {\n\t            addFilterButtonProps.disabled = 'disabled';\n\t        }\n\t        var addFilterButton = React.createElement(\n\t            'button',\n\t            addFilterButtonProps,\n\t            'Ajouter en tant que règle'\n\t        );\n\t\n\t        return React.createElement(\n\t            Modal,\n\t            { closeModal: this.props.closeModal, visible: this.props.visible, onClose: this.onClose, onOpen: this.onOpen },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-header' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'close', onClick: this.onClickClose, 'aria-label': 'Close' },\n\t                    React.createElement(\n\t                        'span',\n\t                        { 'aria-hidden': 'true' },\n\t                        '×'\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'h4',\n\t                    { className: 'modal-title' },\n\t                    'Ajouter une diapositive'\n\t                )\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-body' },\n\t                React.createElement(BubblesSelector, {\n\t                    channelsParams: this.props.channelsParams,\n\t                    filters: this.state.filters,\n\t                    checkedBubbles: this.state.selectedBubbles,\n\t                    onChannelLoaded: this.onLoaded,\n\t                    onBubblesLoaded: this.onLoaded,\n\t                    onChange: this.onBubblesChange,\n\t                    onClickAdd: this.onBubbleClickAdd,\n\t                    onChannelChange: this.onChannelChange,\n\t                    onFiltersChange: this.onFiltersChange\n\t                })\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-footer' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-default', onClick: this.onClickClose },\n\t                    'Annuler'\n\t                ),\n\t                addSelectedButton,\n\t                addFilterButton\n\t            )\n\t        );\n\t    },\n\t\n\t    componentDidMount: function componentDidMount() {\n\t        _.bindAll(this, 'onResize');\n\t        $(window).on('resize', this.onResize);\n\t        this.onResize();\n\t    },\n\t\n\t    componentWillUnmount: function componentWillUnmount() {\n\t        $(window).off('resize', this.onResize);\n\t    },\n\t\n\t    componentDidUpdate: function componentDidUpdate() {\n\t        this.resizeList();\n\t    },\n\t\n\t    resizeList: function resizeList() {\n\t        var $el = $(ReactDOM.findDOMNode(this));\n\t\n\t        var $header = $el.find('.modal-header');\n\t        var $footer = $el.find('.modal-footer');\n\t        var $children = $el.find('.bubbles-channel > div');\n\t        var $list = $el.find('.list-bubbles');\n\t        var windowHeight = $(window).height();\n\t        var listHeight = windowHeight - $header.outerHeight() - $footer.outerHeight() - 100;\n\t        $children.each(function () {\n\t            if (!$(this).is('.list-bubbles') && !$(this).is('.loading-block')) {\n\t                listHeight -= $(this).outerHeight();\n\t            }\n\t        });\n\t\n\t        $list.css({\n\t            'height': listHeight + 'px'\n\t        });\n\t    },\n\t\n\t    onResize: function onResize() {\n\t        this.resizeList();\n\t    },\n\t\n\t    onLoaded: function onLoaded(bubbles) {\n\t        this.resizeList();\n\t    },\n\t\n\t    onChannelChange: function onChannelChange(channel) {\n\t        this.setState({\n\t            channel: channel\n\t        });\n\t    },\n\t\n\t    onFiltersChange: function onFiltersChange(filters) {\n\t        this.resizeList();\n\t\n\t        this.setState({\n\t            filters: filters\n\t        });\n\t    },\n\t\n\t    onBubblesChange: function onBubblesChange(bubbles) {\n\t        this.resizeList();\n\t\n\t        this.setState({\n\t            selectedBubbles: bubbles\n\t        });\n\t    },\n\t\n\t    onBubbleClickAdd: function onBubbleClickAdd(bubble) {\n\t        this.setState({\n\t            selectedBubbles: [bubble]\n\t        }, function () {\n\t            this.onCompleteWithBubbles(this.state.selectedBubbles);\n\t        });\n\t    },\n\t\n\t    onAddSelectedClick: function onAddSelectedClick() {\n\t        this.onCompleteWithBubbles(this.state.selectedBubbles);\n\t    },\n\t\n\t    onAddFilterClick: function onAddFilterClick() {\n\t        var filters = [];\n\t        filters.push({\n\t            name: 'channel_id',\n\t            value: this.state.channel.id\n\t        });\n\t        _.each(this.state.filters, function (filter) {\n\t            filters.push(filter);\n\t        });\n\t\n\t        this.onCompleteWithFilters(filters);\n\t    },\n\t\n\t    onCompleteWithBubbles: function onCompleteWithBubbles(bubbles) {\n\t        this.props.onComplete({\n\t            bubbles: bubbles\n\t        });\n\t    },\n\t\n\t    onCompleteWithFilters: function onCompleteWithFilters(filters) {\n\t        this.props.onComplete({\n\t            filters: filters\n\t        });\n\t    },\n\t\n\t    onClickClose: function onClickClose() {\n\t        if (this.props.closeModal) {\n\t            this.props.closeModal();\n\t        } else {\n\t            this.close();\n\t        }\n\t    },\n\t\n\t    onOpen: function onOpen() {\n\t        this.resizeList();\n\t\n\t        if (this.props.onOpen) {\n\t            this.props.onOpen();\n\t        }\n\t    },\n\t\n\t    onClose: function onClose() {\n\t        this.setState({\n\t            selectedBubbles: [],\n\t            filters: [],\n\t            channel: null\n\t        }, function () {\n\t            if (this.props.onClose) {\n\t                this.props.onClose();\n\t            }\n\t        });\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = BubblesSelectModal;\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar $ = __webpack_require__(6);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar BubblesChannelList = __webpack_require__(58);\n\tvar Form = Panneau.Components.Form.Component;\n\tvar Paginator = Panneau.Components.Paginator;\n\t\n\tvar BubblesSelector = React.createClass({\n\t    displayName: 'BubblesSelector',\n\t\n\t\n\t    propTypes: {\n\t        channelsParams: React.PropTypes.object,\n\t        channels: React.PropTypes.array,\n\t        bubbles: React.PropTypes.array,\n\t        checkedBubbles: React.PropTypes.array,\n\t        onChange: React.PropTypes.func,\n\t        onChannelChange: React.PropTypes.func,\n\t        onFiltersChange: React.PropTypes.func,\n\t        onClickAdd: React.PropTypes.func,\n\t        onChannelsLoaded: React.PropTypes.func,\n\t        onBubblesLoaded: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            channelsParams: null,\n\t            channels: null,\n\t            bubbles: null,\n\t            checkedBubbles: null\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            channels: this.props.channels,\n\t            channel: this.props.channels && this.props.channels.length ? this.props.channels[0] : null,\n\t\n\t            loadingChannels: false\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        if (!this.state.channels || !this.state.channel) {\n\t            var loading = this.renderLoading();\n\t            return React.createElement(\n\t                'div',\n\t                { className: 'bubbles-selector' },\n\t                loading\n\t            );\n\t        }\n\t\n\t        //Channels menu\n\t        var channelsMenu = null;\n\t        if (this.state.channels) {\n\t            channelsMenu = this.renderChannels(this.state.channels);\n\t        }\n\t\n\t        //Bubbles list\n\t        var bubblesList = React.createElement(BubblesChannelList, {\n\t            layout: 'add',\n\t            paginatorBottom: false,\n\t            channel: this.state.channel,\n\t            checkedBubbles: this.props.checkedBubbles,\n\t            onLoaded: this.onBubblesLoaded,\n\t            onChange: this.onBubblesChange,\n\t            onClickAdd: this.onBubblesClickAdd,\n\t            onFiltersChange: this.onBubblesFiltersChange\n\t        });\n\t\n\t        var channelLoading = null;\n\t        if (this.state.loadingChannels || !this.state.channels) {\n\t            channelLoading = this.renderLoading();\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'bubbles-selector' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'row' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'col-sm-3 col-channels' },\n\t                    channelLoading,\n\t                    channelsMenu\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'col-sm-9 col-bubbles' },\n\t                    bubblesList\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    renderLoading: function renderLoading() {\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'loading-block' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'table' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'middle' },\n\t                    'Chargement...'\n\t                )\n\t            ),\n\t            React.createElement('div', { className: 'block' })\n\t        );\n\t    },\n\t\n\t    renderChannels: function renderChannels(channels) {\n\t        return React.createElement(\n\t            'ul',\n\t            { className: 'nav nav-pills nav-stacked' },\n\t            channels.map(_.bind(this.renderChannel, this))\n\t        );\n\t    },\n\t\n\t    renderChannel: function renderChannel(channel) {\n\t        var onClick = _.bind(function () {\n\t            this.onChannelClick(channel);\n\t        }, this);\n\t\n\t        var key = 'channel_' + channel.id;\n\t\n\t        var className = '';\n\t        if (this.state.channel && this.state.channel.id === channel.id) {\n\t            className += ' active';\n\t        }\n\t\n\t        var title = _.get(channel, 'snippet.title');\n\t\n\t        return React.createElement(\n\t            'li',\n\t            { key: key, role: 'presentation', className: className },\n\t            React.createElement(\n\t                'a',\n\t                { href: '#', onClick: onClick },\n\t                title\n\t            )\n\t        );\n\t    },\n\t\n\t    componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t        if (nextProps.checkedBubbles && this.state.checkedBubbles !== nextProps.checkedBubbles) {\n\t            this.setState({\n\t                checkedBubbles: nextProps.checkedBubbles\n\t            });\n\t        }\n\t    },\n\t\n\t    componentDidMount: function componentDidMount() {\n\t        _.bindAll(this, 'onChannelsLoaded', 'onBubblesLoaded');\n\t\n\t        if (!this.state.channels) {\n\t            this.loadChannels();\n\t        }\n\t    },\n\t\n\t    componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n\t        var channelId = _.get(this.state, 'channel.id', null) + '';\n\t        var prevChannelId = _.get(prevState, 'channel.id', null) + '';\n\t        if (channelId !== prevChannelId && this.props.onChannelChange) {\n\t            this.props.onChannelChange(this.state.channel);\n\t        }\n\t    },\n\t\n\t    loadChannels: function loadChannels() {\n\t        this.setState({\n\t            channels: null,\n\t            loadingChannels: true\n\t        }, function () {\n\t            Requests.Channels.load(this.props.channelsParams).then(this.onChannelsLoaded);\n\t        });\n\t    },\n\t\n\t    onChannelsLoaded: function onChannelsLoaded(channels) {\n\t        this.setState({\n\t            channels: channels,\n\t            channel: channels && channels.length ? channels[0] : null,\n\t            loadingChannels: false\n\t        });\n\t\n\t        if (this.props.onChannelsLoaded) {\n\t            this.props.onChannelsLoaded(channels);\n\t        }\n\t    },\n\t\n\t    onChannelClick: function onChannelClick(channel) {\n\t        this.setState({\n\t            channel: channel,\n\t            bubbles: null\n\t        });\n\t    },\n\t\n\t    onBubblesClickAdd: function onBubblesClickAdd(bubble) {\n\t        if (this.props.onClickAdd) {\n\t            this.props.onClickAdd(bubble);\n\t        }\n\t    },\n\t\n\t    onBubblesLoaded: function onBubblesLoaded(bubbles) {\n\t        if (this.props.onBubblesLoaded) {\n\t            this.props.onBubblesLoaded(bubbles);\n\t        }\n\t    },\n\t\n\t    onBubblesChange: function onBubblesChange(bubbles) {\n\t        if (this.props.onChange) {\n\t            this.props.onChange(bubbles);\n\t        }\n\t    },\n\t\n\t    onBubblesFiltersChange: function onBubblesFiltersChange(filters) {\n\t        if (this.props.onFiltersChange) {\n\t            this.props.onFiltersChange(filters);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = BubblesSelector;\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar $ = __webpack_require__(6);\n\t\n\tvar FormActions = Panneau.Actions.Form;\n\tvar Modal = Panneau.Components.Modals.Modal;\n\tvar ChannelActions = __webpack_require__(34);\n\t\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar ChannelAddModal = React.createClass({\n\t    displayName: 'ChannelAddModal',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            visible: false,\n\t            channels: null,\n\t            channelsAdded: []\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            channels: this.props.channels,\n\t            channelsAdded: this.props.channelsAdded\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var channels = null;\n\t        if (this.state.channels) {\n\t            channels = this.renderChannels(this.state.channels);\n\t        }\n\t\n\t        return React.createElement(\n\t            Modal,\n\t            { closeModal: this.props.closeModal, visible: this.props.visible, onClose: this.onClose },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-header' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'close', onClick: this.onClickClose, 'aria-label': 'Close' },\n\t                    React.createElement(\n\t                        'span',\n\t                        { 'aria-hidden': 'true' },\n\t                        '×'\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'h4',\n\t                    { className: 'modal-title' },\n\t                    'Ajouter une chaîne'\n\t                )\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-body' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'row' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'col-sm-3' },\n\t                        React.createElement(\n\t                            'ul',\n\t                            { className: 'nav nav-pills nav-stacked' },\n\t                            React.createElement(\n\t                                'li',\n\t                                { role: 'presentation', className: 'active' },\n\t                                React.createElement(\n\t                                    'a',\n\t                                    { href: '#' },\n\t                                    'Culture'\n\t                                )\n\t                            )\n\t                        )\n\t                    ),\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'col-sm-9' },\n\t                        React.createElement(\n\t                            'div',\n\t                            { className: 'list list-add-channel' },\n\t                            React.createElement(\n\t                                'div',\n\t                                { className: 'list-items' },\n\t                                React.createElement(\n\t                                    'div',\n\t                                    { className: 'list-item' },\n\t                                    React.createElement(\n\t                                        'h3',\n\t                                        null,\n\t                                        'Culture'\n\t                                    ),\n\t                                    React.createElement(\n\t                                        'div',\n\t                                        { className: 'list list-thumbnails' },\n\t                                        channels\n\t                                    )\n\t                                )\n\t                            )\n\t                        )\n\t                    )\n\t                )\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-footer' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-default', onClick: this.onClickClose },\n\t                    'Fermer'\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    renderChannels: function renderChannels(channels) {\n\t        return channels.map(_.bind(this.renderChannel, this));\n\t    },\n\t\n\t    renderChannel: function renderChannel(channel) {\n\t        var added = _.find(this.state.channelsAdded, function (channelAdded) {\n\t            return '' + channelAdded.id === '' + channel.id;\n\t        }) ? true : false;\n\t        var btnLabel = added ? 'Enlever' : 'Ajouter';\n\t        var btnIcon = 'glyphicon ' + (added ? 'glyphicon-remove' : 'glyphicon-plus');\n\t\n\t        var onClick = _.bind(function () {\n\t            if (added) {\n\t                this.onRemove(channel);\n\t            } else {\n\t                this.onAdd(channel);\n\t            }\n\t        }, this);\n\t\n\t        var key = 'channel_' + channel.id;\n\t\n\t        var title = _.get(channel, 'snippet.title');\n\t        var description = _.get(channel, 'snippet.description');\n\t        var picture = _.get(channel, 'snippet.picture.link');\n\t        var imageStyle = {\n\t            backgroundImage: picture ? 'url(' + picture + ')' : 'none'\n\t        };\n\t\n\t        var descriptionParagraph = null;\n\t        if (description && description.length) {\n\t            descriptionParagraph = React.createElement(\n\t                'p',\n\t                null,\n\t                description\n\t            );\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: key, className: 'list-item list-item-col-4' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'thumbnail' },\n\t                React.createElement('div', { className: 'image', style: imageStyle })\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'detail' },\n\t                React.createElement(\n\t                    'h4',\n\t                    null,\n\t                    title\n\t                ),\n\t                descriptionParagraph,\n\t                React.createElement(\n\t                    'button',\n\t                    { className: 'btn btn-default btn-sm', onClick: onClick },\n\t                    React.createElement('span', { className: btnIcon }),\n\t                    ' ',\n\t                    btnLabel\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    componentWillMount: function componentWillMount() {\n\t        if (!this.state.channels) {\n\t            Requests.Channels.load().then(_.bind(this.onChannelsLoaded, this));\n\t        }\n\t    },\n\t\n\t    onChannelsLoaded: function onChannelsLoaded(channels) {\n\t        this.setState({\n\t            channels: channels,\n\t            channel: channels && channels.length ? channels[0] : null\n\t        });\n\t    },\n\t\n\t    onClickClose: function onClickClose() {\n\t        if (this.props.closeModal) {\n\t            this.props.closeModal();\n\t        } else {\n\t            this.close();\n\t        }\n\t    },\n\t\n\t    onAdd: function onAdd(channel) {\n\t        var currentChannels = Immutable.fromJS(this.state.channelsAdded);\n\t        var newChannels = currentChannels.push(channel);\n\t\n\t        if (currentChannels !== newChannels) {\n\t            this.setState({\n\t                channelsAdded: newChannels.toJS()\n\t            });\n\t        }\n\t\n\t        if (this.props.onAdd) {\n\t            this.props.onAdd(channel);\n\t        }\n\t    },\n\t\n\t    onRemove: function onRemove(channel) {\n\t        var index = _.findIndex(this.state.channelsAdded, function (channelAdded) {\n\t            return channelAdded.id + '' === channel.id + '';\n\t        });\n\t        if (index >= 0) {\n\t            var currentChannels = Immutable.fromJS(this.state.channelsAdded);\n\t            var newChannels = currentChannels.delete(index);\n\t\n\t            if (currentChannels !== newChannels) {\n\t                this.setState({\n\t                    channelsAdded: newChannels.toJS()\n\t                });\n\t            }\n\t        }\n\t\n\t        if (this.props.onRemove) {\n\t            this.props.onRemove(channel);\n\t        }\n\t    },\n\t\n\t    onClose: function onClose() {\n\t        if (this.props.onClose) {\n\t            this.props.onClose();\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ChannelAddModal;\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar ReactDOM = __webpack_require__(5);\n\tvar _ = __webpack_require__(2);\n\tvar $ = __webpack_require__(6);\n\t\n\tvar Modal = Panneau.Components.Modals.Modal;\n\tvar ModalActions = Panneau.Actions.Modal;\n\t\n\tvar Requests = __webpack_require__(9);\n\tvar BubblesChannelFiltersList = __webpack_require__(60);\n\t\n\tvar ChannelSettings = React.createClass({\n\t    displayName: 'ChannelSettings',\n\t\n\t\n\t    contextTypes: {\n\t        store: React.PropTypes.object\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            visible: false,\n\t            screen: null,\n\t            channel: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t\n\t        var filters = _.get(this.props, 'channel.screen_settings.filters', null);\n\t\n\t        var addButton;\n\t        var canAddBubbles = _.get(this.props, 'channel.fields.settings.canAddBubbles', false);\n\t        if (canAddBubbles) {\n\t            addButton = React.createElement(\n\t                'button',\n\t                { type: 'button', className: 'btn btn-primary pull-left', onClick: this.onClickAdd },\n\t                React.createElement('span', { className: 'glyphicon glyphicon-plus' }),\n\t                ' Ajouter du contenu'\n\t            );\n\t        }\n\t\n\t        return React.createElement(\n\t            Modal,\n\t            { closeModal: this.props.closeModal, visible: this.props.visible, onClose: this.onClose },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-header' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'close', onClick: this.onClickClose, 'aria-label': 'Close' },\n\t                    React.createElement(\n\t                        'span',\n\t                        { 'aria-hidden': 'true' },\n\t                        '×'\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'h4',\n\t                    { className: 'modal-title' },\n\t                    'Modifier une chaîne'\n\t                )\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-body' },\n\t                React.createElement(BubblesChannelFiltersList, {\n\t                    screen: this.props.screen,\n\t                    channel: this.props.channel,\n\t                    filters: filters,\n\t                    onBubblesLoaded: this.onBubblesLoaded,\n\t                    onFiltersChange: this.onFiltersChange,\n\t                    onChannelChange: this.onChannelChange })\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-footer' },\n\t                addButton,\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-default', onClick: this.onClickClose },\n\t                    'Fermer'\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    resizeList: function resizeList() {\n\t        var $el = $(ReactDOM.findDOMNode(this));\n\t\n\t        var $header = $el.find('.modal-header');\n\t        var $footer = $el.find('.modal-footer');\n\t        var $children = $el.find('.bubbles-channel > div');\n\t        var $list = $el.find('.list-bubbles');\n\t        var windowHeight = $(window).height();\n\t        var listHeight = windowHeight - $header.outerHeight() - $footer.outerHeight() - 100;\n\t        $children.each(function () {\n\t            if (!$(this).is('.list-bubbles') && !$(this).is('.loading-block')) {\n\t                listHeight -= $(this).outerHeight();\n\t            }\n\t        });\n\t\n\t        $list.css({\n\t            'height': listHeight + 'px'\n\t        });\n\t    },\n\t\n\t    componentDidMount: function componentDidMount() {\n\t        _.bindAll(this, 'onResize');\n\t        $(window).on('resize', this.onResize);\n\t        this.onResize();\n\t    },\n\t\n\t    componentWillUnmount: function componentWillUnmount() {\n\t        $(window).off('resize', this.onResize);\n\t    },\n\t\n\t    componentDidUpdate: function componentDidUpdate() {\n\t        this.resizeList();\n\t    },\n\t\n\t    onFiltersChange: function onFiltersChange() {\n\t        this.resizeList();\n\t    },\n\t\n\t    onBubblesLoaded: function onBubblesLoaded() {\n\t        this.resizeList();\n\t    },\n\t\n\t    onChannelChange: function onChannelChange(channel) {\n\t        if (this.props.onChannelChange) {\n\t            this.props.onChannelChange(channel);\n\t        }\n\t    },\n\t\n\t    onResize: function onResize() {\n\t        this.resizeList();\n\t    },\n\t\n\t    onOpen: function onOpen() {\n\t        this.resizeList();\n\t\n\t        if (this.props.onOpen) {\n\t            this.props.onOpen();\n\t        }\n\t    },\n\t\n\t    onClickAdd: function onClickAdd(e) {\n\t        e.preventDefault();\n\t\n\t        this.context.store.dispatch(ModalActions.closeModal());\n\t\n\t        /*this.props.closeModal();\n\t        \n\t        this.context.store.dispatch(ModalActions.openModal('BubbleForm', {\n\t            onComplete: this.onAddModalComplete,\n\t            onClose: this.onAddModalClose\n\t        }));*/\n\t    },\n\t\n\t    onClickClose: function onClickClose() {\n\t        if (this.props.closeModal) {\n\t            this.props.closeModal();\n\t        } else {\n\t            this.close();\n\t        }\n\t    },\n\t\n\t    onClose: function onClose() {\n\t        this.context.store.dispatch(ModalActions.openModal('BubbleForm', {\n\t            onComplete: this.onAddModalComplete,\n\t            onClose: this.onAddModalClose\n\t        }));\n\t\n\t        if (this.props.onClose) {\n\t            this.props.onClose();\n\t        }\n\t    },\n\t\n\t    onAddModalComplete: function onAddModalComplete() {},\n\t\n\t    onAddModalClose: function onAddModalClose() {}\n\t\n\t});\n\t\n\tmodule.exports = ChannelSettings;\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar $ = __webpack_require__(6);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar FormActions = Panneau.Actions.Form;\n\tvar Modal = Panneau.Components.Modals.Modal;\n\tvar Form = Panneau.Components.Form.Component;\n\t\n\tvar Requests = __webpack_require__(9);\n\t\n\tvar ConditionsModal = React.createClass({\n\t    displayName: 'ConditionsModal',\n\t\n\t\n\t    contextTypes: {\n\t        store: React.PropTypes.object\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            visible: false,\n\t            condition: null\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        var condition = _.get(this.props, 'condition.fields', {});\n\t        var filteredCondition = {};\n\t        _.each(condition, function (val, key) {\n\t            if (val !== null) {\n\t                filteredCondition[key] = val;\n\t            }\n\t        });\n\t\n\t        return {\n\t            condition: filteredCondition\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var formFields = [{\n\t            'name': 'days',\n\t            'type': 'condition_weekdays'\n\t        }, {\n\t            'name': 'daterange',\n\t            'type': 'condition_daterange'\n\t        }, {\n\t            'name': 'date',\n\t            'type': 'condition_date'\n\t        }, {\n\t            'name': 'time',\n\t            'type': 'condition_time'\n\t        }];\n\t\n\t        var formData = this.state.condition || {};\n\t\n\t        return React.createElement(\n\t            Modal,\n\t            { closeModal: this.props.closeModal, visible: this.props.visible, onClose: this.onClose },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-header' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'close', onClick: this.onClickClose, 'aria-label': 'Close' },\n\t                    React.createElement(\n\t                        'span',\n\t                        { 'aria-hidden': 'true' },\n\t                        '×'\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'h4',\n\t                    { className: 'modal-title' },\n\t                    'Conditions d\\'affichage'\n\t                )\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-body' },\n\t                React.createElement(Form, { name: 'condition', data: formData, fields: formFields, onFieldChange: this.onFormFieldChange })\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-footer' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-default', onClick: this.onClickClose },\n\t                    'Annuler'\n\t                ),\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-primary', onClick: this.onClickSave },\n\t                    'Enregistrer'\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onFormFieldChange: function onFormFieldChange(name, value) {\n\t        var currentValue = Immutable.fromJS(this.state.condition || {});\n\t\n\t        var newValue;\n\t        if (value === null) {\n\t            newValue = currentValue.delete(name);\n\t        } else {\n\t            newValue = currentValue.set(name, value);\n\t        }\n\t\n\t        if (currentValue !== newValue) {\n\t            this.setState({\n\t                condition: newValue.toJS()\n\t            });\n\t        }\n\t    },\n\t\n\t    onClickClose: function onClickClose() {\n\t        if (this.props.closeModal) {\n\t            this.props.closeModal();\n\t        } else {\n\t            this.close();\n\t        }\n\t    },\n\t\n\t    onClickSave: function onClickSave() {\n\t        var id = _.get(this.props, 'condition.id', null);\n\t        Requests.Playlists.saveCondition(this.state.condition, id).then(_.bind(this.onConditionsSaved, this));\n\t    },\n\t\n\t    onClose: function onClose() {\n\t        if (this.props.onClose) {\n\t            this.props.onClose();\n\t        }\n\t    },\n\t\n\t    onConditionsSaved: function onConditionsSaved(it) {\n\t        if (this.props.onComplete) {\n\t            this.props.onComplete(it);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ConditionsModal;\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Immutable = __webpack_require__(59);\n\tvar request = __webpack_require__(22);\n\t\n\tvar URL = __webpack_require__(40);\n\t\n\tvar FormModal = __webpack_require__(76);\n\t\n\tvar BubbleFormModal = React.createClass({\n\t    displayName: 'BubbleFormModal',\n\t\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            bubbleType: 'banq_service'\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var props = _.omit(this.props, ['bubbleType', 'title', 'formName', 'formMethod']);\n\t        var id = _.get(this.props, 'formData.id');\n\t        var bubbleType = _.get(this.props, 'formData.type', this.props.bubbleType).replace(/[^a-z0-9\\.]+/gi, '');\n\t        var title = id ? 'Modifier un contenu' : 'Ajouter un contenu';\n\t        var formName = 'bubble.' + bubbleType;\n\t        var formAction = id ? URL.route('organisation.bubbles.update', id) : URL.route('organisation.bubbles.store');\n\t        var formMethod = id ? 'put' : 'post';\n\t\n\t        return React.createElement(FormModal, _extends({}, props, {\n\t            title: title,\n\t            formName: formName,\n\t            formMethod: formMethod,\n\t            formAction: formAction\n\t        }));\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = BubbleFormModal;\n\n/***/ },\n/* 76 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar Panneau = __webpack_require__(8);\n\tvar $ = __webpack_require__(6);\n\tvar _ = __webpack_require__(2);\n\tvar Immutable = __webpack_require__(59);\n\tvar request = __webpack_require__(22);\n\t\n\tvar Modal = Panneau.Components.Modals.Modal;\n\tvar FormActions = Panneau.Actions.Form.Component;\n\t\n\tvar FormModal = React.createClass({\n\t    displayName: 'FormModal',\n\t\n\t\n\t    contextTypes: {\n\t        store: React.PropTypes.object\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            visible: false,\n\t            element: null,\n\t            offsetX: 0,\n\t            offsetY: 0,\n\t            title: '',\n\t            formName: null,\n\t            formFields: [],\n\t            formAction: '',\n\t            formMethod: 'post',\n\t            formData: null,\n\t            formErrors: null\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            formData: this.props.formData || {},\n\t            formErrors: this.props.formErrors || {}\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var other = _.omit(this.props, ['onClose', 'onOpen']);\n\t\n\t        var title = this.props.title;\n\t\n\t        //Form\n\t        var formSchema = this.props.formName && Panneau.Schema.Form[this.props.formName] ? Panneau.Schema.Form[this.props.formName] : {};\n\t        var formProps = _.extend({\n\t            token: $('meta[name=csrf-token]').attr('content'),\n\t            fields: this.props.formFields,\n\t            method: this.props.formMethod,\n\t            action: this.props.formAction,\n\t            data: this.state.formData,\n\t            errors: this.state.formErrors\n\t        }, formSchema);\n\t        formProps.buttons = [];\n\t\n\t        var FormComponent = Panneau.Components.Form.Component;\n\t\n\t        return React.createElement(\n\t            Modal,\n\t            _extends({}, other, { onClose: this.onClose }),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-header' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'close', onClick: this.onClickClose, 'aria-label': 'Close' },\n\t                    React.createElement(\n\t                        'span',\n\t                        { 'aria-hidden': 'true' },\n\t                        '×'\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'h4',\n\t                    { className: 'modal-title' },\n\t                    title\n\t                )\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-body' },\n\t                React.createElement(FormComponent, _extends({}, formProps, { onSubmit: this.onSubmit, onChange: this.onFormChange }))\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'modal-footer' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-default', onClick: this.onClickSave },\n\t                    'Enregistrer'\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onClickSave: function onClickSave(e) {\n\t        this.onSubmit(e);\n\t    },\n\t\n\t    onClickClose: function onClickClose(e) {\n\t        e.preventDefault();\n\t\n\t        this.props.closeModal(this.props.name);\n\t    },\n\t\n\t    onClose: function onClose() {\n\t        if (this.props.onClose) {\n\t            this.props.onClose();\n\t        }\n\t    },\n\t\n\t    onSubmit: function onSubmit(e) {\n\t        e.preventDefault();\n\t\n\t        var token = document.querySelector('meta[name=csrf-token]').getAttribute('content');\n\t\n\t        var formMethod = this.props.formMethod.toUpperCase();\n\t        var methodName = formMethod.toLowerCase();\n\t        if (methodName !== 'get') {\n\t            methodName = 'post';\n\t        }\n\t\n\t        var $form = $(ReactDOM.findDOMNode(this)).find('form');\n\t        var $inputs = $form.find('input, select, textarea');\n\t        var data = {\n\t            '_method': formMethod\n\t        };\n\t        $inputs.each(function (i, el) {\n\t            var name = $(el).attr('name');\n\t            if (name && name.length) {\n\t                data[name] = $(el).val();\n\t            }\n\t        });\n\t\n\t        var currentRequest = request[methodName](this.props.formAction).set('X-CSRF-TOKEN', token).set('Accept', 'application/json');\n\t\n\t        for (var key in data) {\n\t            currentRequest.field(key, data[key]);\n\t        }\n\t\n\t        currentRequest.end(_.bind(this.onFormComplete, this));\n\t    },\n\t\n\t    onFormComplete: function onFormComplete(err, response) {\n\t        if (err) {\n\t            this.onFormError(response.body);\n\t            return;\n\t        }\n\t\n\t        this.props.closeModal();\n\t\n\t        if (this.props.onComplete) {\n\t            this.props.onComplete(response.body);\n\t        }\n\t    },\n\t\n\t    onFormError: function onFormError(errors) {\n\t        var formName = this.props.formName;\n\t        var errorsByField = {};\n\t        _.each(errors, function (error) {\n\t            var matches = error.message.match(/\\$([a-z][a-z0-9\\[\\]_-]+)/);\n\t            if (matches) {\n\t                _.set(errorsByField, matches[1], ['']);\n\t            }\n\t        });\n\t\n\t        this.setState({\n\t            formErrors: errorsByField\n\t        });\n\t    },\n\t\n\t    onFormChange: function onFormChange(data) {\n\t        var currentValue = Immutable.fromJS(this.state.formData);\n\t        var newValue = Immutable.fromJS(data);\n\t\n\t        if (newValue !== currentValue) {\n\t            var value = newValue.toJS();\n\t            this.setState({\n\t                formData: value\n\t            });\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = FormModal;\n\n/***/ },\n/* 77 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar Immutable = __webpack_require__(59);\n\tvar _ = __webpack_require__(2);\n\tvar $ = __webpack_require__(6);\n\t\n\tvar ModalMixins = Panneau.Mixins.Modal;\n\tvar SubFormMixins = __webpack_require__(69);\n\t\n\tvar Popover = Panneau.Components.Modals.Popover;\n\tvar FormActions = Panneau.Actions.Form;\n\tvar Requests = __webpack_require__(9);\n\tvar TeamActions = __webpack_require__(33);\n\t\n\tvar TeamInviteModal = React.createClass({\n\t    displayName: 'TeamInviteModal',\n\t\n\t\n\t    mixins: [SubFormMixins],\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            visible: false,\n\t            element: null,\n\t            offsetX: 0,\n\t            offsetY: 0,\n\t            formName: 'organisation.team.invite'\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            formData: null,\n\t            formErrors: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var other = _.omit(this.props, ['email', 'role', 'onClose', 'onOpen']);\n\t\n\t        var title = 'Ajouter un membre à l\\'équipe';\n\t\n\t        //Form\n\t        var formProps = Panneau.Schema.Form[this.props.formName];\n\t        formProps.name = this.props.formName;\n\t        formProps.onSubmit = this.onSubmit;\n\t        var formContainer = this.renderForm(formProps);\n\t\n\t        return React.createElement(\n\t            Popover,\n\t            _extends({ title: title }, other, { onClose: this.onClose }),\n\t            React.createElement(\n\t                'p',\n\t                null,\n\t                'Entrez l\\'adresse courriel d\\'un membre à inviter'\n\t            ),\n\t            formContainer\n\t        );\n\t    },\n\t\n\t    onClose: function onClose() {\n\t        if (this.props.onClose) {\n\t            this.props.onClose();\n\t        }\n\t    },\n\t\n\t    onSubmit: function onSubmit(e) {\n\t        e.preventDefault();\n\t\n\t        if (!this.state.formData) {\n\t            this.setState({\n\t                formErrors: Immutable.fromJS({\n\t                    'email': [''],\n\t                    'role_id': ['']\n\t                })\n\t            });\n\t            return;\n\t        }\n\t\n\t        var email = this.state.formData.get('email') || '';\n\t        var role_id = this.state.formData.get('role_id') || '';\n\t        var onUserInvited = _.bind(this.onUserInvited, this);\n\t        var onUserInviteError = _.bind(this.onUserInviteError, this);\n\t\n\t        Requests.Organisations.inviteUser(email, role_id).then(onUserInvited, onUserInviteError);\n\t    },\n\t\n\t    onUserInvited: function onUserInvited(invitation) {\n\t        this.props.closeModal();\n\t\n\t        if (this.props.onComplete) {\n\t            this.props.onComplete(invitation);\n\t        }\n\t    },\n\t\n\t    onUserInviteError: function onUserInviteError(errors) {\n\t        this.updateFormErrors(errors);\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = TeamInviteModal;\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar Immutable = __webpack_require__(59);\n\tvar _ = __webpack_require__(2);\n\tvar $ = __webpack_require__(6);\n\t\n\tvar ModalMixins = Panneau.Mixins.Modal;\n\tvar SubFormMixins = __webpack_require__(69);\n\t\n\tvar Popover = Panneau.Components.Modals.Popover;\n\tvar FormActions = Panneau.Actions.Form;\n\tvar Requests = __webpack_require__(9);\n\tvar TeamActions = __webpack_require__(33);\n\t\n\tvar DangerZone = __webpack_require__(3);\n\t\n\tvar TeamEditModal = React.createClass({\n\t    displayName: 'TeamEditModal',\n\t\n\t\n\t    mixins: [SubFormMixins],\n\t\n\t    propTypes: {\n\t        data: React.PropTypes.object.isRequired\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            visible: false,\n\t            element: null,\n\t            offsetX: 0,\n\t            offsetY: 0,\n\t            formName: 'organisation.team.edit'\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            formData: Immutable.fromJS({\n\t                role_id: _.get(this.props, 'data.role.id', '') + ''\n\t            }),\n\t            formErrors: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var other = _.omit(this.props, ['role', 'onClose', 'onOpen']);\n\t        var type = _.get(this.props, 'data.type', 'invitation');\n\t\n\t        var title = type === 'inivtation' ? 'Modifier une invitation' : 'Modifer un membre de l\\'équipe';\n\t        var deleteTitle = '';\n\t        var deleteDescription = type === 'inivtation' ? 'Supprimer l\\'invitation' : 'Supprimer l\\'utilisateur';\n\t        var deleteConfirmation = type === 'invitation' ? 'Êtes-vous certain de vouloir supprimer cette invitation?' : 'Êtes-vous certain de vouloir enlever cet utilisateur de l\\'organisation?';\n\t\n\t        //Form\n\t        var formProps = Panneau.Schema.Form[this.props.formName];\n\t        formProps.name = this.props.formName;\n\t        formProps.onSubmit = this.onSubmit;\n\t        var formContainer = this.renderForm(formProps);\n\t\n\t        return React.createElement(\n\t            Popover,\n\t            _extends({ title: title }, other, { onClose: this.onClose }),\n\t            formContainer,\n\t            React.createElement(DangerZone, { deleteTitle: deleteTitle, deleteDescription: deleteDescription, deleteConfirmation: deleteConfirmation, onDelete: this.onDelete })\n\t        );\n\t    },\n\t\n\t    onClose: function onClose() {\n\t        if (this.props.onClose) {\n\t            this.props.onClose();\n\t        }\n\t    },\n\t\n\t    onSubmit: function onSubmit(e) {\n\t        e.preventDefault();\n\t\n\t        if (!this.state.formData) {\n\t            this.setState({\n\t                formErrors: Immutable.fromJS({\n\t                    'role_id': ['']\n\t                })\n\t            });\n\t            return;\n\t        }\n\t\n\t        var type = _.get(this.props, 'data.type', 'invitation');\n\t        var role_id = this.state.formData.get('role_id') || '';\n\t        var onUpdated = _.bind(this.onUpdated, this);\n\t        var onUpdateError = _.bind(this.onUpdateError, this);\n\t\n\t        if (type === 'invitation') {\n\t            Requests.Organisations.updateInvitation(this.props.data.id, role_id).then(onUpdated, onUpdateError);\n\t        } else {\n\t            Requests.Organisations.updateUser(this.props.data.id, role_id).then(onUpdated, onUpdateError);\n\t        }\n\t    },\n\t\n\t    onDelete: function onDelete(e) {\n\t        e.preventDefault();\n\t\n\t        var type = _.get(this.props, 'data.type', 'invitation');\n\t        var onRemoved = _.bind(this.onRemoved, this);\n\t        var onRemoveError = _.bind(this.onRemoveError, this);\n\t\n\t        if (type === 'invitation') {\n\t            Requests.Organisations.removeInvitation(this.props.data.id).then(onRemoved, onRemoveError);\n\t        } else {\n\t            Requests.Organisations.removeUser(this.props.data.id).then(onRemoved, onRemoveError);\n\t        }\n\t    },\n\t\n\t    onUpdated: function onUpdated(data) {\n\t        this.props.closeModal();\n\t\n\t        data.type = this.props.data.type;\n\t\n\t        if (this.props.onComplete) {\n\t            this.props.onComplete(data);\n\t        }\n\t    },\n\t\n\t    onUpdateError: function onUpdateError(errors) {\n\t        this.updateFormErrors(errors);\n\t    },\n\t\n\t    onRemoved: function onRemoved(user) {\n\t        this.props.closeModal();\n\t\n\t        if (this.props.onComplete) {\n\t            this.props.onComplete(null);\n\t        }\n\t    },\n\t\n\t    onRemoveError: function onRemoveError() {}\n\t\n\t});\n\t\n\tmodule.exports = TeamEditModal;\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t    'Location': __webpack_require__(80),\n\t    'Position': __webpack_require__(82),\n\t    'Role': __webpack_require__(85),\n\t    'PasswordChange': __webpack_require__(86),\n\t    'Organisations': __webpack_require__(87),\n\t\n\t    'ScreenTechnical': __webpack_require__(88),\n\t    'ScreenResolution': __webpack_require__(89),\n\t\n\t    'Filters': __webpack_require__(90),\n\t    'Filter': __webpack_require__(91),\n\t    'FilterDate': __webpack_require__(92),\n\t    'FilterSelect': __webpack_require__(93),\n\t\n\t    'ConditionWeekdays': __webpack_require__(94),\n\t    'ConditionDateRange': __webpack_require__(96),\n\t    'ConditionTime': __webpack_require__(97)\n\t};\n\n/***/ },\n/* 80 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Panneau = __webpack_require__(8);\n\t\n\tvar SubFieldMixin = __webpack_require__(81);\n\tvar PositionField = __webpack_require__(82);\n\tvar gmap = __webpack_require__(84);\n\t\n\tvar AddressField = React.createClass({\n\t    displayName: 'AddressField',\n\t\n\t\n\t    mixins: [SubFieldMixin],\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string,\n\t        value: React.PropTypes.object,\n\t        onChange: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            withPosition: true\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t\n\t        var inputNumber = this.renderTextField('number', {\n\t            label: 'Numéro',\n\t            wrapperClassName: 'col-xs-4 col-md-4'\n\t        });\n\t        var inputStreet = this.renderTextField('street', {\n\t            label: 'Rue',\n\t            wrapperClassName: 'col-xs-8 col-md-8'\n\t        });\n\t        var inputCity = this.renderTextField('city', {\n\t            label: 'Ville',\n\t            wrapperClassName: 'col-xs-8 col-md-8'\n\t        });\n\t        var inputPostalcode = this.renderTextField('postalcode', {\n\t            label: 'Code postal',\n\t            wrapperClassName: 'col-xs-4 col-md-4'\n\t        });\n\t\n\t        var positionValue = _.get(this.props, 'value.position', {});\n\t        var positionName = this.props.name + '[position]';\n\t        var position = null;\n\t        if (this.props.withPosition) {\n\t            position = React.createElement(PositionField, { name: positionName, value: positionValue, onChange: this.onPositionChange });\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-address' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'row' },\n\t                inputNumber,\n\t                inputStreet,\n\t                inputCity,\n\t                inputPostalcode\n\t            ),\n\t            position\n\t        );\n\t    },\n\t\n\t    checkAddress: _.debounce(function (value) {\n\t        if (!value.number || !value.street || !value.street.length) {\n\t            return;\n\t        }\n\t\n\t        var address = [value.number + ' ' + value.street];\n\t        if (value.city && value.city.length) {\n\t            address.push(value.city);\n\t        } else {\n\t            address.push('Montreal');\n\t        }\n\t        if (value.postalcode && value.postalcode.length) {\n\t            address.push(value.postalcode);\n\t        }\n\t\n\t        gmap.loadGMap().then(function () {\n\t            return gmap.geocode(address.join(', '));\n\t        }).then(_.bind(this.onGeocode, this));\n\t    }, 300),\n\t\n\t    onGeocode: function onGeocode(latLng) {\n\t        this.onSubFieldChange('position', {\n\t            latitude: latLng.lat(),\n\t            longitude: latLng.lng()\n\t        });\n\t    },\n\t\n\t    onPositionChange: function onPositionChange(value) {\n\t        var currentValue = Immutable.fromJS(this.props.value || {});\n\t        var newValue = currentValue.mergeIn(['position'], value);\n\t\n\t        if (currentValue !== newValue) {\n\t            var value = newValue.toJS();\n\t\n\t            if (this.props.onChange) {\n\t                this.props.onChange(value);\n\t            }\n\t        }\n\t    },\n\t\n\t    onChange: function onChange(value) {\n\t        var latitude = _.get(value, 'position.latitude', null);\n\t        var longitude = _.get(value, 'position.longitude', null);\n\t        if (!latitude && !longitude) {\n\t            this.checkAddress(value);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = AddressField;\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _ = __webpack_require__(2);\n\t\n\tvar TextField = Panneau.Components.Fields.Text;\n\t\n\tvar SubField = {\n\t\n\t    renderTextField: function renderTextField(key, props) {\n\t        return this.renderSubField(TextField, key, props);\n\t    },\n\t\n\t    renderSubField: function renderSubField(FieldComponent, key, props) {\n\t        var name = this.props.name + '[' + key + ']';\n\t        var value = _.get(this.props, 'value.' + key, null);\n\t\n\t        props = _.extend({\n\t            wrapper: true,\n\t            wrapperClassName: ''\n\t        }, props);\n\t\n\t        var onChange = _.bind(function (value) {\n\t            this.onSubFieldChange(key, value);\n\t        }, this);\n\t\n\t        var field = React.createElement(FieldComponent, _extends({ name: name, value: value, onChange: onChange }, props));\n\t\n\t        if (props.wrapper) {\n\t            return React.createElement(\n\t                'div',\n\t                { className: props.wrapperClassName },\n\t                field\n\t            );\n\t        } else {\n\t            return field;\n\t        }\n\t    },\n\t\n\t    onSubFieldChange: function onSubFieldChange(key, value) {\n\t        var currentValue = Immutable.fromJS(this.props.value || {});\n\t        var newValue = currentValue.set(key, value);\n\t\n\t        if (currentValue !== newValue) {\n\t            var value = newValue.toJS();\n\t\n\t            if (this.onChange) {\n\t                this.onChange(value);\n\t            }\n\t\n\t            if (this.props.onChange) {\n\t                this.props.onChange(value);\n\t            }\n\t        }\n\t    }\n\t\n\t};\n\t\n\tmodule.exports = SubField;\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Panneau = __webpack_require__(8);\n\t\n\tvar SubFieldMixin = __webpack_require__(81);\n\tvar Map = __webpack_require__(83);\n\t\n\tvar PositionField = React.createClass({\n\t    displayName: 'PositionField',\n\t\n\t\n\t    mixins: [SubFieldMixin],\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string,\n\t        value: React.PropTypes.object,\n\t        onChange: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t\n\t        var inputLatitude = this.renderTextField('latitude', {\n\t            label: 'Latitude',\n\t            wrapperClassName: 'col-xs-6'\n\t        });\n\t        var inputLongitude = this.renderTextField('longitude', {\n\t            label: 'Longitude',\n\t            wrapperClassName: 'col-xs-6'\n\t        });\n\t\n\t        var latitude = _.get(this.props, 'value.latitude', null);\n\t        var longitude = _.get(this.props, 'value.longitude', null);\n\t        var radius = parseInt(_.get(this.props, 'value.radius', 0));\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-position' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'row' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'col-sm-12' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'row' },\n\t                        inputLatitude,\n\t                        inputLongitude\n\t                    )\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'col-sm-12' },\n\t                    React.createElement(Map, { zoom: 17, latitude: parseFloat(latitude), longitude: parseFloat(longitude), radius: parseInt(radius), onPositionChange: this.onMapPositionChange, onRadiusChange: this.onMapRadiusChange })\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onMapPositionChange: function onMapPositionChange(position) {\n\t        if (this.props.onChange) {\n\t            this.props.onChange(position);\n\t        }\n\t    },\n\t\n\t    onMapRadiusChange: function onMapRadiusChange(value) {\n\t        this.onSubFieldChange('radius', Math.round(value));\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = PositionField;\n\n/***/ },\n/* 83 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar ReactDOM = __webpack_require__(5);\n\tvar _ = __webpack_require__(2);\n\tvar Panneau = __webpack_require__(8);\n\tvar Promise = __webpack_require__(11);\n\t\n\tvar loadGMap = __webpack_require__(84).loadGMap;\n\t\n\tvar Map = React.createClass({\n\t    displayName: 'Map',\n\t\n\t\n\t    propTypes: {\n\t        latitude: React.PropTypes.number,\n\t        longitude: React.PropTypes.number,\n\t        zoom: React.PropTypes.number,\n\t        radius: React.PropTypes.number,\n\t        marker: React.PropTypes.bool\n\t    },\n\t\n\t    map: null,\n\t    marker: null,\n\t    circle: null,\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            apiKey: null,\n\t            latitude: null,\n\t            longitude: null,\n\t            defaultLatitude: 45.509247,\n\t            defaultLongitude: -73.56816,\n\t            zoom: 14,\n\t            radius: 0,\n\t            marker: true,\n\t            draggable: true\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'map-container' },\n\t            React.createElement('div', { ref: 'map', className: 'map' })\n\t        );\n\t    },\n\t\n\t    renderMap: function renderMap() {\n\t        var center = this.getCenter();\n\t        var mapElement = ReactDOM.findDOMNode(this.refs.map);\n\t        this.map = new google.maps.Map(mapElement, {\n\t            center: center,\n\t            zoom: this.props.zoom\n\t        });\n\t\n\t        if (this.props.radius) {\n\t            this.renderCircle(center);\n\t        }\n\t\n\t        if (this.props.marker) {\n\t            this.renderMarker(center);\n\t        }\n\t    },\n\t\n\t    renderMarker: function renderMarker(position) {\n\t        if (this.marker) {\n\t            this.marker.setMap(this.map);\n\t            return;\n\t        }\n\t\n\t        this.marker = new google.maps.Marker({\n\t            position: position,\n\t            map: this.map,\n\t            draggable: this.props.draggable\n\t        });\n\t\n\t        this.marker.addListener('drag', _.bind(this.onMarkerDrag, this));\n\t        this.marker.addListener('dragend', _.bind(this.onMarkerDragEnd, this));\n\t    },\n\t\n\t    renderCircle: function renderCircle(center) {\n\t        if (this.circle) {\n\t            this.circle.setMap(this.map);\n\t            this.circle.setRadius(this.props.radius);\n\t            return;\n\t        }\n\t\n\t        this.circle = new google.maps.Circle({\n\t            strokeColor: '#0000FF',\n\t            strokeOpacity: 0.8,\n\t            strokeWeight: 2,\n\t            fillColor: '#0000FF',\n\t            fillOpacity: 0.35,\n\t            center: center,\n\t            map: this.map,\n\t            radius: this.props.radius,\n\t            editable: true,\n\t            draggable: this.props.draggable\n\t        });\n\t\n\t        this.circle.addListener('radius_changed', _.bind(this.onCircleRadiusChanged, this));\n\t        this.circle.addListener('drag', _.bind(this.onCircleDrag, this));\n\t        this.circle.addListener('dragend', _.bind(this.onCircleDragEnd, this));\n\t    },\n\t\n\t    getCenter: function getCenter() {\n\t        return {\n\t            lat: this.props.latitude || this.props.defaultLatitude,\n\t            lng: this.props.longitude || this.props.defaultLongitude\n\t        };\n\t    },\n\t\n\t    componentDidMount: function componentDidMount() {\n\t        loadGMap(this.props.apiKey).then(_.bind(this.renderMap, this));\n\t    },\n\t\n\t    componentWillUnmount: function componentWillUnmount() {\n\t        this.map = null;\n\t    },\n\t\n\t    componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n\t        if (typeof google === 'undefined' || typeof google.maps === 'undefined') {\n\t            return;\n\t        }\n\t\n\t        var center = this.getCenter();\n\t\n\t        if (this.props.latitude && this.props.longitude && (prevProps.latitude !== this.props.latitude || prevProps.longitude !== this.props.longitude)) {\n\t            if (this.map) {\n\t                this.map.setCenter(center);\n\t            }\n\t            if (this.marker) {\n\t                this.marker.setPosition(center);\n\t            }\n\t            if (this.circle) {\n\t                this.circle.setCenter(center);\n\t            }\n\t        }\n\t        if (prevProps.zoom !== this.props.zoom) {\n\t            if (this.map) {\n\t                this.map.setZoom(this.props.zoom);\n\t            }\n\t        }\n\t        if (prevProps.marker !== this.props.marker) {\n\t            if (this.props.marker) {\n\t                this.renderMarker();\n\t            } else if (this.marker) {\n\t                this.marker.setMap(null);\n\t            }\n\t        }\n\t        if (prevProps.radius !== this.props.radius) {\n\t            if (this.props.radius) {\n\t                this.renderCircle(center);\n\t            } else if (this.circle) {\n\t                this.circle.setMap(null);\n\t            }\n\t        }\n\t    },\n\t\n\t    onCircleRadiusChanged: function onCircleRadiusChanged() {\n\t        var radius = this.circle.getRadius();\n\t        if (radius !== parseInt(this.props.radius)) {\n\t            if (this.props.onRadiusChange) {\n\t                this.props.onRadiusChange(radius);\n\t            }\n\t        }\n\t    },\n\t\n\t    onCircleDrag: function onCircleDrag(e) {\n\t        if (this.marker) {\n\t            this.marker.setPosition(this.circle.getCenter());\n\t        }\n\t    },\n\t\n\t    onCircleDragEnd: function onCircleDragEnd(e) {\n\t        var position = this.circle.getCenter();\n\t        if (this.props.onPositionChange) {\n\t            this.props.onPositionChange({\n\t                latitude: position.lat(),\n\t                longitude: position.lng()\n\t            });\n\t        }\n\t    },\n\t\n\t    onMarkerDrag: function onMarkerDrag(e) {\n\t        if (this.circle) {\n\t            this.circle.setCenter(e.latLng);\n\t        }\n\t    },\n\t\n\t    onMarkerDragEnd: function onMarkerDragEnd(e) {\n\t        if (this.props.onPositionChange) {\n\t            this.props.onPositionChange({\n\t                latitude: e.latLng.lat(),\n\t                longitude: e.latLng.lng()\n\t            });\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = Map;\n\n/***/ },\n/* 84 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar API_KEY = typeof GOOGLE_API_KEY !== 'undefined' ? GOOGLE_API_KEY : 'AIzaSyDYuKJ4N-IxhsZHSaiBFwzTE4KTJrE17Js';\n\t\n\tfunction loadGMap(apiKey) {\n\t    if (typeof apiKey === 'undefined' || !apiKey) {\n\t        apiKey = API_KEY;\n\t    }\n\t\n\t    return new Promise(function (resolve, reject) {\n\t        if (typeof google !== 'undefined' && typeof google.maps !== 'undefined') {\n\t            return resolve();\n\t        }\n\t\n\t        var callbackName = 'gmapLoaded_' + new Date().getTime();\n\t        window[callbackName] = function () {\n\t            return resolve();\n\t            window[callbackName] = null;\n\t        };\n\t        var url = 'https://maps.googleapis.com/maps/api/js?key=' + apiKey + '&callback=' + callbackName;\n\t        var script = document.createElement('script');\n\t        script.src = url;\n\t        script.type = 'text/javascript';\n\t        document.getElementsByTagName('head')[0].appendChild(script);\n\t    });\n\t}\n\t\n\tfunction geocode(address) {\n\t    return new Promise(function (resolve, reject) {\n\t        var geocoder = new google.maps.Geocoder();\n\t\n\t        geocoder.geocode({\n\t            'address': address\n\t        }, function (results, status) {\n\t            if (status == google.maps.GeocoderStatus.OK) {\n\t                resolve(results[0].geometry.location);\n\t            } else {\n\t                reject(status);\n\t            }\n\t        });\n\t    });\n\t}\n\t\n\tmodule.exports = {\n\t    API_KEY: API_KEY,\n\t    loadGMap: loadGMap,\n\t    geocode: geocode\n\t};\n\n/***/ },\n/* 85 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar RoleField = React.createClass({\n\t    displayName: 'RoleField',\n\t\n\t\n\t    mixins: [Panneau.Mixins.FieldErrors],\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            name: 'role',\n\t            value: null,\n\t            onChange: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var label;\n\t        if (this.props.label) {\n\t            label = React.createElement(\n\t                'label',\n\t                { htmlFor: name, className: 'control-label' },\n\t                this.props.label\n\t            );\n\t        }\n\t\n\t        var select = this.renderSelect();\n\t\n\t        var formGroupClassName = 'form-group form-group-role';\n\t        if (this.props.errors) {\n\t            formGroupClassName += ' has-error';\n\t        }\n\t\n\t        var errors = this.renderErrors(this.props.errors);\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: formGroupClassName },\n\t            label,\n\t            select,\n\t            errors,\n\t            React.createElement('div', { className: 'description' })\n\t        );\n\t    },\n\t\n\t    renderSelect: function renderSelect() {\n\t        var selectProps = _.omit(this.props, ['onChange', 'label']);\n\t        var Select = Panneau.Components.Fields.Select;\n\t        return React.createElement(Select, _extends({}, selectProps, { onChange: this.onChange }));\n\t    },\n\t\n\t    onChange: function onChange(value) {\n\t\n\t        if (this.props.onChange) {\n\t            this.props.onChange(value);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = RoleField;\n\n/***/ },\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Panneau = __webpack_require__(8);\n\t\n\tvar PasswordField = Panneau.Components.Fields.Password;\n\t\n\tvar PasswordChangeField = React.createClass({\n\t    displayName: 'PasswordChangeField',\n\t\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string,\n\t        value: React.PropTypes.object,\n\t        onChange: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            withPosition: true\n\t        };\n\t    },\n\t\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            update: this.props.errors && this.props.errors.length ? true : false\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var props = _.omit(this.props, ['label']);\n\t\n\t        var label = null;\n\t        if (this.props.label && this.props.label.length) {\n\t            label = React.createElement(\n\t                'label',\n\t                { htmlFor: this.props.name, className: 'control-label' },\n\t                this.props.label\n\t            );\n\t        }\n\t\n\t        var link = null;\n\t        if (!this.state.update) {\n\t            link = React.createElement(\n\t                'div',\n\t                { className: 'link' },\n\t                React.createElement(\n\t                    'a',\n\t                    { href: '#', onClick: this.onClick },\n\t                    'Changer votre mot de passe...'\n\t                )\n\t            );\n\t        }\n\t\n\t        var passwordField = null;\n\t        if (this.state.update) {\n\t            passwordField = React.createElement(\n\t                'div',\n\t                { className: 'field' },\n\t                React.createElement(PasswordField, _extends({}, props, { label: 'Nouveau mot de passe', confirmationLabel: 'Confirmer le mot de passe' }))\n\t            );\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-password-change' },\n\t            label,\n\t            link,\n\t            passwordField\n\t        );\n\t    },\n\t\n\t    onClick: function onClick(e) {\n\t        e.preventDefault();\n\t\n\t        this.setState({\n\t            update: true\n\t        });\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = PasswordChangeField;\n\n/***/ },\n/* 87 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar Panneau = __webpack_require__(8);\n\t\n\tvar OrganisationsField = React.createClass({\n\t    displayName: 'OrganisationsField',\n\t\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t        var label;\n\t        if (this.props.label) {\n\t            label = React.createElement(\n\t                'label',\n\t                { htmlFor: this.props.name, className: 'control-label' },\n\t                this.props.label\n\t            );\n\t        }\n\t\n\t        var organisations = (this.props.value || []).map(_.bind(this.renderOrganisation, this));\n\t        if (!organisations.length) {\n\t            organisations = React.createElement(\n\t                'div',\n\t                { className: 'list-item list-item-empty' },\n\t                'Aucune organisation pour le moment.'\n\t            );\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-organisations' },\n\t            label,\n\t            React.createElement(\n\t                'div',\n\t                { className: 'list list-rows list-organisations' },\n\t                organisations\n\t            )\n\t        );\n\t    },\n\t\n\t    renderOrganisation: function renderOrganisation(organisation, index) {\n\t        var onClickRemove = _.bind(function (e) {\n\t            this.onClickRemove(e, organisation, index);\n\t        }, this);\n\t\n\t        var role = _.get(organisation, 'pivot.role.name');\n\t        var name = this.props.name + '[]';\n\t        var key = 'organisation_' + index;\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: key, className: 'list-item' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'list-item-col list-item-col-icon' },\n\t                React.createElement('span', { className: 'glyphicon glyphicon-lock' })\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'list-item-col' },\n\t                organisation.name,\n\t                React.createElement('input', { type: 'hidden', name: name, value: organisation.id })\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'list-item-col list-item-col-role' },\n\t                role\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'list-item-col list-item-col-actions list-item-col-last' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-default', onClick: onClickRemove },\n\t                    React.createElement('span', { className: 'glyphicon glyphicon-remove' })\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onClickRemove: function onClickRemove(e, organisation, index) {\n\t        e.preventDefault();\n\t\n\t        if (!confirm('Êtes-vous certain de vouloir vous enlever de cet organisation?')) {\n\t            return;\n\t        }\n\t\n\t        var currentValue = Immutable.fromJS(this.props.value || []);\n\t        var newValue = currentValue.delete(index);\n\t\n\t        if (currentValue !== newValue) {\n\t            var value = newValue.toJS();\n\t\n\t            if (this.props.onChange) {\n\t                this.props.onChange(value);\n\t            }\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = OrganisationsField;\n\n/***/ },\n/* 88 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Panneau = __webpack_require__(8);\n\t\n\tvar SubFieldMixin = __webpack_require__(81);\n\t\n\tvar ScreenResolutionField = __webpack_require__(89);\n\t\n\tvar ScreenTechnicalField = React.createClass({\n\t    displayName: 'ScreenTechnicalField',\n\t\n\t\n\t    mixins: [SubFieldMixin],\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string,\n\t        value: React.PropTypes.object,\n\t        onChange: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t\n\t        var fieldScreenResolution = this.renderSubField(ScreenResolutionField, 'resolution', {});\n\t\n\t        var fieldVendor = this.renderTextField('vendor', {\n\t            wrapperClassName: 'col-xs-12 col-sm-4',\n\t            label: 'Vendeur'\n\t        });\n\t\n\t        var fieldModel = this.renderTextField('model', {\n\t            wrapperClassName: 'col-xs-12 col-sm-4',\n\t            label: 'Modèle'\n\t        });\n\t\n\t        var fieldSerialNumber = this.renderTextField('serial_number', {\n\t            wrapperClassName: 'col-xs-12 col-sm-4',\n\t            label: 'Numéro de série'\n\t        });\n\t\n\t        var fieldSize = this.renderTextField('size', {\n\t            label: 'Taille'\n\t        });\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-screen-technical' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'row' },\n\t                fieldVendor,\n\t                fieldModel,\n\t                fieldSerialNumber\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'row' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'col-sm-4' },\n\t                    fieldSize\n\t                ),\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'col-sm-8' },\n\t                    fieldScreenResolution\n\t                )\n\t            )\n\t        );\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ScreenTechnicalField;\n\n/***/ },\n/* 89 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Panneau = __webpack_require__(8);\n\t\n\tvar SubFieldMixin = __webpack_require__(81);\n\t\n\tvar ScreenResolutionField = React.createClass({\n\t    displayName: 'ScreenResolutionField',\n\t\n\t\n\t    mixins: [SubFieldMixin],\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string,\n\t        value: React.PropTypes.object,\n\t        onChange: React.PropTypes.func\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {};\n\t    },\n\t\n\t    render: function render() {\n\t\n\t        var inputResolutionX = this.renderTextField('x', {\n\t            wrapperClassName: 'col-xs-6 col-md-6',\n\t            prefix: 'x:',\n\t            suffix: 'px'\n\t        });\n\t        var inputResolutionY = this.renderTextField('y', {\n\t            wrapperClassName: 'col-xs-6 col-md-6',\n\t            prefix: 'y:',\n\t            suffix: 'px'\n\t        });\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-screen-resolution' },\n\t            React.createElement(\n\t                'label',\n\t                { className: 'control-label' },\n\t                'Résolution'\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'row' },\n\t                inputResolutionX,\n\t                inputResolutionY\n\t            )\n\t        );\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ScreenResolutionField;\n\n/***/ },\n/* 90 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar FilterField = __webpack_require__(91);\n\t\n\tvar FiltersField = React.createClass({\n\t    displayName: 'FiltersField',\n\t\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string,\n\t        onChange: React.PropTypes.func,\n\t        value: React.PropTypes.array\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            name: 'filters',\n\t            onChange: null,\n\t            value: null,\n\t            filters: [{\n\t                'name': 'date',\n\t                'type': 'date',\n\t                'label': 'Date'\n\t            }, {\n\t                'name': 'author',\n\t                'type': 'select',\n\t                'label': 'Auteur',\n\t                'values': [{\n\t                    'value': '1',\n\t                    'label': 'Auteur 1'\n\t                }]\n\t            }]\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t\n\t        var value = _.get(this.props, 'value', null) || [];\n\t        if (!value.length) {\n\t            value.push({});\n\t        }\n\t        var filters = this.renderFilters(value);\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-list form-group-filters' },\n\t            filters\n\t        );\n\t    },\n\t\n\t    renderFilters: function renderFilters(filters) {\n\t        var lastIndex = filters.length - 1;\n\t        return filters.map(_.bind(function (filter, index) {\n\t            var isLast = index === lastIndex;\n\t            return this.renderFilter(filter, index, isLast);\n\t        }, this));\n\t    },\n\t\n\t    renderFilter: function renderFilter(filter, index, isLast) {\n\t        var key = 'filter_' + index;\n\t        var name = this.props.name + '[' + index + ']';\n\t\n\t        //Event handlers\n\t        var onChange = _.bind(function (value) {\n\t            this.onFilterChange(value, index);\n\t        }, this);\n\t\n\t        var onClickRemove = _.bind(function (e) {\n\t            this.onFilterClickRemove(e, index);\n\t        }, this);\n\t\n\t        var addButton = null;\n\t        if (isLast) {\n\t            addButton = React.createElement('button', { type: 'button', className: 'btn btn-default glyphicon glyphicon-plus-sign', onClick: this.onClickAdd });\n\t        }\n\t\n\t        var filters = this.props.filters;\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { key: key, className: 'form-group-list-item form-group-row' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group-inline' },\n\t                React.createElement(FilterField, { filters: filters, name: name, value: filter, onChange: onChange })\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group-inline form-group-actions' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'btn-group' },\n\t                    addButton,\n\t                    React.createElement('button', { type: 'button', className: 'btn btn-default glyphicon glyphicon-minus-sign', onClick: onClickRemove })\n\t                )\n\t            )\n\t        );\n\t    },\n\t\n\t    onClickAdd: function onClickAdd(e) {\n\t        e.preventDefault();\n\t\n\t        var value = _.get(this.props, 'value', null) || [];\n\t        if (!value.length) {\n\t            value.push({});\n\t        }\n\t        value.push({});\n\t\n\t        if (this.props.onChange) {\n\t            this.props.onChange(value);\n\t        }\n\t    },\n\t\n\t    onFilterChange: function onFilterChange(value, index) {\n\t        var currentValue = Immutable.fromJS(this.props.value || []);\n\t        var newValue = currentValue.set(index, value);\n\t        if (newValue !== currentValue) {\n\t            var value = newValue.toJS();\n\t\n\t            if (this.props.onChange) {\n\t                this.props.onChange(value);\n\t            }\n\t        }\n\t    },\n\t\n\t    onFilterClickRemove: function onFilterClickRemove(e, index) {\n\t        e.preventDefault();\n\t\n\t        var value = _.get(this.props, 'value', null) || [];\n\t        var currentValue = Immutable.fromJS(value);\n\t        var newValue = currentValue.delete(index);\n\t        value = newValue.toJS();\n\t\n\t        if (this.props.onChange) {\n\t            this.props.onChange(value);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = FiltersField;\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar Filter = React.createClass({\n\t    displayName: 'Filter',\n\t\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string,\n\t        onChange: React.PropTypes.func,\n\t        value: React.PropTypes.object,\n\t        filters: React.PropTypes.array\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            name: 'filter',\n\t            onChange: null,\n\t            value: null,\n\t            filters: []\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var filterName = _.get(this.props, 'value.name', null);\n\t        var filter = _.find(this.props.filters, 'name', filterName);\n\t        var filterValue = _.get(this.props, 'value.value', null);\n\t        var filterLabel = filter ? filter.label : 'Filtrer par';\n\t        var filtersMenu = this.renderFiltersMenu(this.props.filters || []);\n\t        var filterFieldName = this.props.name + '[name]';\n\t        var valueFieldName = this.props.name + '[value]';\n\t\n\t        var filterFieldGroup = null;\n\t        if (filter) {\n\t            var filterType = 'filter' + filter.type.replace(/[^a-z0-9]/gi, '').toLowerCase();\n\t            var FilterField = _.find(Panneau.Components.Fields, function (Component, key) {\n\t                return key.replace(/[^a-z0-9]/gi, '').toLowerCase() === filterType;\n\t            });\n\t            if (FilterField) {\n\t                var other = _.omit(filter, ['name', 'value', 'label', 'onChange']);\n\t                filterFieldGroup = React.createElement(\n\t                    'div',\n\t                    { className: 'form-group-inline' },\n\t                    React.createElement(FilterField, _extends({ name: valueFieldName, value: filterValue, onChange: this.onFilterValueChange }, other))\n\t                );\n\t            }\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-filter form-group-row' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group-inline' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-default dropdown-toggle', 'data-toggle': 'dropdown', 'aria-haspopup': 'true', 'aria-expanded': 'false' },\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'tag' },\n\t                        filterLabel\n\t                    ),\n\t                    React.createElement('span', { className: 'glyphicon glyphicon glyphicon-menu-down' })\n\t                ),\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: 'dropdown-menu' },\n\t                    filtersMenu\n\t                ),\n\t                React.createElement('input', { type: 'hidden', name: filterFieldName, value: filterName })\n\t            ),\n\t            filterFieldGroup\n\t        );\n\t    },\n\t\n\t    renderFiltersMenu: function renderFiltersMenu(filters) {\n\t        return filters.map(_.bind(this.renderFiltersMenuItem, this));\n\t    },\n\t\n\t    renderFiltersMenuItem: function renderFiltersMenuItem(filter, index) {\n\t        var key = 'filter_menu' + index;\n\t\n\t        var onClick = _.bind(function (e) {\n\t            this.onFilterMenuClick(e, filter);\n\t        }, this);\n\t\n\t        return React.createElement(\n\t            'li',\n\t            { key: key },\n\t            React.createElement(\n\t                'a',\n\t                { href: '#', onClick: onClick },\n\t                filter.label\n\t            )\n\t        );\n\t    },\n\t\n\t    onFilterMenuClick: function onFilterMenuClick(e, filter) {\n\t        e.preventDefault();\n\t\n\t        this.onValueChange({\n\t            name: filter.name\n\t        });\n\t    },\n\t\n\t    onFilterValueChange: function onFilterValueChange(value) {\n\t        this.onValueChange('value', value);\n\t    },\n\t\n\t    onValueChange: function onValueChange(name, value) {\n\t        var currentValue = Immutable.fromJS(this.props.value || {});\n\t        var newValue = _.isObject(name) ? Immutable.fromJS(name) : currentValue.set(name, value);\n\t\n\t        if (currentValue !== newValue) {\n\t            var value = newValue.toJS();\n\t\n\t            if (this.props.onChange) {\n\t                this.props.onChange(value);\n\t            }\n\t        }\n\t    }\n\t\n\t});\n\t\n\t/*\n\t\n\t<div className=\"list-item\">\n\t    <div className=\"list-item-col-8\">\n\t        <div className=\"select-info\">\n\t            <button type=\"button\" className=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t                <span className=\"tag\">Lieu</span>\n\t                <span className=\"glyphicon glyphicon glyphicon-menu-down\"></span>\n\t            </button>\n\t            <div className=\"dropdown-menu\"></div>\n\t        </div>\n\t        <span className=\"word-separator\" >est</span>\n\t        <div className=\"select-info\">\n\t            <button type=\"button\" className=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t                <span className=\"tag\">à moins de 10 km</span>\n\t                <span className=\"glyphicon glyphicon glyphicon-menu-down\"></span>\n\t            </button>\n\t            <div className=\"dropdown-menu\"></div>\n\t        </div>\n\t    </div>\n\t    <div className=\"list-item-col-4 list-item-col-last\">\n\t        <button type=\"button\" className=\"btn btn-default glyphicon glyphicon-plus-sign\"></button>\n\t        <button type=\"button\" className=\"btn btn-default glyphicon glyphicon-minus-sign\"></button>\n\t    </div>\n\t</div>\n\t\n\t*/\n\t\n\tmodule.exports = Filter;\n\n/***/ },\n/* 92 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar DateField = Panneau.Components.Fields.Date;\n\tvar DateRangeField = Panneau.Components.Fields.DateRange;\n\t\n\tvar FilterDateField = React.createClass({\n\t    displayName: 'FilterDateField',\n\t\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string,\n\t        types: React.PropTypes.array.isRequired\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            name: 'filter_date',\n\t            value: null,\n\t            onChange: null,\n\t            types: [{\n\t                'name': 'future',\n\t                'label': 'dans le futur'\n\t            }, {\n\t                'name': 'date',\n\t                'label': 'à la date'\n\t            }, {\n\t                'name': 'range',\n\t                'label': 'entre les dates'\n\t            }]\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var value = _.get(this.props, 'value', null);\n\t        var valueType = value === 'future' ? value : _.isArray(value) ? 'range' : value !== null ? 'date' : null;\n\t        console.log(valueType);\n\t        var type = _.find(this.props.types, function (type) {\n\t            return type.name === valueType;\n\t        });\n\t        var typeLabel = 'Sélectionnez...';\n\t        if (type) {\n\t            typeLabel = type.label;\n\t        }\n\t\n\t        var types = this.renderTypes(this.props.types);\n\t\n\t        var dateField;\n\t        if (type && type.name === 'date') {\n\t            dateField = React.createElement(\n\t                'div',\n\t                { className: 'form-group-inline' },\n\t                React.createElement(DateField, { value: value, onChange: this.onDateChange })\n\t            );\n\t        } else if (type && type.name === 'range') {\n\t            value = value || [];\n\t            var valueStart = _.get(value, '0');\n\t            var valueEnd = _.get(value, '1');\n\t            dateField = React.createElement(\n\t                'div',\n\t                { className: 'form-group-inline' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'form-group-row' },\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'form-group-inline form-group-inline-daterange' },\n\t                        React.createElement(DateField, { value: valueStart, onChange: this.onStartDateChange })\n\t                    ),\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'form-group-inline form-group-label' },\n\t                        'et'\n\t                    ),\n\t                    React.createElement(\n\t                        'div',\n\t                        { className: 'form-group-inline form-group-inline-daterange' },\n\t                        React.createElement(DateField, { value: valueEnd, onChange: this.onEndDateChange })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-filter-date form-group-row' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group-inline form-group-label' },\n\t                'est'\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group-inline' },\n\t                React.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'btn btn-default dropdown-toggle', 'data-toggle': 'dropdown', 'aria-haspopup': 'true', 'aria-expanded': 'false' },\n\t                    React.createElement(\n\t                        'span',\n\t                        { className: 'tag' },\n\t                        typeLabel\n\t                    ),\n\t                    React.createElement('span', { className: 'glyphicon glyphicon glyphicon-menu-down' })\n\t                ),\n\t                React.createElement(\n\t                    'ul',\n\t                    { className: 'dropdown-menu' },\n\t                    types\n\t                )\n\t            ),\n\t            dateField\n\t        );\n\t    },\n\t\n\t    renderTypes: function renderTypes(types) {\n\t        return types.map(_.bind(this.renderType, this));\n\t    },\n\t\n\t    renderType: function renderType(type, index) {\n\t        var key = 'type_' + index;\n\t\n\t        var onClick = _.bind(function (e) {\n\t            e.preventDefault();\n\t            this.onTypeClick(type);\n\t        }, this);\n\t\n\t        return React.createElement(\n\t            'li',\n\t            { key: key },\n\t            React.createElement(\n\t                'a',\n\t                { href: '#', onClick: onClick },\n\t                type.label\n\t            )\n\t        );\n\t    },\n\t\n\t    componentDidMount: function componentDidMount() {},\n\t\n\t    onTypeClick: function onTypeClick(type) {\n\t        if (type.name === 'future') {\n\t            this.props.onChange('future');\n\t        } else if (type.name === 'range') {\n\t            this.props.onChange(['', '']);\n\t        } else {\n\t            this.props.onChange('');\n\t        }\n\t    },\n\t\n\t    onDateChange: function onDateChange(dateValue) {\n\t        this.props.onChange(dateValue);\n\t    },\n\t\n\t    onStartDateChange: function onStartDateChange(dateValue) {\n\t        var value = _.get(this.props, 'value', null) || ['', ''];\n\t        var currentValue = Immutable.fromJS(value);\n\t        var newValue = currentValue.set(0, dateValue);\n\t\n\t        if (currentValue !== newValue) {\n\t            value = newValue.toJS();\n\t            this.props.onChange(value);\n\t        }\n\t    },\n\t\n\t    onEndDateChange: function onEndDateChange(dateValue) {\n\t        var value = _.get(this.props, 'value', null) || ['', ''];\n\t        var currentValue = Immutable.fromJS(value);\n\t        var newValue = currentValue.set(1, dateValue);\n\t\n\t        if (currentValue !== newValue) {\n\t            value = newValue.toJS();\n\t            this.props.onChange(value);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = FilterDateField;\n\n/***/ },\n/* 93 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar SelectField = Panneau.Components.Fields.Select;\n\t\n\tvar FilterSelectField = React.createClass({\n\t    displayName: 'FilterSelectField',\n\t\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            name: 'filter_select',\n\t            value: null,\n\t            onChange: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var value = _.get(this.props, 'value', null);\n\t        var props = _.cloneDeep(_.omit(this.props, ['name', 'value', 'label', 'onChange']));\n\t        if (props.values) {\n\t            props.values.unshift({\n\t                value: null,\n\t                label: 'Sélectionnez...'\n\t            });\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-filter-select form-group-row' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group-inline form-group-label' },\n\t                'est'\n\t            ),\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group-inline' },\n\t                React.createElement(SelectField, _extends({}, props, { name: this.props.name, value: value, onChange: this.onSelectChange }))\n\t            )\n\t        );\n\t    },\n\t\n\t    onSelectChange: function onSelectChange(value) {\n\t        if (this.props.onChange) {\n\t            this.props.onChange(value);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = FilterSelectField;\n\n/***/ },\n/* 94 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar WeekdaysField = __webpack_require__(95);\n\t\n\tvar ConditionWeekdaysField = React.createClass({\n\t    displayName: 'ConditionWeekdaysField',\n\t\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            name: 'condition_weekdays',\n\t            value: null,\n\t            onChange: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var value = _.get(this.props, 'value', null);\n\t        var checked = value ? true : false;\n\t\n\t        var field = null;\n\t        if (value) {\n\t            field = React.createElement(WeekdaysField, { name: this.props.name, value: value, onChange: this.onChange });\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-condition form-group-condition-weekdays' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group form-group-checkbox' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'checkbox' },\n\t                    React.createElement(\n\t                        'label',\n\t                        null,\n\t                        React.createElement('input', { type: 'checkbox', autoComplete: 'off', checked: checked, onChange: this.onCheckChange }),\n\t                        React.createElement(\n\t                            'span',\n\t                            null,\n\t                            'Afficher seulement certains jours de la semaine'\n\t                        )\n\t                    )\n\t                )\n\t            ),\n\t            field\n\t        );\n\t    },\n\t\n\t    onCheckChange: function onCheckChange(e) {\n\t        if (e.target.checked) {\n\t            this.onChange([]);\n\t        } else {\n\t            this.onChange(null);\n\t        }\n\t    },\n\t\n\t    onChange: function onChange(value) {\n\t        if (this.props.onChange) {\n\t            this.props.onChange(value);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ConditionWeekdaysField;\n\n/***/ },\n/* 95 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\t\n\tvar CheckboxesField = Panneau.Components.Fields.Checkboxes;\n\t\n\tvar WeekdaysField = React.createClass({\n\t    displayName: 'WeekdaysField',\n\t\n\t\n\t    mixins: [Panneau.Mixins.FieldErrors],\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            name: 'weekdays',\n\t            value: null,\n\t            onChange: null,\n\t            days: [{\n\t                label: 'Lundi',\n\t                value: '0'\n\t            }, {\n\t                label: 'Mardi',\n\t                value: '1'\n\t            }, {\n\t                label: 'Mercredi',\n\t                value: '2'\n\t            }, {\n\t                label: 'Jeudi',\n\t                value: '3'\n\t            }, {\n\t                label: 'Vendredi',\n\t                value: '4'\n\t            }, {\n\t                label: 'Samedi',\n\t                value: '5'\n\t            }, {\n\t                label: 'Dimanche',\n\t                value: '6'\n\t            }]\n\t\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var label;\n\t        if (this.props.label) {\n\t            label = React.createElement(\n\t                'label',\n\t                { htmlFor: name, className: 'control-label' },\n\t                this.props.label\n\t            );\n\t        }\n\t\n\t        var formGroupClassName = 'form-group form-group-weekdays';\n\t        if (this.props.errors) {\n\t            formGroupClassName += ' has-error';\n\t        }\n\t\n\t        var errors = this.renderErrors(this.props.errors);\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: formGroupClassName },\n\t            label,\n\t            React.createElement(CheckboxesField, { type: 'checkbox.button', value: this.props.value, values: this.props.days, onChange: this.onChange }),\n\t            errors\n\t        );\n\t    },\n\t\n\t    onChange: function onChange(value) {\n\t        if (this.props.onChange) {\n\t            this.props.onChange(value);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = WeekdaysField;\n\n/***/ },\n/* 96 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar DateRangeField = Panneau.Components.Fields.DateRange;\n\t\n\tvar ConditionDateRangeField = React.createClass({\n\t    displayName: 'ConditionDateRangeField',\n\t\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            name: 'condition_daterange',\n\t            value: null,\n\t            onChange: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var value = _.get(this.props, 'value', null);\n\t        var checked = value ? true : false;\n\t\n\t        var start = _.get(value || [], '0', null);\n\t        var end = _.get(value || [], '1', null);\n\t        var fieldValue = start || end ? {\n\t            start: start,\n\t            end: end\n\t        } : null;\n\t\n\t        var field = null;\n\t        if (value) {\n\t            field = React.createElement(DateRangeField, { type: 'date', name: this.props.name, value: fieldValue, onChange: this.onChange });\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-condition form-group-condition-daterange' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group form-group-checkbox' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'checkbox' },\n\t                    React.createElement(\n\t                        'label',\n\t                        null,\n\t                        React.createElement('input', { type: 'checkbox', autoComplete: 'off', checked: checked, onChange: this.onCheckChange }),\n\t                        React.createElement(\n\t                            'span',\n\t                            null,\n\t                            'Afficher seulement entre des dates'\n\t                        )\n\t                    )\n\t                )\n\t            ),\n\t            field\n\t        );\n\t    },\n\t\n\t    onCheckChange: function onCheckChange(e) {\n\t        if (e.target.checked) {\n\t            this.onChange([]);\n\t        } else {\n\t            this.onChange(null);\n\t        }\n\t    },\n\t\n\t    onChange: function onChange(value) {\n\t        var start = _.get(value, 'start', null);\n\t        var end = _.get(value, 'end', null);\n\t\n\t        value = start || end ? [start, end] : value !== null ? [] : null;\n\t\n\t        if (this.props.onChange) {\n\t            this.props.onChange(value);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ConditionDateRangeField;\n\n/***/ },\n/* 97 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(4);\n\tvar _ = __webpack_require__(2);\n\tvar Immutable = __webpack_require__(59);\n\t\n\tvar DateRangeField = Panneau.Components.Fields.DateRange;\n\t\n\tvar ConditionTimeField = React.createClass({\n\t    displayName: 'ConditionTimeField',\n\t\n\t\n\t    propTypes: {\n\t        name: React.PropTypes.string\n\t    },\n\t\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            name: 'condition_time',\n\t            value: null,\n\t            onChange: null\n\t        };\n\t    },\n\t\n\t    render: function render() {\n\t        var value = _.get(this.props, 'value', null);\n\t        var checked = value ? true : false;\n\t\n\t        var start = _.get(value || [], '0', null);\n\t        var end = _.get(value || [], '1', null);\n\t        var fieldValue = start || end ? {\n\t            start: start,\n\t            end: end\n\t        } : null;\n\t\n\t        var field = null;\n\t        if (value) {\n\t            field = React.createElement(DateRangeField, { type: 'time', name: this.props.name, value: fieldValue, onChange: this.onChange });\n\t        }\n\t\n\t        return React.createElement(\n\t            'div',\n\t            { className: 'form-group form-group-condition form-group-condition-time' },\n\t            React.createElement(\n\t                'div',\n\t                { className: 'form-group form-group-checkbox' },\n\t                React.createElement(\n\t                    'div',\n\t                    { className: 'checkbox' },\n\t                    React.createElement(\n\t                        'label',\n\t                        null,\n\t                        React.createElement('input', { type: 'checkbox', autoComplete: 'off', checked: checked, onChange: this.onCheckChange }),\n\t                        React.createElement(\n\t                            'span',\n\t                            null,\n\t                            'Afficher seulement dans les heures'\n\t                        )\n\t                    )\n\t                )\n\t            ),\n\t            field\n\t        );\n\t    },\n\t\n\t    onCheckChange: function onCheckChange(e) {\n\t        if (e.target.checked) {\n\t            this.onChange([]);\n\t        } else {\n\t            this.onChange(null);\n\t        }\n\t    },\n\t\n\t    onChange: function onChange(value) {\n\t        var start = _.get(value, 'start', null);\n\t        var end = _.get(value, 'end', null);\n\t\n\t        value = start || end ? [start, end] : value !== null ? [] : null;\n\t\n\t        if (this.props.onChange) {\n\t            this.props.onChange(value);\n\t        }\n\t    }\n\t\n\t});\n\t\n\tmodule.exports = ConditionTimeField;\n\n/***/ },\n/* 98 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(6);\n\t\n\t$(function () {});\n\n/***/ }\n/******/ ]);\n"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 70639fec940a21cefeec\n **/","var _ = require('lodash-external');\n\n\n//Panneau.Components.ModalsGroup.Component = require('./components/modals/ModalsGroup.react');\n\nPanneau.Components.DangerZone = require('./components/DangerZone.react');\nPanneau.Components.UserAvatar = require('./components/UserAvatar.react');\n\n//Actions\nvar Actions = require('./actions/index');\nPanneau.Actions = _.extend(Panneau.Actions, Actions);\n\n//Lists\nvar Lists = require('./components/lists/index');\nPanneau.Components.Lists = _.extend(Panneau.Components.Lists, Lists);\n\n//Lists items\nvar Items = require('./components/items/index');\nPanneau.Components.Lists.Items = _.extend(Panneau.Components.Lists.Items, Items);\n\n//Modals\nvar Modals = require('./components/modals/index');\nPanneau.Components.Modals = _.extend(Panneau.Components.Modals, Modals);\n\n//Fields\nvar Fields = require('./components/fields/index');\nPanneau.Components.Fields = _.extend(Panneau.Components.Fields, Fields);\n\n\n\n/** WEBPACK FOOTER **\n ** ./panneau.js\n **/","module.exports = _;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"_\"\n ** module id = 2\n ** module chunks = 0\n **/","var React = require('react-external');\nvar ReactDOM = require('react-dom-external');\nvar $ = require('jquery-external');\n\nvar FormComponent = Panneau.Components.Form.Component;\n\nvar DangerZone = React.createClass({\n    \n    propTypes: {\n        form: React.PropTypes.object.isRequired,\n        delete: React.PropTypes.bool\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            delete: true,\n            deleteTitle: 'Supprimer',\n            deleteDescription: '',\n            deleteConfirmation: 'Êtes-vous certain de vouloir supprimer cet item?',\n            form: {\n                buttons: [\n                    {\n                        'className': 'btn btn-danger',\n                        'type': 'submit',\n                        'label': 'Supprimer'\n                    }\n                ]\n            }\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            opened: false\n        };\n    },\n    \n    render: function()\n    {\n        \n        var optionsStyle = {\n            display: 'none'\n        };\n        if(this.state.opened)\n        {\n            optionsStyle.display = 'block';\n        }\n        \n        var toggleClassName = 'glyphicon glyphicon-menu-down';\n        if(this.state.opened)\n        {\n            toggleClassName = 'glyphicon glyphicon-menu-up';\n        }\n        \n        var formProps = _.omit(this.props.form, ['errors', 'onSubmit']);\n        \n        var deleteOptions = null;\n        if(this.props.delete)\n        {\n            var deleteTitle = this.props.deleteTitle && this.props.deleteTitle.length ? (\n                <h4>{ this.props.deleteTitle }</h4>\n            ):null;\n            var deleteDescription = this.props.deleteDescription && this.props.deleteDescription.length ? (\n                <p>{ this.props.deleteDescription }</p>\n            ):null;\n            deleteOptions = (\n                <div ref=\"options\" className=\"options\" style={optionsStyle}>\n                    <div className=\"option\">\n                        { deleteTitle }\n                        \n                        { deleteDescription }\n                        \n                        <FormComponent {...formProps} onSubmit={this.onSubmitDelete} />\n                    </div>\n                </div>\n            );\n        }\n        \n        return (\n            <div className=\"danger-zone\">\n                <div className=\"toggle\">\n                    <button type=\"button\" onClick={this.onClickToggle}>\n                        <span className=\"glyphicon glyphicon-exclamation-sign\"></span>\n                        Zone périlleuse <span className={toggleClassName}></span>\n                    </button>\n                </div>\n                \n                { deleteOptions }\n            </div>\n        );\n    },\n    \n    componentDidUpdate: function(prevProps, prevState)\n    {\n        if(this.state.opened !== prevState.opened)\n        {\n            var $options = $(ReactDOM.findDOMNode(this.refs.options));\n            if(this.state.opened)\n            {\n                \n            }\n            else\n            {\n                \n            }\n        }\n    },\n    \n    onClickToggle: function(e)\n    {\n        e.preventDefault();\n        \n        this.setState({\n            opened: !this.state.opened\n        });\n    },\n    \n    onSubmitDelete: function(e)\n    {\n        if(!confirm(this.props.deleteConfirmation))\n        {\n            e.preventDefault();\n        }\n        \n        if(this.props.onDelete)\n        {\n            this.props.onDelete(e);\n        }\n    }\n    \n});\n\nmodule.exports = DangerZone;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/DangerZone.react.js\n **/","module.exports = React;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = ReactDOM;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDOM\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 6\n ** module chunks = 0\n **/","var React = require('react-external');\nvar Panneau = require('panneau');\n\nvar Requests = require('../requests/index');\nvar PictureField = Panneau.Components.Fields.Picture;\n\nvar UserAvatar = React.createClass({\n    \n    propTypes: {\n        user: React.PropTypes.object.isRequired\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            value: _.get(this.props, 'user.avatar')\n        };\n    },\n    \n    render: function()\n    {\n        return (\n            <PictureField value={this.state.value} uploadUrl=\"/upload/picture\" onChange={this.onChange} />\n        )\n    },\n    \n    onChange: function(picture)\n    {\n        if(picture === null)\n        {\n            Requests.Users.removeAvatar(this.props.user)\n                    .then(_.bind(this.onPictureRemoved, this));\n        }\n        else\n        {\n            Requests.Users.updateAvatar(this.props.user, picture)\n                    .then(_.bind(this.onPictureUpdated, this));\n        }\n    },\n    \n    onPictureUpdated: function(user)\n    {\n        this.setState({\n            value: user.avatar\n        });\n    },\n    \n    onPictureRemoved: function()\n    {\n        this.setState({\n            value: null\n        });\n    }\n    \n});\n\nmodule.exports = UserAvatar;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/UserAvatar.react.js\n **/","module.exports = Panneau;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Panneau\"\n ** module id = 8\n ** module chunks = 0\n **/","var graphql = require('./graphql');\n\nvar Requests = {};\nRequests.graphql = graphql;\n\nRequests.Bubbles = require('./Bubbles');\nRequests.Channels = require('./Channels');\nRequests.Fragments = require('./Fragments');\nRequests.Organisations = require('./Organisations');\nRequests.Playlists = require('./Playlists');\nRequests.Screens = require('./Screens');\nRequests.Timeline = require('./Timeline');\nRequests.Users = require('./Users');\n\nmodule.exports = Requests;\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/index.js\n **/","\nvar Promise = Promise || require('promise');\nvar agent = require('superagent-promise-external')(require('superagent-external'), Promise);\nvar $ = require('jquery-external');\n\nfunction buildArgs(params, types)\n{\n    var queryArgs = [];\n    var objectArgs = [];\n    _.each(params, function(v, k)\n    {\n        var type = _.get(types, k, _.isArray(v) ? '[String]':'String');\n        queryArgs.push('$'+k+': '+type);\n        objectArgs.push(k+': $'+k);\n    });\n    queryArgs = queryArgs.length ? ('('+queryArgs.join(',')+')'):'';\n    objectArgs = objectArgs.length ? ('('+objectArgs.join(',')+')'):'';\n            \n    return {\n        object: objectArgs,\n        query: queryArgs\n    };\n}\n\nmodule.exports = function(query, params, opts)\n{\n    opts = _.extend({\n        argsTypes: {},\n        fragments: []\n    }, opts);\n    \n    if(typeof(params) === 'undefined')\n    {\n        params = null;\n    }\n    \n    if(query.match(/\\<(object|query)Args\\>/))\n    {\n        var args = buildArgs(params, opts.argsTypes);\n        query = query.replace(/\\<objectArgs\\>/g, args.object)\n                    .replace(/\\<queryArgs\\>/g, args.query);\n    }\n    \n    _.each(opts.fragments, function(fragment, key)\n    {\n        query += fragment;\n    });\n    \n    return agent\n        .post('/graphql/query')\n        .send({\n            query: query,\n            params: params\n        })\n        .set('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content'))\n        .set('Accept', 'application/json')\n        .end()\n        .then(function(response)\n        {\n            if (response.body.errors || !response.body.data)\n            {\n                return Promise.reject(response.body.errors);\n            }\n            \n            return response.body.data;\n        });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/graphql.js\n **/","'use strict';\n\nmodule.exports = require('./lib')\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/promise/index.js\n ** module id = 11\n ** module chunks = 0\n **/","'use strict';\n\nmodule.exports = require('./core.js');\nrequire('./done.js');\nrequire('./finally.js');\nrequire('./es6-extensions.js');\nrequire('./node-extensions.js');\nrequire('./synchronous.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/promise/lib/index.js\n ** module id = 12\n ** module chunks = 0\n **/","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._45 = 0;\n  this._81 = 0;\n  this._65 = null;\n  this._54 = null;\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._10 = null;\nPromise._97 = null;\nPromise._61 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n};\nfunction handle(self, deferred) {\n  while (self._81 === 3) {\n    self = self._65;\n  }\n  if (Promise._10) {\n    Promise._10(self);\n  }\n  if (self._81 === 0) {\n    if (self._45 === 0) {\n      self._45 = 1;\n      self._54 = deferred;\n      return;\n    }\n    if (self._45 === 1) {\n      self._45 = 2;\n      self._54 = [self._54, deferred];\n      return;\n    }\n    self._54.push(deferred);\n    return;\n  }\n  handleResolved(self, deferred);\n}\n\nfunction handleResolved(self, deferred) {\n  asap(function() {\n    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._81 === 1) {\n        resolve(deferred.promise, self._65);\n      } else {\n        reject(deferred.promise, self._65);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._65);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._81 = 3;\n      self._65 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._81 = 1;\n  self._65 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._81 = 2;\n  self._65 = newValue;\n  if (Promise._97) {\n    Promise._97(self, newValue);\n  }\n  finale(self);\n}\nfunction finale(self) {\n  if (self._45 === 1) {\n    handle(self, self._54);\n    self._54 = null;\n  }\n  if (self._45 === 2) {\n    for (var i = 0; i < self._54.length; i++) {\n      handle(self, self._54[i]);\n    }\n    self._54 = null;\n  }\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  })\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/promise/lib/core.js\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\nvar BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/asap/browser-raw.js\n ** module id = 14\n ** module chunks = 0\n **/","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this;\n  self.then(null, function (err) {\n    setTimeout(function () {\n      throw err;\n    }, 0);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/promise/lib/done.js\n ** module id = 15\n ** module chunks = 0\n **/","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.prototype['finally'] = function (f) {\n  return this.then(function (value) {\n    return Promise.resolve(f()).then(function () {\n      return value;\n    });\n  }, function (err) {\n    return Promise.resolve(f()).then(function () {\n      throw err;\n    });\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/promise/lib/finally.js\n ** module id = 16\n ** module chunks = 0\n **/","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._61);\n  p._81 = 1;\n  p._65 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._81 === 3) {\n            val = val._65;\n          }\n          if (val._81 === 1) return res(i, val._65);\n          if (val._81 === 2) reject(val._65);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/promise/lib/es6-extensions.js\n ** module id = 17\n ** module chunks = 0\n **/","'use strict';\n\n// This file contains then/promise specific extensions that are only useful\n// for node.js interop\n\nvar Promise = require('./core.js');\nvar asap = require('asap');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nPromise.denodeify = function (fn, argumentCount) {\n  if (\n    typeof argumentCount === 'number' && argumentCount !== Infinity\n  ) {\n    return denodeifyWithCount(fn, argumentCount);\n  } else {\n    return denodeifyWithoutCount(fn);\n  }\n}\n\nvar callbackFn = (\n  'function (err, res) {' +\n  'if (err) { rj(err); } else { rs(res); }' +\n  '}'\n);\nfunction denodeifyWithCount(fn, argumentCount) {\n  var args = [];\n  for (var i = 0; i < argumentCount; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'return new Promise(function (rs, rj) {',\n    'var res = fn.call(',\n    ['self'].concat(args).concat([callbackFn]).join(','),\n    ');',\n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n  return Function(['Promise', 'fn'], body)(Promise, fn);\n}\nfunction denodeifyWithoutCount(fn) {\n  var fnLength = Math.max(fn.length - 1, 3);\n  var args = [];\n  for (var i = 0; i < fnLength; i++) {\n    args.push('a' + i);\n  }\n  var body = [\n    'return function (' + args.join(',') + ') {',\n    'var self = this;',\n    'var args;',\n    'var argLength = arguments.length;',\n    'if (arguments.length > ' + fnLength + ') {',\n    'args = new Array(arguments.length + 1);',\n    'for (var i = 0; i < arguments.length; i++) {',\n    'args[i] = arguments[i];',\n    '}',\n    '}',\n    'return new Promise(function (rs, rj) {',\n    'var cb = ' + callbackFn + ';',\n    'var res;',\n    'switch (argLength) {',\n    args.concat(['extra']).map(function (_, index) {\n      return (\n        'case ' + (index) + ':' +\n        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +\n        'break;'\n      );\n    }).join(''),\n    'default:',\n    'args[argLength] = cb;',\n    'res = fn.apply(self, args);',\n    '}',\n    \n    'if (res &&',\n    '(typeof res === \"object\" || typeof res === \"function\") &&',\n    'typeof res.then === \"function\"',\n    ') {rs(res);}',\n    '});',\n    '};'\n  ].join('');\n\n  return Function(\n    ['Promise', 'fn'],\n    body\n  )(Promise, fn);\n}\n\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n    var callback =\n      typeof args[args.length - 1] === 'function' ? args.pop() : null;\n    var ctx = this;\n    try {\n      return fn.apply(this, arguments).nodeify(callback, ctx);\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) {\n          reject(ex);\n        });\n      } else {\n        asap(function () {\n          callback.call(ctx, ex);\n        })\n      }\n    }\n  }\n}\n\nPromise.prototype.nodeify = function (callback, ctx) {\n  if (typeof callback != 'function') return this;\n\n  this.then(function (value) {\n    asap(function () {\n      callback.call(ctx, null, value);\n    });\n  }, function (err) {\n    asap(function () {\n      callback.call(ctx, err);\n    });\n  });\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/promise/lib/node-extensions.js\n ** module id = 18\n ** module chunks = 0\n **/","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/asap/browser-asap.js\n ** module id = 19\n ** module chunks = 0\n **/","'use strict';\n\nvar Promise = require('./core.js');\n\nmodule.exports = Promise;\nPromise.enableSynchronous = function () {\n  Promise.prototype.isPending = function() {\n    return this.getState() == 0;\n  };\n\n  Promise.prototype.isFulfilled = function() {\n    return this.getState() == 1;\n  };\n\n  Promise.prototype.isRejected = function() {\n    return this.getState() == 2;\n  };\n\n  Promise.prototype.getValue = function () {\n    if (this._81 === 3) {\n      return this._65.getValue();\n    }\n\n    if (!this.isFulfilled()) {\n      throw new Error('Cannot get a value of an unfulfilled promise.');\n    }\n\n    return this._65;\n  };\n\n  Promise.prototype.getReason = function () {\n    if (this._81 === 3) {\n      return this._65.getReason();\n    }\n\n    if (!this.isRejected()) {\n      throw new Error('Cannot get a rejection reason of a non-rejected promise.');\n    }\n\n    return this._65;\n  };\n\n  Promise.prototype.getState = function () {\n    if (this._81 === 3) {\n      return this._65.getState();\n    }\n    if (this._81 === -1 || this._81 === -2) {\n      return 0;\n    }\n\n    return this._81;\n  };\n};\n\nPromise.disableSynchronous = function() {\n  Promise.prototype.isPending = undefined;\n  Promise.prototype.isFulfilled = undefined;\n  Promise.prototype.isRejected = undefined;\n  Promise.prototype.getValue = undefined;\n  Promise.prototype.getReason = undefined;\n  Promise.prototype.getState = undefined;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/dmp/Code/manivelle/backend/~/promise/lib/synchronous.js\n ** module id = 20\n ** module chunks = 0\n **/","module.exports = SuperagentPromise;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"SuperagentPromise\"\n ** module id = 21\n ** module chunks = 0\n **/","module.exports = Superagent;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Superagent\"\n ** module id = 22\n ** module chunks = 0\n **/","var graphql = require('./graphql');\nvar _ = require('lodash-external');\n\nvar Fragments = require('./Fragments');\n\nmodule.exports = {\n    \n    loadForChannel: function(channel, params)\n    {\n        var id = _.isObject(channel) ? channel.id:channel;\n        if(typeof(params) === 'undefined' || !params)\n        {\n            params = {};\n        }\n        params.channel_id = id;\n        \n        return graphql(`\n            query Query<queryArgs>{\n                data: bubblesPaginated<objectArgs>\n                {\n                    pagination {\n                        ...paginationFields\n                    }\n                    items {\n                        ...bubbleFields\n                    }\n                }\n            }\n        `, params, {\n            argsTypes: {\n                page: 'Int'\n            },\n            fragments: [Fragments.paginationFields, Fragments.bubbleFields]\n        }).then(function(result)\n        {\n            return result.data;\n        });\n    }\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/Bubbles.js\n **/","module.exports = {\n    \n    'paginationFields': `\n        fragment paginationFields on Pagination {\n            total\n            per_page\n            current_page\n            last_page\n            from\n            to\n        }\n    `,\n    \n    'screenFields': `\n        fragment screenFields on Screen {\n            id\n            snippet {\n                title\n        \t\tsubtitle\n        \t\tdescription\n        \t\tpicture {\n        \t\t\tlink\n        \t\t}\n            }\n        }\n    `,\n    \n    'userFields': `\n        fragment userFields on User {\n            id\n            name\n            email\n            role {\n                id\n                name\n            }\n            avatar {\n                width\n                height\n                link\n            }\n        }\n    `,\n    \n    'invitationFields': `\n        fragment invitationFields on OrganisationInvitation {\n            id\n            name\n            email\n            role {\n                id\n                name\n            }\n        }\n    `,\n    \n    'timelineFields': `\n        fragment timelineFields on Timeline {\n            bubbles {\n                ...bubbleFields\n            }\n            cycles {\n                start\n                end\n                items {\n                    id\n                    bubble_id\n                    duration\n                }\n            }\n        }\n    `,\n    \n    'channelFields': `\n        fragment channelFields on Channel {\n        \tid\n        \tsnippet {\n        \t\ttitle\n        \t\tsubtitle\n        \t\tdescription\n        \t\tpicture {\n        \t\t\tlink\n        \t\t}\n        \t}\n        \t\n        \tbubbles_filters {\n        \t\tname\n        \t\ttype\n        \t\tlabel\n        \t\t\n        \t\t... on ChannelBubbleFilterSelect {\n        \t\t\tvalues {\n        \t\t\t\tvalue\n        \t\t\t\tlabel\n        \t\t\t}\n        \t\t}\n        \t\t\n        \t}\n        }\n    `,\n    \n    'screenChannelFields': `\n        fragment screenChannelFields on Channel {\n            screen_settings {\n                filters {\n                    name\n                    value\n                }\n            }\n        }\n    `,\n    \n    'bubbleFields': `\n        fragment bubbleFields on Bubble {\n            id\n            type\n            snippet {\n                title\n                subtitle\n                description\n                picture {\n                    width\n                    height\n                    link\n                }\n                picture_thumbnail: picture(filter: \"thumbnail_snippet\") {\n                    width\n                    height\n                    link\n                }\n            }\n        }\n    `,\n    \n    'playlistItemFields': `\n        fragment playlistItemFields on PlaylistItem {\n            id\n            order\n            bubble {\n                ...bubbleFields\n            }\n            condition {\n                ...conditionFields\n            }\n        }\n    `,\n    \n    'conditionFields': `\n        fragment conditionFields on Condition {\n            id\n            name\n            snippet {\n                title\n                subtitle\n                description\n            }\n\t\n        \tfields {\n        \t\tdays\n        \t\tdaterange\n        \t\tdate\n        \t\ttime\n        \t}\n        }\n    `\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/Fragments.js\n **/","var graphql = require('./graphql');\nvar _ = require('lodash-external');\n\nvar Fragments = require('./Fragments');\n\nmodule.exports = {\n    \n    load: function(params)\n    {\n        return graphql(`\n            query Query<queryArgs>{\n                data: channels<objectArgs>\n                {\n                    ...channelFields\n                }\n            }\n        `, params, {\n            fragments: [Fragments.channelFields]\n        }).then(function(result)\n        {\n            return result.data;\n        });\n    },\n    \n    loadForScreen: function(screen)\n    {\n        var screen_id = _.isObject(screen) ? _.get(screen, 'id'):screen;\n        return this.load({\n            screen_id: screen_id\n        });\n    }\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/Channels.js\n **/","var graphql = require('./graphql');\nvar _ = require('lodash-external');\n\nvar Fragments = require('./Fragments');\n\nmodule.exports = {\n    \n    linkScreen: function(auth_code)\n    {\n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: organisationLinkScreen<objectArgs>\n                    {\n                        ...screenFields\n                    }\n                }\n            `, {\n                auth_code: auth_code\n            }, {\n                fragments: [Fragments.screenFields]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n    inviteUser: function(email, role_id)\n    {\n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: organisationInviteUser<objectArgs>\n                    {\n                        ...invitationFields\n                    }\n                }\n            `, {\n                email: email,\n                role_id: role_id\n            }, {\n                fragments: [Fragments.invitationFields]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n    updateUser: function(user, role_id)\n    {\n        var user_id = _.isObject(user) ? _.get(user, 'id'):user;\n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: organisationUpdateUser<objectArgs>\n                    {\n                        ...userFields\n                    }\n                }\n            `, {\n                user_id: user_id,\n                role_id: role_id\n            }, {\n                fragments: [Fragments.userFields]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n    removeUser: function(user)\n    {\n        var user_id = _.isObject(user) ? _.get(user, 'id'):user;\n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: organisationRemoveUser<objectArgs>\n                    {\n                        ...userFields\n                    }\n                }\n            `, {\n                user_id: user_id\n            }, {\n                fragments: [Fragments.userFields]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n    updateInvitation: function(invitation, role_id)\n    {\n        var invitation_id = _.isObject(invitation) ? _.get(invitation, 'id'):invitation;\n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: organisationUpdateInvitation<objectArgs>\n                    {\n                        ...invitationFields\n                    }\n                }\n            `, {\n                invitation_id: invitation_id,\n                role_id: role_id\n            }, {\n                fragments: [Fragments.invitationFields]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n    removeInvitation: function(invitation)\n    {\n        var invitation_id = _.isObject(invitation) ? _.get(invitation, 'id'):invitation;\n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: organisationRemoveInvitation<objectArgs>\n                    {\n                        ...invitationFields\n                    }\n                }\n            `, {\n                invitation_id: invitation_id\n            }, {\n                fragments: [Fragments.invitationFields]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    }\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/Organisations.js\n **/","var graphql = require('./graphql');\nvar _ = require('lodash-external');\n\nvar Fragments = require('./Fragments');\n\nmodule.exports = {\n\n    saveCondition: function(condition, id)\n    {\n        var params = _.extend(id ? {\n            condition_id: id\n        }:{}, condition);\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    saveCondition<objectArgs>\n                    {\n                        ...conditionFields\n                    }\n                }\n            `, params, {\n                fragments: [Fragments.conditionFields]\n            }).then(function(result)\n            {\n                return result.saveCondition;\n            });\n    },\n\n    addBubblesWithCondition: function(playlist, bubbles, condition)\n    {\n        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id'):playlist;\n        var condition_id = _.isObject(condition) ? _.get(condition, 'id'):condition;\n        \n        var bubblesIds = _.map(bubbles, function(bubble)\n        {\n            return bubble.id+'';\n        });\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: playlistAddBubbles<objectArgs>\n                    {\n                        ...playlistItemFields\n                    }\n                }\n            `, {\n                playlist_id: playlist_id+'',\n                bubble_ids: bubblesIds,\n                condition_id: condition_id+''\n            }, {\n                argsTypes: {\n                    playlist_id: 'String',\n                    bubble_ids: '[String]',\n                    condition_id: 'String'\n                },\n                fragments: [\n                    Fragments.playlistItemFields,\n                    Fragments.bubbleFields,\n                    Fragments.conditionFields\n                ]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n\n    addFiltersWithCondition: function(playlist, filters, condition)\n    {\n        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id'):playlist;\n        var condition_id = _.isObject(condition) ? _.get(condition, 'id'):condition;\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: playlistAddFilters<objectArgs>\n                    {\n                        ...playlistItemFields\n                    }\n                }\n            `, {\n                playlist_id: playlist_id+'',\n                filters: JSON.stringify(filters),\n                condition_id: condition_id+''\n            }, {\n                argsTypes: {\n                    playlist_id: 'String',\n                    filters: 'String',\n                    condition_id: 'String'\n                },\n                fragments: [\n                    Fragments.playlistItemFields,\n                    Fragments.bubbleFields,\n                    Fragments.conditionFields\n                ]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n\n    addBubbles: function(playlist, bubbles)\n    {\n        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id'):playlist;\n        \n        var bubblesIds = _.map(bubbles, function(bubble)\n        {\n            return bubble.id+'';\n        });\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: playlistAddBubbles<objectArgs>\n                    {\n                        ...playlistItemFields\n                    }\n                }\n            `, {\n                playlist_id: playlist_id+'',\n                bubble_ids: bubblesIds\n            }, {\n                argsTypes: {\n                    playlist_id: 'String',\n                    bubble_ids: '[String]'\n                },\n                fragments: [\n                    Fragments.playlistItemFields,\n                    Fragments.bubbleFields,\n                    Fragments.conditionFields\n                ]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n\n    addFilters: function(playlist, filters)\n    {\n        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id'):playlist;\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: playlistAddFilters<objectArgs>\n                    {\n                        ...playlistItemFields\n                    }\n                }\n            `, {\n                playlist_id: playlist_id+'',\n                filters: JSON.stringify(filters)\n            }, {\n                argsTypes: {\n                    playlist_id: 'String',\n                    filters: 'String',\n                    condition_id: 'String'\n                },\n                fragments: [\n                    Fragments.playlistItemFields,\n                    Fragments.bubbleFields,\n                    Fragments.conditionFields\n                ]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n\n    removeItem: function(playlist, it)\n    {\n        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id'):playlist;\n        var item_id = _.isObject(it) ? _.get(it, 'id'):it;\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: playlistRemoveBubble<objectArgs>\n                    {\n                        ...playlistItemFields\n                    }\n                }\n            `, {\n                playlist_id: playlist_id+'',\n                item_id: item_id\n            }, {\n                argsTypes: {\n                    playlist_id: 'String',\n                    item_id: 'String'\n                },\n                fragments: [\n                    Fragments.playlistItemFields,\n                    Fragments.bubbleFields,\n                    Fragments.conditionFields\n                ]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n\n    updateOrder: function(playlist, ids)\n    {\n        var playlist_id = _.isObject(playlist) ? _.get(playlist, 'id'):playlist;\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: playlistUpdateOrder<objectArgs>\n                    {\n                        ...playlistItemFields\n                    }\n                }\n            `, {\n                playlist_id: playlist_id+'',\n                ids: ids\n            }, {\n                argsTypes: {\n                    playlist_id: 'String',\n                    ids: '[Int]'\n                },\n                fragments: [\n                    Fragments.playlistItemFields,\n                    Fragments.bubbleFields,\n                    Fragments.conditionFields\n                ]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/Playlists.js\n **/","var graphql = require('./graphql');\nvar _ = require('lodash-external');\n\nvar Fragments = require('./Fragments');\n\nmodule.exports = {\n    \n    addChannel: function(screen, channel)\n    {\n        var screen_id = _.isObject(screen) ? _.get(screen, 'id'):screen;\n        var channel_id = _.isObject(channel) ? _.get(channel, 'id'):channel;\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: screenAddChannel<objectArgs>\n                    {\n                        ...channelFields\n                    }\n                }\n            `, {\n                channel_id: channel_id,\n                screen_id: screen_id\n            }, {\n                argsTypes: {\n                    screen_id: 'String!',\n                    channel_id: 'String!'\n                },\n                fragments: [Fragments.channelFields]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n    removeChannel: function(screen, channel)\n    {\n        var screen_id = _.isObject(screen) ? _.get(screen, 'id'):screen;\n        var channel_id = _.isObject(channel) ? _.get(channel, 'id'):channel;\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: screenRemoveChannel<objectArgs>\n                    {\n                        ...channelFields\n                    }\n                }\n            `, {\n                channel_id: channel_id,\n                screen_id: screen_id\n            }, {\n                argsTypes: {\n                    screen_id: 'String!',\n                    channel_id: 'String!'\n                },\n                fragments: [Fragments.channelFields]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n    saveChannelSettings: function(screen, channel, settings)\n    {\n        var screen_id = _.isObject(screen) ? _.get(screen, 'id'):screen;\n        var channel_id = _.isObject(channel) ? _.get(channel, 'id'):channel;\n        \n        var params = {\n            screen_id: screen_id,\n            channel_id: channel_id,\n            settings: JSON.stringify(settings)\n        };\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: screenSaveChannelSettings<objectArgs>\n                    {\n                        ...screenChannelFields\n                    }\n                }\n            `, params, {\n                argsTypes: {\n                    screen_id: 'String!',\n                    channel_id: 'String!',\n                    settings: 'String'\n                },\n                fragments: [Fragments.screenChannelFields]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/Screens.js\n **/","var graphql = require('./graphql');\nvar _ = require('lodash-external');\n\nvar Fragments = require('./Fragments');\n\nmodule.exports = {\n    \n    loadForScreen: function(screen_id)\n    {\n        return graphql(`\n                query QueryTimeline<queryArgs>{\n                    data: timeline<objectArgs>\n                    {\n                        ...timelineFields\n                    }\n                }\n            `, {\n                screen_id: screen_id+''\n            }, {\n                argsTypes: {\n                    screen_id: 'String!'\n                },\n                fragments: [\n                    Fragments.timelineFields,\n                    Fragments.bubbleFields\n                ]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/Timeline.js\n **/","var graphql = require('./graphql');\nvar _ = require('lodash-external');\nvar Fragments = require('./Fragments');\n\nmodule.exports = {\n    \n    updateAvatar: function(user, picture)\n    {\n        var user_id = _.isObject(user) ? _.get(user, 'id'):user;\n        var picture_id = _.isObject(picture) ? _.get(picture, 'id'):picture;\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: userUpdateAvatar<objectArgs>\n                    {\n                        ...userFields\n                    }\n                }\n            `, {\n                user_id: user_id+'',\n                picture_id: picture_id+''\n            }, {\n                argsTypes: {\n                    user_id: 'String',\n                    picture_id: 'String'\n                },\n                fragments: [\n                    Fragments.userFields\n                ]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    },\n    \n    removeAvatar: function(user)\n    {\n        var user_id = _.isObject(user) ? _.get(user, 'id'):user;\n        \n        return graphql(`\n                mutation Mutation<queryArgs>{\n                    data: userRemoveAvatar<objectArgs>\n                    {\n                        ...userFields\n                    }\n                }\n            `, {\n                user_id: user_id+''\n            }, {\n                argsTypes: {\n                    user_id: 'String'\n                },\n                fragments: [\n                    Fragments.userFields\n                ]\n            }).then(function(result)\n            {\n                return result.data;\n            });\n    }\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./requests/Users.js\n **/","module.exports = {\n    'ScreenActions': require('./ScreenActions'),\n    'TeamActions': require('./TeamActions'),\n    'ChannelActions': require('./ChannelActions')\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./actions/index.js\n **/","\nvar FormActions = Panneau.Actions.Form;\nvar ModalActions = Panneau.Actions.Modal;\nvar ResourceActions = Panneau.Actions.Resource;\n\nvar request = require('superagent-external');\nvar $ = require('jquery-external');\n\nmodule.exports = {\n    \n    linkScreen: function(authCode, form)\n    {\n        return function(dispatch)\n        {\n            request.post(URL.route('organisation.screens.link'))\n                .send({\n                    'auth_code': authCode\n                })\n                .set('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content'))\n                .set('Accept', 'application/json')\n                .end(function(err, response)\n                {\n                    if(err)\n                    {\n                        \n                        if(response && response.body)\n                        {\n                            dispatch(FormActions.updateErrors(response.body, form || 'organisation.screens.link'));\n                        }\n                        else\n                        {\n                            dispatch(FormActions.addError('auth_code', 'error', form || 'organisation.screens.link'));\n                        }\n                        \n                        return;\n                    }\n                    \n                    var screen = response.body;\n                    \n                    dispatch(ResourceActions.updateResource('screens', screen.id, screen));\n                    //dispatch(ResourceActions.updateResource('organisations', organisation.id, 'screen_ids', 1));\n                    dispatch(ModalActions.closeModal());\n                    \n                    return;\n                });\n        };\n    }\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./actions/ScreenActions.js\n **/","\nvar FormActions = Panneau.Actions.Form;\nvar ModalActions = Panneau.Actions.Modal;\nvar ListActions = Panneau.Actions.List;\n\nvar request = require('superagent-external');\nvar $ = require('jquery-external');\n\nmodule.exports = {\n    \n    linkScreen: function(authCode, form)\n    {\n        return function(dispatch)\n        {\n            request.post(URL.route('organisation.screens.link'))\n                .send({\n                    'auth_code': authCode\n                })\n                .set('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content'))\n                .set('Accept', 'application/json')\n                .end(function(err, response)\n                {\n                    if(err)\n                    {\n                        \n                        if(response && response.body)\n                        {\n                            dispatch(FormActions.updateErrors(response.body, form || 'organisation.screen'));\n                        }\n                        else\n                        {\n                            dispatch(FormActions.addError('auth_code', 'error', form || 'organisation.screen'));\n                        }\n                        \n                        return;\n                    }\n                    \n                    dispatch(ListActions.addItem(response.body, 'organisation.screens'))\n                    dispatch(ModalActions.closeModal());\n                    \n                    return;\n                });\n            \n            \n            \n        }\n    }\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./actions/TeamActions.js\n **/","\nvar FormActions = Panneau.Actions.Form;\nvar ModalActions = Panneau.Actions.Modal;\nvar ListActions = Panneau.Actions.List;\n\nvar request = require('superagent-external');\nvar $ = require('jquery-external');\n\nmodule.exports = {\n    \n    \n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./actions/ChannelActions.js\n **/","module.exports = {\n    'Organisations': require('./Organisations.react'),\n    'Channels': require('./Channels.react'),\n    'Screens': require('./Screens.react'),\n    'Team': require('./Team.react'),\n    'Bubbles': require('./Bubbles.react'),\n    'BubblesPlaylist': require('./BubblesPlaylist.react'),\n    'BubblesChannel': require('./BubblesChannel.react'),\n    'BubblesChannelFilters': require('./BubblesChannelFilters.react'),\n    'Playlist': require('./Playlist.react'),\n    'Timeline': require('./Timeline.react')\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/index.js\n **/","var React = require('react-external');\n\nvar OrganisationItem = require('../items/Organisation.react');\n\nvar OrganisationsList = React.createClass({\n    \n    mixins: [Panneau.Mixins.List],\n    \n    getDefaultProps: function() {\n        return {\n            \n        };\n    },\n\n    render: function()\n    {\n        var items = this.renderListItems(this.props.items);\n        \n        return (\n            <div className=\"list list-rows list-organisations\">\n                { items }\n            </div>\n        );\n\n    },\n    \n    getListItemComponent: function()\n    {\n        return OrganisationItem;\n    }\n\n});\n\nmodule.exports = OrganisationsList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/Organisations.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\n\nvar OrganisationItem = React.createClass({\n    \n    getDefaultProps: function() {\n        return {\n            \n        };\n    },\n\n    render: function()\n    {    \n        var name = _.get(this.props, 'data.name');\n        var link = _.get(this.props, 'data.link');\n        \n        return (\n            <div className=\"list-item\">\n                <a href={ link } className=\"thumbnail\">\n                    <span className=\"icon\">\n                        <span className=\"glyphicon glyphicon-picture\"></span>\n                    </span>\n                    <span className=\"caption caption-lg\">\n                        <strong>{ name }</strong>\n                    </span>\n                </a>\n            </div>\n        );\n\n    }\n\n});\n\nmodule.exports = OrganisationItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/Organisation.react.js\n **/","var React = require('react-external');\n\nvar ChannelItem = require('../items/Channel.react');\nvar ChannelItemAdd = require('../items/ChannelAdd.react');\n\nvar Requests = require('../../requests/index');\n\nvar ListActions = Panneau.Actions.List;\n\nvar ChannelsList = React.createClass({\n    \n    mixins: [Panneau.Mixins.List],\n    \n    getDefaultProps: function() {\n        return {\n            screen: null\n        };\n    },\n\n    render: function()\n    {\n        var items = this.renderListItems(this.props.items);\n        \n        return (\n            <div className=\"list list-thumbnails list-channels\">\n                { items }\n                <ChannelItemAdd channelsAdded={this.props.items} onAdd={this.onAdd} onRemove={this.onRemove} />\n            </div>\n        );\n\n    },\n    \n    getListItemComponent: function()\n    {\n        return ChannelItem;\n    },\n    \n    getListItemProps: function(channel, index)\n    {\n        var onChannelChange = _.bind(function(channel)\n        {\n            this.onChannelChange(channel, index);\n        }, this);\n        return {\n            screen: this.props.screen,\n            onChange: onChannelChange\n        };\n    },\n    \n    onAdd: function(channel)\n    {\n        Requests.Screens.addChannel(this.props.screen.id, channel.id)\n                .then(_.bind(this.onChannelAdded, this));\n    },\n    \n    onChannelChange: function(channel, index)\n    {\n        Panneau.dispatch(ListActions.updateItem(index, channel, this.props.name));\n    },\n    \n    onChannelAdded: function(channel)\n    {\n        Panneau.dispatch(ListActions.addItem(channel, this.props.name));\n    },\n    \n    onRemove: function(channel)\n    {\n        Requests.Screens.removeChannel(this.props.screen.id, channel.id)\n                .then(_.bind(this.onChannelRemoved, this));\n    },\n    \n    onChannelRemoved: function(channel)\n    {\n        var index = _.findIndex(this.props.items, function(it)\n        {\n            return it.id+'' === channel.id+'';\n        });\n        \n        if(index >= 0)\n        {\n            Panneau.dispatch(ListActions.removeItem(index, this.props.name));\n        }\n    }\n\n});\n\nmodule.exports = ChannelsList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/Channels.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\n\nvar URL = require('../../lib/url');\n\nvar ModalActions = Panneau.Actions.Modal;\n\nvar ChannelItem = React.createClass({\n    \n    getDefaultProps: function()\n    {\n        return {\n            \n        };\n    },\n\n    render: function()\n    {    \n        var title = _.get(this.props, 'data.snippet.title');\n        var description = _.get(this.props, 'data.snippet.description');\n        var picture = _.get(this.props, 'data.snippet.picture.link');\n        var imageStyle = {\n            backgroundImage: picture ? ('url('+picture+')'):'none'\n        };\n        \n        var url = URL.route('organisation.screens.channel', {\n            screen_id: this.props.screen.id,\n            channel_id: this.props.data.id\n        });\n        \n        return (\n            <div className=\"list-item list-item-xs list-item-channel\">\n                <a href={url} className=\"thumbnail\" onClick={this.onClick}>\n                    <span className=\"image\" style={imageStyle}></span>\n                    <span className=\"caption\">{ title }</span>\n                </a>\n            </div>\n        );\n\n    },\n    \n    onClick: function(e)\n    {\n        /*e.preventDefault();\n        \n        Panneau.dispatch(ModalActions.openModal('ChannelSettings', {\n            channel: this.props.data,\n            screen: this.props.screen,\n            onClose: this.onModalClose,\n            onChannelChange: this.onChannelChange\n        }));*/\n    },\n    \n    onModalClose: function()\n    {\n        \n    },\n    \n    onChannelChange: function(channel)\n    {\n        if(this.props.onChange)\n        {\n            this.props.onChange(channel);\n        }\n    }\n\n});\n\nmodule.exports = ChannelItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/Channel.react.js\n **/","module.exports = global[\"URL\"] = require(\"-!/Users/dmp/Code/manivelle/backend/node_modules/babel-loader/index.js?{\\\"presets\\\":[\\\"es2015\\\",\\\"react\\\",\\\"stage-0\\\"]}!/Users/dmp/Code/manivelle/backend/resources/assets/js/lib/url.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/url.js\n ** module id = 40\n ** module chunks = 0\n **/","var _routes = {};\n\nmodule.exports = {\n    \n    route: function(key, opts)\n    {\n        if(_.isObject(key))\n        {\n            var routes = key;\n            for(var key in routes)\n            {\n                _routes[key] = routes[key];\n            }\n            return;\n        }\n        \n        var prefix = 'http://'+window.location.host;\n        var url = (_routes[key] || key).replace(prefix,'');\n        \n        if(typeof(opts) !== 'undefined')\n        {\n            for(var k in opts)\n            {\n                url = url.replace(':'+k,opts[k]);\n            }\n        }\n        \n        return url;\n    }\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/url.js\n **/","var React = require('react-external');\n\nvar ModalActions = Panneau.Actions.Modal;\n\nvar ChannelAddItem = React.createClass({\n    \n    getDefaultProps: function() {\n        return {\n            channelsAdded: [],\n        };\n    },\n\n    render: function()\n    {\n        return (\n            <div className=\"list-item list-item-xs list-item-add\">\n                <a href=\"#\" className=\"thumbnail\" onClick={this.onClick}>\n                    <span className=\"icon\">\n                        <span className=\"glyphicon glyphicon-plus\"></span>\n                    </span>\n                    <span className=\"caption\">Ajouter une chaîne</span>\n                </a>\n            </div>\n        );\n\n    },\n    \n    onClick: function(e)\n    {\n        e.preventDefault();\n        \n        Panneau.dispatch(ModalActions.openModal('ChannelAdd', {\n            channelsAdded: this.props.channelsAdded,\n            onAdd: this.onModalAdd,\n            onRemove: this.onModalRemove,\n            onClose: this.onModalClose\n        }));\n    },\n    \n    onModalAdd: function(channel)\n    {\n        if(this.props.onAdd)\n        {\n            this.props.onAdd(channel);\n        }\n    },\n    \n    onModalRemove: function(channel)\n    {\n        if(this.props.onRemove)\n        {\n            this.props.onRemove(channel);\n        }\n    },\n    \n    onModalClose: function()\n    {\n        \n    }\n    \n});\n\nmodule.exports = ChannelAddItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/ChannelAdd.react.js\n **/","var React = require('react-external');\n\nvar ScreenItem = require('../items/Screen.react');\nvar ScreenAdd = require('../items/ScreenAdd.react');\n\nvar ListActions = Panneau.Actions.List;\n\nvar ScreensList = React.createClass({\n    \n    mixins: [Panneau.Mixins.List],\n    \n    getDefaultProps: function() {\n        return {\n            \n        };\n    },\n\n    render: function()\n    {\n        var items = this.renderListItems(this.props.items);\n        \n        return (\n            <div className=\"list list-thumbnails list-screens\">\n                { items }\n                <ScreenAdd onAdd={this.onAdd} />\n            </div>\n        );\n\n    },\n    \n    getListItemComponent: function()\n    {\n        return ScreenItem;\n    },\n    \n    onAdd: function(screen)\n    {\n        Panneau.dispatch(ListActions.addItemIfUnique(screen, 'id', this.props.name));\n    }\n\n});\n\nmodule.exports = ScreensList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/Screens.react.js\n **/","var React = require('react-external');\n\nvar ScreenItem = React.createClass({\n    \n    getDefaultProps: function() {\n        return {\n            \n        };\n    },\n\n    render: function()\n    {\n        var name = _.get(this.props, 'data.snippet.title');\n        var description = _.get(this.props, 'data.snippet.description');\n        var id = _.get(this.props, 'data.id');\n        var online = _.get(this.props, 'data.online', false);\n        var link = URL.route('organisation.screens.show', {\n            screen_id: id\n        });\n        \n        var offline = null;\n        if(!online)\n        {\n            offline = (\n                <span className=\"banner-offline\">Hors ligne</span>\n            );\n        }\n        \n        if(description && description.length)\n        {\n            description = (\n                <span className=\"small\">\n                    { description }\n                </span>\n            );\n        }\n        else\n        {\n            description\n        }\n        \n        var infos = null;\n        var infosLabel = [];\n        var vendor = _.get(this.props, 'data.vendor');\n        var size = _.get(this.props, 'data.size');\n        if(vendor && vendor.length)\n        {\n            infosLabel.push(vendor);\n        }\n        if(size && size.length)\n        {\n            infosLabel.push(size);\n        }\n        if(infosLabel.length)\n        {\n            infos = (\n                <span className=\"small\">\n                    { infosLabel.join(' - ') }\n                </span>\n            );\n        }\n        \n        var iconClassName = 'glyphicon glyphicon-'+(online ? 'ok':'remove')+'-sign';\n        \n        return (\n            <div className=\"list-item list-item-sm\">\n                <a href={ link } className=\"thumbnail\">\n                    { offline }\n                    <span className=\"icon\">\n                        <span className={iconClassName}></span>\n                    </span>\n                    <span className=\"caption caption-lg\">\n                        <strong>{ name }</strong>\n                        { description }\n                        { infos }\n                    </span>\n                </a>\n            </div>\n        );\n\n    }\n\n});\n\nmodule.exports = ScreenItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/Screen.react.js\n **/","var React = require('react-external');\nvar ReactDOM = require('react-dom-external');\n\nvar ScreenActions = require('../../actions/ScreenActions');\nvar ModalActions = Panneau.Actions.Modal;\n\nvar ScreenAddItem = React.createClass({\n    \n    getDefaultProps: function() {\n        return {\n            \n        };\n    },\n\n    render: function()\n    {\n        return (\n            <div className=\"list-item list-item-sm list-item-add\">\n                <a href=\"#\" className=\"thumbnail\" onClick={this.onClick}>\n                    <span className=\"icon\">\n                        <span className=\"glyphicon glyphicon-plus btn-icon-screen\"></span>\n                    </span>\n                    \n                    <span className=\"caption caption-lg\">\n                        <span className=\"small\">\n                            Ajouter un écran\n                        </span>\n                    </span>\n                </a>\n            </div>\n        );\n\n    },\n    \n    onClick: function(e)\n    {\n        e.preventDefault();\n        \n        Panneau.dispatch(ModalActions.openModal('ScreenLink', {\n            element: ReactDOM.findDOMNode(this),\n            onComplete: this.onModalComplete,\n            onClose: this.onModalClose\n        }));\n    },\n    \n    onModalComplete: function(screen)\n    {\n        if(this.props.onAdd)\n        {\n            this.props.onAdd(screen);\n        }\n    },\n    \n    onModalClose: function()\n    {\n        \n    }\n    \n});\n\nmodule.exports = ScreenAddItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/ScreenAdd.react.js\n **/","var React = require('react-external');\n\nvar ListActions = Panneau.Actions.List;\n\nvar TeamAdd = require('../items/TeamAdd.react');\nvar TeamItem = require('../items/Team.react');\n\nvar TeamList = React.createClass({\n    \n    mixins: [Panneau.Mixins.List],\n    \n    getDefaultProps: function()\n    {\n        return {\n            canAdd: false,\n            canEdit: false\n        };\n    },\n\n    render: function()\n    {\n        var items = this.renderListItems(this.props.items);\n        \n        var addItem = null;\n        if(this.props.canAdd)\n        {\n            addItem = (\n                <TeamAdd onAdd={this.onAdd} />\n            );\n        }\n        \n        return (\n            <div className=\"list list-thumbnails list-team\">\n                { items }\n                { addItem }\n            </div>\n        );\n\n    },\n    \n    getListItemComponent: function()\n    {\n        return TeamItem;\n    },\n    \n    getListItemProps: function(it, index, itemProps)\n    {\n        var props = {};\n        props.editable = this.props.canEdit,\n        props.onUpdate = _.bind(function(user)\n        {\n            this.onItemUpdate(index, user);\n        }, this);\n        props.onRemove = _.bind(function()\n        {\n            this.onItemRemove(index);\n        }, this);\n        return props;\n    },\n    \n    onAdd: function(invitation)\n    {\n        invitation.id = 'invitation'+invitation.id;\n        Panneau.dispatch(ListActions.addItemIfUnique(invitation, 'id', this.props.name));\n    },\n    \n    onItemUpdate: function(index, user)\n    {\n        Panneau.dispatch(ListActions.updateItem(index, user, this.props.name));\n    },\n    \n    onItemRemove: function(index)\n    {\n        Panneau.dispatch(ListActions.removeItem(index, this.props.name));\n    }\n\n});\n\nmodule.exports = TeamList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/Team.react.js\n **/","var React = require('react-external');\nvar ReactDOM = require('react-dom-external');\n\nvar TeamActions = require('../../actions/TeamActions');\nvar ModalActions = Panneau.Actions.Modal;\n\nvar TeamAddItem = React.createClass({\n    \n    getDefaultProps: function() {\n        return {\n            \n        };\n    },\n\n    render: function()\n    {\n        return (\n            <div className=\"list-item list-item-sm list-item-add\">\n                <a href={ URL.route('organisation.team.create') } className=\"thumbnail thumbnail-small thumbnail-horizontal\" onClick={this.onClick}>\n                    <span className=\"icon\">\n                        <span className=\"glyphicon glyphicon-plus\"></span>\n                    </span>\n                    <span className=\"caption caption-lg\">\n                        Ajouter un membre de l'équipe\n                    </span>\n                </a>\n            </div>\n        );\n\n    },\n    \n    onClick: function(e)\n    {\n        e.preventDefault();\n        \n        Panneau.dispatch(ModalActions.openModal('TeamInvite', {\n            element: ReactDOM.findDOMNode(this),\n            onComplete: _.bind(this.onModalComplete, this),\n            onClose: _.bind(this.onModalClose, this)\n        }));\n    },\n    \n    onModalComplete: function(invitation)\n    {\n        if(this.props.onAdd)\n        {\n            this.props.onAdd(invitation);\n        }\n    },\n    \n    onModalClose: function()\n    {\n        \n    }\n    \n});\n\nmodule.exports = TeamAddItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/TeamAdd.react.js\n **/","var React = require('react-external');\nvar ReactDOM = require('react-dom-external');\nvar Panneau = require('panneau');\nvar ModalActions = Panneau.Actions.Modal;\n\nvar TeamItem = React.createClass({\n    \n    propTypes: {\n        onChange: React.PropTypes.func,\n        onRemove: React.PropTypes.func\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            editable: false\n        };\n    },\n\n    render: function()\n    {\n        var name = _.get(this.props, 'data.name');\n        if(!name || !name.length)\n        {\n            name = _.get(this.props, 'data.email');\n        }\n        \n        var role = _.get(this.props, 'data.role.name', null);\n        var type = _.get(this.props, 'data.type', 'invitation');\n        \n        var link = URL.route('organisation.team.show', {\n            user_id: _.get(this.props, 'data.id')\n        });\n        \n        var imageStyle = {\n            backgroundImage: 'url('+_.get(this.props, 'data.avatar.link', '/img/avatar.png')+')'\n        };\n        \n        var description = <span>{ role }</span>;\n        if(type === 'invitation')\n        {\n            description = <span>Invitation en cours...</span>;\n        }\n        \n        var editable = this.props.editable;\n        var thumbnail;\n        if(editable)\n        {\n            thumbnail = (\n                <a href={ link } className=\"thumbnail thumbnail-small thumbnail-horizontal\" onClick={this.onClick}>\n                    <span className=\"image\" style={imageStyle}>&nbsp;</span>\n                    <span className=\"caption\">\n                        <strong>{ name }</strong>\n                        { description }\n                    </span>\n                </a>\n            );\n        }\n        else\n        {\n            thumbnail = (\n                <div className=\"thumbnail thumbnail-small thumbnail-horizontal\">\n                    <span className=\"image\" style={imageStyle}>&nbsp;</span>\n                    <span className=\"caption\">\n                        <strong>{ name }</strong>\n                        { description }\n                    </span>\n                </div>\n            );\n        }\n        \n        return (\n            <div className=\"list-item list-item-sm\">\n                { thumbnail }\n            </div>\n        );\n\n    },\n    \n    onClick: function(e)\n    {\n        e.preventDefault();\n        \n        Panneau.dispatch(ModalActions.openModal('TeamEdit', {\n            element: ReactDOM.findDOMNode(this),\n            placement: 'auto',\n            data: this.props.data,\n            onComplete: _.bind(this.onModalComplete, this),\n            onClose: _.bind(this.onModalClose, this)\n        }));\n    },\n    \n    onModalComplete: function(data)\n    {\n        if(data === null)\n        {\n            if(this.props.onRemove)\n            {\n                this.props.onRemove();\n            }\n            return;\n        }\n        \n        if(this.props.onUpdate)\n        {\n            this.props.onUpdate(data);\n        }\n    },\n    \n    onModalClose: function()\n    {\n        \n    }\n\n});\n\nmodule.exports = TeamItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/Team.react.js\n **/","var React = require('react-external');\n\nvar Form = Panneau.Components.Form.Component;\n\nvar ListActions = Panneau.Actions.List;\n\nvar BubbleItem = require('../items/Bubble');\nvar BubbleAdd = require('../items/BubbleAdd.react');\n\nvar BubblesList = React.createClass({\n    \n    mixins: [\n        Panneau.Mixins.List,\n        Panneau.Mixins.Paginator,\n        Panneau.Mixins.Sortable\n    ],\n    \n    sortableOptions: {\n        ref: 'list',\n        model: 'items',\n        handle: '.list-item-col-drag',\n        filter: '.list-item-add',\n        draggable: '.list-item',\n        onUpdate: 'onSortableUpdate'\n    },\n    \n    propTypes: {\n        items: React.PropTypes.array,\n        layout: React.PropTypes.string,\n        addButton: React.PropTypes.bool,\n        bubblesSelectChannelsParams: React.PropTypes.object,\n        checkedBubbles: React.PropTypes.array,\n        onBubbleCheck: React.PropTypes.func,\n        onBubbleClickAdd: React.PropTypes.func,\n        onBubbleRemove: React.PropTypes.func,\n        onOrderChange: React.PropTypes.func\n    },\n    \n    getDefaultProps: function() {\n        return {\n            items: [],\n            addButton: false,\n            layout: 'bubble',\n            bubblesSelectChannelsParams: null,\n            checkedBubbles: [],\n            emptyMessage: 'Aucun contenu.'\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            checkedBubbles: this.props.checkedBubbles\n        };\n    },\n\n    render: function()\n    {\n        var items = this.renderListItems(this.props.items);\n        var paginator = this.props.paginator ? this.renderPaginator(this.props.paginator):null;\n        \n        //Add button\n        var addButton = null;\n        if(this.props.addButton)\n        {\n            addButton = <BubbleAdd \n                            bubblesSelectChannelsParams={this.props.bubblesSelectChannelsParams} \n                            currentItems={this.props.items} \n                            onAdd={this.onAdd} />\n        }\n        \n        if(!items.length && this.props.emptyMessage)\n        {\n            items = (\n                <div className=\"list-item list-item-empty\">\n                    { this.props.emptyMessage }\n                </div>\n            );\n        }\n        \n        var className = 'list list-rows list-bubbles';\n        if(this.props.layout === 'playlist')\n        {\n            className += ' list-playlist';\n        }\n        \n        return (\n            <div className={className}>\n                <div ref=\"list\" className=\"list-items\">\n                    { items }\n                </div>\n                { addButton }\n                { paginator }\n            </div>\n        );\n\n    },\n    \n    componentWillReceiveProps: function(nextProps)\n    {\n        var state = {};\n        var stateHasChanged = false;\n        if(this.state.checkedBubbles !== nextProps.checkedBubbles)\n        {\n            state.checkedBubbles = nextProps.checkedBubbles;\n            stateHasChanged = true;\n        }\n        \n        if(stateHasChanged)\n        {\n            this.setState(state);\n        }\n        \n    },\n    \n    getListItemComponent: function(it, index)\n    {\n        return BubbleItem;\n    },\n    \n    getListItemProps: function(it, index, itemProps)\n    {\n        var props = {};\n        props.layout = this.props.layout;\n        props.checked = _.find(this.state.checkedBubbles, 'id', it.id) ? true:false;\n        props.onCheck = _.bind(function(checked, bubble)\n        {\n            this.onBubbleCheck(bubble, checked);\n        }, this);\n        props.onClickAdd = _.bind(function(bubble)\n        {\n            this.onBubbleClickAdd(bubble);\n        }, this);\n        props.onClickRemove = _.bind(function(bubble)\n        {\n            this.onBubbleClickRemove(bubble, index);\n        }, this);\n        props.onConditionChange = _.bind(function(condition)\n        {\n            this.onBubbleConditionChange(it, condition);\n        }, this);\n        return props;\n    },\n    \n    onAdd: function(bubbles)\n    {\n        if(this.props.onAdd)\n        {\n            this.props.onAdd(bubbles);\n            return;\n        }\n        \n        Panneau.dispatch(ListActions.addItems(bubbles, this.props.name));\n    },\n    \n    onBubbleCheck: function(bubble, checked)\n    {\n        if(this.props.onBubbleCheck)\n        {\n            this.props.onBubbleCheck(bubble, checked);\n        }\n    },\n    \n    onBubbleConditionChange: function(bubble, condition)\n    {\n        if(this.props.onBubbleConditionChange)\n        {\n            this.props.onBubbleConditionChange(bubble, condition);\n        }\n    },\n    \n    onBubbleClickAdd: function(bubble)\n    {\n        if(this.props.onBubbleClickAdd)\n        {\n            this.props.onBubbleClickAdd(bubble);\n        }\n    },\n    \n    onBubbleClickRemove: function(bubble, index)\n    {\n        if(this.props.onBubbleClickRemove)\n        {\n            this.props.onBubbleClickRemove(bubble, index);\n            return;\n        }\n        \n        Panneau.dispatch(ListActions.removeItem(index, this.props.name));\n        \n        if(this.props.onBubbleRemove)\n        {\n            this.props.onBubbleRemove(bubble);\n        }\n    },\n    \n    onSortableUpdate: function(e)\n    {\n        Panneau.dispatch(ListActions.updateData(this.state.items, this.props.name));\n        \n        if(this.props.onOrderChange)\n        {\n            this.props.onOrderChange(this.state.items);\n        }\n    }\n\n});\n\nmodule.exports = BubblesList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/Bubbles.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\n\nvar Snippets = require('../snippets/index');\nvar BubbleSnippet = Snippets.Bubble;\nvar ConditionSnippet = Snippets.Condition;\n\nvar ModalActions = Panneau.Actions.Modal;\nvar ListActions = Panneau.Actions.List;\n\nvar BubbleItem = React.createClass({\n    \n    propTypes: {\n        layout: React.PropTypes.string,\n        checked: React.PropTypes.bool,\n        data: React.PropTypes.object.isRequired,\n        onCheck: React.PropTypes.func,\n        onClickAdd: React.PropTypes.func,\n        onClickRemove: React.PropTypes.func,\n        onConditionChange: React.PropTypes.func\n    },\n    \n    getDefaultProps: function() {\n        return {\n            layout: 'bubble',\n            checked: false\n        };\n    },\n    \n    getInitialState: function() {\n        return {\n            checked: this.props.checked\n        };\n    },\n\n    render: function()\n    {\n        var cols = [];\n        if(this.props.layout === 'playlist')\n        {\n            cols.push(this.renderColDrag(1));\n            cols.push(this.renderColSnippet(6));\n            cols.push(this.renderColConditions(4));\n            cols.push(this.renderColRemove(1));\n        }\n        else if(this.props.layout === 'add')\n        {\n            cols.push(this.renderColCheckbox(1));\n            cols.push(this.renderColSnippet(11));\n            //cols.push(this.renderColActions(4));\n        }\n        else\n        {\n            cols.push(this.renderColSnippet());\n        }\n        \n        return (\n            <div className=\"list-item\" onClick={this.onClick}>\n                { cols }\n            </div>\n        )\n    },\n    \n    renderColDrag: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:1;\n        var colClassName = 'list-item-col-drag list-item-col-'+colSize;\n        \n        return (\n            <div key=\"col_drag\" className={colClassName}>\n                <span className=\"glyphicon glyphicon-menu-hamburger\"></span>\n            </div>\n        );\n    },\n    \n    renderColCheckbox: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:1;\n        var colClassName = 'list-item-col-'+colSize;\n\n        var CheckboxField = Panneau.Components.Fields.Checkbox;\n        return (\n            <div key=\"col_checkbox\" className={colClassName}>\n                <CheckboxField checked={ this.props.checked } onChange={this.onCheckboxChange} />\n            </div>\n        );\n    },\n    \n    renderColSnippet: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:12;\n        var colClassName = 'list-item-col-'+colSize;\n        var type = _.get(this.props, 'data.type', '');\n        \n        var data = _.get(this.props, 'data.snippet');\n        \n        return (\n            <div key=\"col_snippet\" className={colClassName}>\n                <BubbleSnippet data={data} />\n            </div>\n        );\n    },\n    \n    renderColConditions: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:12;\n        var colClassName = 'list-item-col-top list-item-col-'+colSize;\n        \n        var data = _.get(this.props, 'data.condition.snippet');\n        var fields = _.get(this.props, 'data.condition.fields', {});\n        \n        var hasCondition = false;\n        _.each(fields, function(v, k)\n        {\n            var isArray = _.isArray(v);\n            if((v && !isArray) || (isArray && v.length))\n            {\n                hasCondition = true;\n            }\n        })\n        \n        var condition;\n        if(hasCondition)\n        {\n            condition = (\n                <ConditionSnippet data={data} />\n            );\n        }\n        else\n        {\n            condition = (\n                <p>En tout temps</p>\n            );\n        }\n        \n        return (\n            <div key=\"col_conditions\" className={colClassName}>\n                { condition }\n                <div className=\"\">\n                    <a href=\"#\" onClick={this.onConditionEditClick}>Modifier</a>\n                </div>\n            </div>\n        );\n    },\n    \n    renderColActions: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:1;\n        var colClassName = 'list-item-col-last list-item-col-'+colSize;\n        \n        return (\n            <div key=\"col_actions\" className={colClassName}>\n                <button type=\"button\" className=\"btn btn-default\" onClick={this.onClickAdd}>\n                    Ajouter\n                </button>\n            </div>\n        );\n    },\n    \n    renderColRemove: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:1;\n        var colClassName = 'list-item-col-last list-item-col-'+colSize;\n        return (\n            <div key=\"col_remove\" className={colClassName}>\n                <button type=\"button\" className=\"btn btn-default btn-no-border glyphicon glyphicon-remove\" onClick={this.onClickRemove}></button>\n            </div>\n        );\n    },\n    \n    componentWillReceiveProps: function(nextProps)\n    {\n        if(this.state.checked !== nextProps.checked)\n        {\n            this.setState({\n                checked: nextProps.checked\n            });\n        }\n    },\n    \n    onConditionEditClick: function(e)\n    {\n        e.preventDefault();\n        \n        var bubble = _.get(this.props, 'data');\n        var condition = _.get(this.props, 'data.condition', {});\n        \n        Panneau.dispatch(ModalActions.openModal('Conditions', {\n            bubbles: [bubble],\n            condition: condition,\n            onComplete: this.onModalComplete,\n            onClose: this.onModalClose\n        }));\n    },\n    \n    onModalComplete: function(condition)\n    {\n        var bubble = _.get(this.props, 'data', null);\n        _.set(bubble || {}, 'condition', condition);\n        \n        Panneau.dispatch(ListActions.updateItem(this.props.index, bubble, this.props.list));\n        Panneau.dispatch(ModalActions.closeModal('Conditions'));\n        \n        if(this.props.onConditionChange)\n        {\n            this.props.onConditionChange(condition);\n        }\n    },\n    \n    onModalClose: function()\n    {\n        \n    },\n    \n    onConditionUpdated: function(condition)\n    {\n        \n    },\n    \n    onClick: function(e)\n    {\n        if(e.target.tagName === 'input')\n        {\n            return;\n        }\n        \n        if(this.props.layout === 'add' && this.props.onCheck)\n        {\n            this.props.onCheck(!this.props.checked, this.props.data);\n        }\n    },\n    \n    onCheckboxChange: function(value)\n    {    \n        if(this.props.onCheck)\n        {\n            this.props.onCheck(value, this.props.data);\n        }\n    },\n    \n    onClickAdd: function()\n    {\n        if(this.props.onClickAdd)\n        {\n            this.props.onClickAdd(this.props.data);\n        }\n    },\n    \n    onClickRemove: function()\n    {\n        if(this.props.onClickRemove)\n        {\n            this.props.onClickRemove(this.props.data);\n        }\n    }\n\n});\n\nmodule.exports = BubbleItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/Bubble.jsx\n **/","module.exports = {\n    'Bubble': require('./Bubble'),\n    'Condition': require('./Condition')\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/snippets/index.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Image = require('../../vendor/image');\n\nvar BubbleSnippet = React.createClass({\n    \n    getDefaultProps: function() {\n        return {\n            data: null\n        };\n    },\n\n    render: function()\n    {    \n        var title = _.get(this.props, 'data.title');\n        var description = _.get(this.props, 'data.description', '').split('\\n');\n        var subtitle = _.get(this.props, 'data.subtitle', '');\n        var link = _.get(this.props, 'data.link');\n        var image = _.get(this.props, 'data.picture_thumbnail.link', _.get(this.props, 'data.picture.link'));\n        \n        if(subtitle && subtitle.length)\n        {\n            subtitle = (\n                <div className=\"subtitle\">{ subtitle }</div>\n            );\n        }\n        else\n        {\n            subtitle = null;\n        }\n        \n        if(description && description.length)\n        {\n            var lines = _.map(description, function(text, index)\n            {\n                var key = 'description_'+index;\n                return (\n                    <div key={key}>{ text }</div>\n                );\n            });\n            description = (\n                <div className=\"description\">\n                    { lines }\n                </div>\n            );\n        }\n        else\n        {\n            description = null;\n        }\n        \n        \n        var img = (\n            <div className=\"image\"></div>\n        );\n        if(image && image.length)\n        {\n            img =  (\n                <img src={image} className=\"image\" />\n            );\n        }\n        \n        return (\n            <div className=\"snippet snippet-with-thumbnail snippet-bubble\">\n                <div className=\"snippet-thumbnail\">\n                    {img}\n                </div>\n                <div className=\"snippet-caption\">\n                    <h4 className=\"title\">{ title }</h4>\n                    { subtitle }\n                    { description }\n                </div>\n            </div>\n        );\n\n    }\n\n});\n\nmodule.exports = BubbleSnippet;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/snippets/Bubble.jsx\n **/","(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\tif(typeof(root.Folklore) === 'undefined') {\n\t\t\troot.Folklore = {};\n\t\t}\n\t\troot.Folklore.Image = factory();\n\t}\n}(this, function () {\n\t\n\t'use strict';\n\n\tvar URL_PARAMETER = '-image({options})';\n\t\n\t// Build a image formatted URL\n\tfunction url(src, width, height, options) {\n\n\t\t// Don't allow empty strings\n\t\tif (!src || !src.length) return;\n\n\t\t//If width parameter is an array, use it as options\n\t\tif(width instanceof Object)\n\t\t{\n\t\t\toptions = width;\n\t\t\twidth = null;\n\t\t\theight = null;\n\t\t}\n\n\t\t//Get size\n\t\tif (!width) width = '_';\n\t\tif (!height) height = '_';\n\t\t\n\t\t// Produce the image option\n\t\tvar params = [];\n\n\t\t//Add size if presents\n\t\tif(width != '_' || height != '_') {\n\t\t\tparams.push(width+'x'+height);\n\t\t}\n\t\t\n\t\t// Add options.\n\t\tif (options && options instanceof Object) {\n\t\t\tvar val, key;\n\t\t\tfor (key in options) {\n\t\t\t\tval = options[key];\n\t\t\t\tif (val === true || val === null) {\n\t\t\t\t\tparams.push(key);\n\t\t\t\t}\n\t\t\t\telse if (val instanceof Array) {\n\t\t\t\t\tparams.push(key+'('+val.join(',')+')');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tparams.push(key+'('+val+')');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tparams = params.join('-');\n\t\tvar parameter = URL_PARAMETER.replace('{options}',params);\n\n\t\t// Break the path apart and put back together again\n\t\treturn src.replace(/^(.+)(\\.[a-z]+)$/i, \"$1\"+parameter+\"$2\");\n\t\t\n\t}\n\t\n\t// Expose public methods.\n\treturn {\n\t\turl: url\n\t};\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./vendor/image.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\n\nvar ConditionSnippet = React.createClass({\n    \n    getDefaultProps: function() {\n        return {\n            data: null\n        };\n    },\n\n    render: function()\n    {    \n        var title = _.get(this.props, 'data.title');\n        var description = _.get(this.props, 'data.description', '').split('\\n');\n        description = _.map(description, function(text, index)\n        {\n            var key = 'description_'+index;\n            return (\n                <div key={key}>{ text }</div>\n            );\n        });\n        \n        return (\n            <div className=\"snippet snippet-condition\">\n                <div className=\"snippet-caption\">\n                    <h4 className=\"title\">{ title }</h4>\n                    <div className=\"description\">\n                        { description }\n                    </div>\n                </div>\n            </div>\n        );\n\n    }\n\n});\n\nmodule.exports = ConditionSnippet;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/snippets/Condition.jsx\n **/","var React = require('react-external');\n\nvar ScreenActions = require('../../actions/ScreenActions');\nvar ModalActions = Panneau.Actions.Modal;\nvar ResourceActions = Panneau.Actions.Resource;\n\nvar PlaylistBubbleAddItem = React.createClass({\n    \n    propTypes: {\n        bubblesSelectChannelsParams: React.PropTypes.object,\n        currentItems: React.PropTypes.array\n    },\n    \n    getDefaultProps: function() {\n        return {\n            bubblesSelectChannelsParams: null,\n            currentItems: null\n        };\n    },\n\n    render: function()\n    {\n        return (\n            <div className=\"list-item list-item-add\">\n                <a href=\"#\" className=\"thumbnail\" onClick={this.onClick}>\n                    <span className=\"glyphicon glyphicon-plus\"></span>\n                    <strong>\n                        Ajouter des diapositives\n                    </strong>\n                </a>\n            </div>\n        );\n\n    },\n    \n    onClick: function(e)\n    {\n        e.preventDefault();\n        \n        Panneau.dispatch(ModalActions.openModal('BubblesSelect', {\n            channelsParams: this.props.bubblesSelectChannelsParams,\n            onComplete: this.onModalComplete,\n            onClose: this.onModalClose\n        }));\n    },\n    \n    onModalComplete: function(result)\n    {\n        Panneau.dispatch(ModalActions.closeModal('BubblesSelect'));\n        \n        if(this.props.onAdd)\n        {\n            this.props.onAdd(result);\n        }\n    },\n    \n    onModalClose: function()\n    {\n        \n    }\n    \n});\n\nmodule.exports = PlaylistBubbleAddItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/BubbleAdd.react.js\n **/","var React = require('react-external');\n\nvar Bubbles = require('./Bubbles.react');\n\nvar ModalActions = Panneau.Actions.Modal;\nvar ListActions = Panneau.Actions.List;\nvar TimelineActions = require('../../actions/TimelineActions');\n\nvar Requests = require('../../requests/index');\n\nvar BubblesPlaylistList = React.createClass({\n    \n    propTypes: {\n        screen_id: React.PropTypes.number,\n        playlist_id: React.PropTypes.number\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            layout: \"playlist\",\n            addButton: true,\n            emptyMessage: null,\n            screen_id: null,\n            playlist_id: null\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            bubblesToAdd: null,\n            filtersToAdd: null\n        };\n    },\n\n    render: function()\n    {\n        var channelsParams = {};\n        if(this.props.screen_id)\n        {\n            channelsParams.screen_id = this.props.screen_id;\n        }\n        \n        return (\n            <Bubbles \n                {...this.props} \n                bubblesSelectChannelsParams={channelsParams} \n                onAdd={this.onAdd} \n                onBubbleClickRemove={this.onBubbleClickRemove}\n                onOrderChange={this.onOrderChange}\n                onBubbleConditionChange={this.onBubbleConditionChange}\n            />\n        );\n    },\n    \n    onAdd: function(data)\n    {\n        var bubbles = _.get(data, 'bubbles', null);\n        var filters = _.get(data, 'filters', null);\n        \n        this.setState({\n            filtersToAdd: filters,\n            bubblesToAdd: bubbles\n        }, function()\n        {\n            Panneau.dispatch(ModalActions.openModal('Conditions', {\n                bubbles: bubbles,\n                filters: filters,\n                onComplete: this.onModalComplete,\n                onClose: this.onModalClose\n            }));\n        });\n    },\n    \n    onBubbleClickRemove: function(bubble, index)\n    {\n        if(!confirm('Êtes-vous certain de vouloir enlever ce contenu?'))\n        {\n            return;\n        }\n        \n        Requests.Playlists.removeBubble(this.props.playlist_id, index)\n            .then(_.bind(function(bubbles)\n            {\n                this.onBubbleRemoved(bubbles);\n            }, this));\n    },\n    \n    onModalComplete: function(condition)\n    {\n        if(this.state.bubblesToAdd)\n        {\n            Requests.Playlists.addBubblesWithCondition(this.props.playlist_id, this.state.bubblesToAdd, condition)\n                .then(_.bind(this.onBubbleAdded, this));\n        }\n        else if(this.state.filtersToAdd)\n        {\n            Requests.Playlists.addFiltersWithCondition(this.props.playlist_id, this.state.filtersToAdd, condition)\n                .then(_.bind(this.onBubbleAdded, this));\n        }\n    },\n    \n    onOrderChange: function(items)\n    {\n        var ids = [];\n        _.each(items, function(it)\n        {\n            ids.push(it.playlist_item_id);\n        });\n        \n        Requests.Playlists.updateOrder(this.props.playlist_id, ids)\n            .then(_.bind(this.onOrderUpdated, this));\n    },\n    \n    onModalClose: function()\n    {\n        this.setState({\n            filtersToAdd: null,\n            bubblesToAdd: null\n        });\n    },\n    \n    onBubbleRemoved: function(bubbles)\n    {\n        Panneau.dispatch(ListActions.updateData(bubbles, this.props.name));\n        Panneau.dispatch(TimelineActions.updateForScreen(this.props.screen_id));\n    },\n    \n    onBubbleAdded: function(bubbles)\n    {\n        bubbles = !_.isArray(bubbles) ? [bubbles]:bubbles;\n        this.setState({\n            filtersToAdd: null,\n            bubblesToAdd: null\n        }, function()\n        {\n            Panneau.dispatch(ListActions.addItems(bubbles, this.props.name));\n            Panneau.dispatch(ModalActions.closeModal('Conditions'));\n            Panneau.dispatch(TimelineActions.updateForScreen(this.props.screen_id));\n        });\n    },\n    \n    onBubbleConditionChange: function()\n    {\n        Panneau.dispatch(TimelineActions.updateForScreen(this.props.screen_id));\n    },\n    \n    onOrderUpdated: function(bubbles)\n    {\n        Panneau.dispatch(ListActions.updateData(bubbles, this.props.name));\n        Panneau.dispatch(TimelineActions.updateForScreen(this.props.screen_id));\n    }\n\n});\n\nmodule.exports = BubblesPlaylistList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/BubblesPlaylist.react.js\n **/","\nvar ListActions = Panneau.Actions.List;\n\nvar Requests = require('../requests/index');\n\nmodule.exports = {\n    \n    updateForScreen: function(screen_id)\n    {\n        return function(dispatch)\n        {\n            Requests.Timeline.loadForScreen(screen_id)\n                .then(function(timeline)\n                {\n                    dispatch(ListActions.updateData(timeline, 'bubbles.timeline'));\n                });\n        };\n    }\n    \n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./actions/TimelineActions.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar $ = require('jquery-external');\nvar Immutable = require('immutable-external');\n\nvar BubblesList = require('./Bubbles.react');\n\nvar Form = Panneau.Components.Form.Component;\nvar Paginator = Panneau.Components.Paginator;\n\nvar Requests = require('../../requests/index');\n\nvar BubblesChannelList = React.createClass({\n    \n    propTypes: {\n        channel: React.PropTypes.object,\n        filters: React.PropTypes.array,\n        filtersEnabled: React.PropTypes.bool,\n        checkedBubbles: React.PropTypes.array,\n        onLoaded: React.PropTypes.func,\n        onFiltersChange: React.PropTypes.func,\n        onChange: React.PropTypes.func,\n        onClickAdd: React.PropTypes.func\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            filtersEnabled: true,\n            channel: null,\n            checkedBubbles: null,\n            filters: null,\n            paginatorBottom: true\n        };\n    },\n    \n    getInitialState: function()\n    {\n        var filters = this.props.filters ? Immutable.fromJS(this.props.filters):null;\n        var params = this.props.filters ? Immutable.fromJS(this.getParamsFromFilters(this.props.filters)):null;\n        \n        return {\n            checkedBubbles: this.props.checkedBubbles,\n            bubbles: null,\n            params: params,\n            page: 1,\n            filters: filters,\n            loading: false\n        };\n    },\n    \n    render: function()\n    {\n        if(!this.state.bubbles)\n        {\n            var loading = this.renderLoading();\n            return (\n                <div className=\"bubbles-selector\">\n                    { loading }\n                </div>\n            );\n        }\n        \n        //Filters form\n        var filtersForm = null;\n        if(this.props.channel)\n        {\n            var filters = this.state.filters ? this.state.filters.toJS():null;\n            var filtersFields = this.props.channel.bubbles_filters;\n            filtersForm = this.renderFiltersForm(filters, filtersFields);\n        }\n        \n        //Paginator\n        var paginator = null;\n        if(this.state.pagination)\n        {\n            paginator = this.renderPaginator(this.state.pagination);\n        }\n        \n        //Bubbles list\n        var bubbles = this.state.bubbles || [];\n        var props = _.omit(this.props, ['items', 'checkedBubbles', 'onBubbleCheck', 'onBubbleClickAdd']);\n        var list = (\n            <BubblesList \n                {...props}\n                items={ bubbles } \n                checkedBubbles={ this.state.checkedBubbles }\n                onBubbleCheck={ this.onBubbleCheck } \n                onBubbleClickAdd={ this.onBubbleClickAdd }\n            />\n        );\n        \n        //Loading\n        var loading = null;\n        if(this.state.loading)\n        {\n            loading = this.renderLoading();\n        }\n\n        return (\n            <div className=\"bubbles-channel\">\n                { filtersForm }\n                { paginator }\n                { loading }\n                { list }\n                { this.props.paginatorBottom && bubbles.length > 5 ? paginator:null }\n            </div>\n        );\n\n    },\n    \n    renderLoading: function()\n    {\n        return (\n            <div className=\"loading-block\">\n                <div className=\"table\">\n                    <div className=\"middle\">Chargement...</div>\n                </div>\n                <div className=\"block\"></div>\n            </div>\n        );\n    },\n    \n    renderFiltersForm: function(filters, fieldsFilters)\n    {\n        var formData = {\n            filters: filters\n        };\n        var formFields = [\n            {\n                'name': 'filters',\n                'type': 'filters',\n                'filters': fieldsFilters\n            }\n        ];\n        \n        var block;\n        if(!this.props.filtersEnabled)\n        {\n            block = (\n                <div className=\"filters-block\"></div>\n            );\n        }\n        \n        return (\n            <div className=\"filters\">\n                <Form name=\"bubbles.filters\" fields={formFields} data={formData} onFieldChange={this.onFiltersFormFieldChange} />\n                { block }\n            </div>\n        );\n    },\n    \n    renderPaginator: function(pagination)\n    {\n        var bubblesCount = pagination.total;\n        var countLabel;\n        if(bubblesCount === 1)\n        {\n            countLabel = '1 élément correspondant à ces critères';\n        }\n        else if(bubblesCount > 1)\n        {\n            countLabel = bubblesCount+' éléments correspondants à ces critères';\n        }\n        \n        if(countLabel)\n        {\n            var paginator = null;\n            if(pagination.last_page > 1)\n            {\n                paginator = (\n                    <Paginator \n                        total={pagination.total}\n                        perPage={pagination.per_page}\n                        currentPage={pagination.current_page}\n                        lastPage={pagination.last_page}\n                        interval={3}\n                        onClickPage={this.onPaginatorClickPage}\n                        onClickNext={this.onPaginatorClickPage}\n                        onClickPrevious={this.onPaginatorClickPage} />\n                );\n            }\n            \n            countLabel = (\n                <div className=\"bubbles-paginator\">\n                    <div className=\"col col-count\">\n                        { countLabel }\n                    </div>\n                    <div className=\"col col-paginator\">\n                        { paginator }\n                    </div>\n                </div>\n            );\n        }\n        \n        return countLabel;\n    },\n    \n    componentWillReceiveProps: function(nextProps)\n    {\n        if(this.props.filters !== nextProps.filters)\n        {\n            var filters = nextProps.filters ? Immutable.fromJS(nextProps.filters):null;\n            var params = nextProps.filters ? Immutable.fromJS(this.getParamsFromFilters(nextProps.filters)):null;\n            \n            this.setState({\n                filters: filters,\n                params: params\n            })\n        }\n    },\n    \n    componentDidUpdate: function(prevProps, prevState)\n    {\n        if(this.queryHasChanged(prevProps, prevState))\n        {\n            var reset = this.channelHasChanged(prevProps, prevState);\n            this.reloadBubbles(reset);\n        }\n    },\n    \n    componentDidMount: function()\n    {\n        this.reloadBubbles();\n    },\n    \n    channelHasChanged: function(prevProps, prevState)\n    {\n        var channelId = _.get(this.props, 'channel.id', '')+'';\n        var prevChannelId = _.get(prevProps, 'channel.id', '')+'';\n        \n        return channelId !== prevChannelId;\n    },\n    \n    queryHasChanged: function(prevProps, prevState)\n    {\n        return (\n            this.channelHasChanged(prevProps, prevState) || \n            this.state.params !== prevState.params || \n            this.state.page !== prevState.page\n        ) ? true:false;\n    },\n    \n    reloadBubbles: function(reset)\n    {\n        if(typeof(reset) === 'undefined')\n        {\n            reset = false;\n        }\n        \n        var params = this.state.params ? this.state.params.toJS():null;\n        if(reset)\n        {\n            this.setState({\n                params: null,\n                filters: null,\n                page: 1,\n                pagination: null,\n                checked: null\n            }, function()\n            {\n                this.loadBubbles(this.props.channel, params);\n            });\n            \n        }\n        else\n        {\n            this.loadBubbles(this.props.channel, params);\n        }\n    },\n    \n    loadBubbles: function(channel, params)\n    {\n        this.setState({\n            loading: true\n        }, function()\n        {\n            if(typeof(params) === 'undefined' || !params)\n            {\n                params = {};\n            }\n            params.page = this.state.page;\n            Requests.Bubbles.loadForChannel(channel, params)\n                .then(this.onBubblesLoaded);\n        });\n    },\n    \n    getParamsFromFilters: function(filters)\n    {\n        var params = {};\n        var hasParams = false;\n        _.each(filters || [], function(filter)\n        {\n            var value = null;\n            if(_.isObject(filter.value) && !_.isArray(filter.value))\n            {\n                value = _.get(filter, 'value.value');\n            }\n            else if(filter.value)\n            {\n                value = filter.value;\n            }\n            if(value !== null && typeof(value) !== 'undefined' && value.length)\n            {\n                params['filter_'+filter.name] = _.isArray(value) ? value.join(','):value;\n                hasParams = true;\n            }\n        });\n        return hasParams ? params:null;\n    },\n    \n    onBubblesLoaded: function(bubbles)\n    {\n        this.setState({\n            bubbles: bubbles.items,\n            pagination: bubbles.pagination,\n            loading: false\n        }, function()\n        {\n            if(this.props.onLoaded)\n            {\n                this.props.onLoaded(bubbles);\n            }\n        });\n    },\n    \n    onPaginatorClickPage: function(e, page)\n    {\n        e.preventDefault();\n        \n        this.setState({\n            page: page\n        });\n    },\n    \n    onBubbleCheck: function(bubble, checked)\n    {\n        var checkedBubbles = this.state.checkedBubbles || [];\n        var current = _.find(checkedBubbles, function(it)\n        {\n            return (it.id+'') === (bubble.id+'');\n        });\n        \n        if(!current)\n        {\n            checkedBubbles.push(bubble);\n        }\n        else\n        {\n            checkedBubbles = _.filter(checkedBubbles, function(it)\n            {\n                return (it.id+'') !== (current.id+'');\n            });\n        }\n        \n        this.setState({\n            checkedBubbles: checkedBubbles\n        }, function()\n        {\n            if(this.props.onChange)\n            {\n                this.props.onChange(this.state.checkedBubbles);\n            }\n        });\n    },\n    \n    onFiltersFormFieldChange: function(name, value)\n    {\n        if(name === 'filters')\n        {\n            var bubblesParams = this.getParamsFromFilters(value);\n            this.setState({\n                params: bubblesParams ? Immutable.fromJS(bubblesParams):null,\n                filters: value ? Immutable.fromJS(value): null\n            });\n            \n            if(this.props.onFiltersChange)\n            {\n                this.props.onFiltersChange(value);\n            }\n        }\n    },\n    \n    onBubbleClickAdd: function(bubble)\n    {\n        if(this.props.onClickAdd)\n        {\n            this.props.onClickAdd(bubble);\n        }\n    }\n\n});\n\nmodule.exports = BubblesChannelList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/BubblesChannel.react.js\n **/","module.exports = Immutable;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"Immutable\"\n ** module id = 59\n ** module chunks = 0\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar $ = require('jquery-external');\nvar Immutable = require('immutable-external');\n\nvar Requests = require('../../requests/index');\n\nvar BubblesChannelList = require('./BubblesChannel.react');\n\nvar BubblesChannelFilters = React.createClass({\n    \n    propTypes: {\n        channel: React.PropTypes.object,\n        filters: React.PropTypes.array\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            channel: null,\n            filters: null\n        };\n    },\n    \n    getInitialState: function()\n    {\n        var filters = _.get(this.props, 'filters', null);\n        \n        return {\n            filters: filters,\n            filtersEnabled: filters && filters.length ? true:false\n        };\n    },\n\n    render: function()\n    {\n        return (\n            <div className=\"bubbles-channel-filters\">\n                <div className=\"form-group form-group-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" checked={this.state.filtersEnabled} onChange={this.onFiltersCheckboxChange} /> Afficher seulement les éléments correspondant aux critères suivants:\n                    </label>\n                </div>\n                <BubblesChannelList \n                    channel={this.props.channel}\n                    filtersEnabled={this.state.filtersEnabled}\n                    filters={ _.isArray(this.state.filters) ? this.state.filters:[] }\n                    onLoaded={this.onBubblesLoaded}\n                    onFiltersChange={this.onBubblesFiltersChange}\n                />\n            </div>\n        );\n\n    },\n    \n    componentDidMount: function()\n    {\n        \n    },\n    \n    componentDidUpdate: function(prevProps, prevState)\n    {\n        if(this.state.filters !== prevState.filters && (prevState.filtersEnabled || this.state.filtersEnabled))\n        {\n            console.log('SAVE FILTERS');\n            this.saveFilters(this.state.filters);\n        }\n    },\n    \n    saveFilters: function(filters)\n    {\n        Requests.Screens.saveChannelSettings(this.props.screen, this.props.channel, {\n            filters: filters\n        }).then(_.bind(this.onSettingsSaved, this));\n        \n        if(this.props.onFiltersChange)\n        {\n            this.props.onFiltersChange(filters);\n        }\n    },\n    \n    onFiltersCheckboxChange: function(e)\n    {\n        var checked = e.currentTarget.checked;\n        this.setState({\n            filtersEnabled: checked,\n            filters: !checked ? []:this.state.filters\n        });\n    },\n    \n    onBubblesLoaded: function(bubbles)\n    {\n        if(this.props.onBubblesLoaded)\n        {\n            this.props.onBubblesLoaded(bubbles);\n        }\n    },\n    \n    onBubblesFiltersChange: function(filters)\n    {\n        this.setState({\n            filters: filters\n        });\n    },\n    \n    onSettingsSaved: function(channel)\n    {\n        var filters = _.get(channel, 'screen_settings.filters');\n        var currentValue = Immutable.fromJS(this.props.channel);\n        var newValue = currentValue.setIn(['screen_settings','filters'], filters);\n        var newChannel = newValue.toJS();\n        if(this.props.onChannelChange)\n        {\n            this.props.onChannelChange(newChannel);\n        }\n    }\n\n});\n\nmodule.exports = BubblesChannelFilters;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/BubblesChannelFilters.react.js\n **/","var React = require('react-external');\n\nvar PlaylistItem = require('../items/PlaylistItem.react');\nvar PlaylistItemAdd = require('../items/PlaylistItemAdd.react');\n\nvar ModalActions = Panneau.Actions.Modal;\nvar ListActions = Panneau.Actions.List;\nvar TimelineActions = require('../../actions/TimelineActions');\nvar Requests = require('../../requests/index');\n\nvar Requests = require('../../requests/index');\n\nvar PlaylistList = React.createClass({\n    \n    mixins: [\n        Panneau.Mixins.List,\n        Panneau.Mixins.Paginator,\n        Panneau.Mixins.Sortable\n    ],\n    \n    sortableOptions: {\n        ref: 'list',\n        model: 'items',\n        handle: '.list-item-col-drag',\n        filter: '.list-item-add',\n        draggable: '.list-item',\n        onUpdate: 'onSortableUpdate'\n    },\n    \n    propTypes: {\n        screen: React.PropTypes.object,\n        screen: React.PropTypes.object\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            addButton: true,\n            emptyMessage: null,\n            screen: null,\n            playlist: null\n        };\n    },\n\n    render: function()\n    {\n        var channelsParams = {};\n        var screen_id = _.get(this.props, 'screen.id', null);\n        if(screen_id)\n        {\n            channelsParams.screen_id = screen_id;\n        }\n        \n        var items = this.renderListItems(this.props.items);\n        \n        //Add button\n        var addButton = null;\n        if(this.props.addButton)\n        {\n            addButton = <PlaylistItemAdd \n                            bubblesSelectChannelsParams={channelsParams} \n                            playlist={this.props.playlist} \n                            currentItems={this.props.items} \n                            onAdd={this.onAdd} />\n        }\n        \n        if(!items.length && this.props.emptyMessage)\n        {\n            items = (\n                <div className=\"list-item list-item-empty\">\n                    { this.props.emptyMessage }\n                </div>\n            );\n        }\n        \n        var className = 'list list-rows list-playlist';\n        \n        return (\n            <div className={className}>\n                <div ref=\"list\" className=\"list-items\">\n                    { items }\n                </div>\n                { addButton }\n            </div>\n        );\n    },\n    \n    getListItemComponent: function(it, index)\n    {\n        return PlaylistItem;\n    },\n    \n    getListItemProps: function(it, index, itemProps)\n    {\n        var props = {};\n        props.onClickRemove = _.bind(function()\n        {\n            this.onItemClickRemove(it, index);\n        }, this);\n        props.onConditionChange = _.bind(function(condition)\n        {\n            this.onItemConditionChange(condition, it, index);\n        }, this);\n        return props;\n    },\n    \n    onItemClickRemove: function(it, index)\n    {\n        if(!confirm('Êtes-vous certain de vouloir enlever ce contenu?'))\n        {\n            return;\n        }\n        \n        var playlist_id = _.get(this.props, 'playlist.id');\n        Requests.Playlists.removeItem(playlist_id, it.id)\n            .then(_.bind(this.onItemRemoved, this));\n    },\n    \n    onItemConditionChange: function(condition, it, index)\n    {\n        var screen_id = _.get(this.props, 'screen.id');\n        it.condition = condition;\n        Panneau.dispatch(ListActions.updateItem(index, it, this.props.name));\n        Panneau.dispatch(TimelineActions.updateForScreen(screen_id));\n    },\n    \n    onAdd: function(items)\n    {\n        var screen_id = _.get(this.props, 'screen.id', null);\n        Panneau.dispatch(ListActions.addItems(items, this.props.name));\n        Panneau.dispatch(TimelineActions.updateForScreen(screen_id));\n    },\n    \n    onSortableUpdate: function(e)\n    {\n        var ids = [];\n        _.each(this.state.items, function(it)\n        {\n            ids.push(it.id);\n        });\n        \n        var playlist_id = _.get(this.props, 'playlist.id');\n        Requests.Playlists.updateOrder(playlist_id, ids)\n            .then(_.bind(this.onOrderUpdated, this));\n            \n        Panneau.dispatch(ListActions.updateData(this.state.items, this.props.name));\n    },\n    \n    onItemRemoved: function(items)\n    {\n        var screen_id = _.get(this.props, 'screen.id');\n        Panneau.dispatch(ListActions.updateData(items, this.props.name));\n        Panneau.dispatch(TimelineActions.updateForScreen(screen_id));\n    },\n    \n    onOrderUpdated: function(bubbles)\n    {\n        var screen_id = _.get(this.props, 'screen.id', null);\n        Panneau.dispatch(ListActions.updateData(bubbles, this.props.name));\n        Panneau.dispatch(TimelineActions.updateForScreen(screen_id));\n    }\n\n});\n\nmodule.exports = PlaylistList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/Playlist.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\n\nvar Snippets = require('../snippets/index');\nvar BubbleSnippet = Snippets.Bubble;\nvar ConditionSnippet = Snippets.Condition;\n\nvar ModalActions = Panneau.Actions.Modal;\nvar ListActions = Panneau.Actions.List;\n\nvar PlaylistItem = React.createClass({\n    \n    propTypes: {\n        layout: React.PropTypes.string,\n        data: React.PropTypes.object.isRequired,\n        onClickRemove: React.PropTypes.func,\n        onConditionChange: React.PropTypes.func\n    },\n    \n    getDefaultProps: function() {\n        return {\n            layout: 'bubble'\n        };\n    },\n\n    render: function()\n    {\n        var cols = [];\n        cols.push(this.renderColDrag(1));\n        cols.push(this.renderColSnippet(6));\n        cols.push(this.renderColConditions(4));\n        cols.push(this.renderColRemove(1));\n        \n        return (\n            <div className=\"list-item\">\n                { cols }\n            </div>\n        )\n    },\n    \n    renderColDrag: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:1;\n        var colClassName = 'list-item-col-drag list-item-col-'+colSize;\n        \n        return (\n            <div key=\"col_drag\" className={colClassName}>\n                <span className=\"glyphicon glyphicon-menu-hamburger\"></span>\n            </div>\n        );\n    },\n    \n    renderColSnippet: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:12;\n        var colClassName = 'list-item-col-'+colSize;\n        var type = _.get(this.props, 'data.bubble.type', '');\n        var data = _.get(this.props, 'data.bubble.snippet');\n        \n        return (\n            <div key=\"col_snippet\" className={colClassName}>\n                <BubbleSnippet data={data} />\n            </div>\n        );\n    },\n    \n    renderColConditions: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:12;\n        var colClassName = 'list-item-col-top list-item-col-'+colSize;\n        \n        var data = _.get(this.props, 'data.condition.snippet');\n        var fields = _.get(this.props, 'data.condition.fields', {});\n        \n        var hasCondition = false;\n        _.each(fields, function(v, k)\n        {\n            var isArray = _.isArray(v);\n            if((v && !isArray) || (isArray && v.length))\n            {\n                hasCondition = true;\n            }\n        })\n        \n        var condition;\n        if(hasCondition)\n        {\n            condition = (\n                <ConditionSnippet data={data} />\n            );\n        }\n        else\n        {\n            condition = (\n                <p>En tout temps</p>\n            );\n        }\n        \n        return (\n            <div key=\"col_conditions\" className={colClassName}>\n                { condition }\n                <div className=\"\">\n                    <a href=\"#\" onClick={this.onConditionEditClick}>Modifier</a>\n                </div>\n            </div>\n        );\n    },\n    \n    renderColRemove: function(size)\n    {\n        var colSize = typeof(size) !== 'undefined' ? size:1;\n        var colClassName = 'list-item-col-last list-item-col-'+colSize;\n        return (\n            <div key=\"col_remove\" className={colClassName}>\n                <button type=\"button\" className=\"btn btn-default btn-no-border glyphicon glyphicon-remove\" onClick={this.onClickRemove}></button>\n            </div>\n        );\n    },\n    \n    onConditionEditClick: function(e)\n    {\n        e.preventDefault();\n        \n        var bubble = _.get(this.props, 'data');\n        var condition = _.get(this.props, 'data.condition', {});\n        \n        Panneau.dispatch(ModalActions.openModal('Conditions', {\n            bubbles: [bubble],\n            condition: condition,\n            onComplete: this.onModalComplete,\n            onClose: this.onModalClose\n        }));\n    },\n    \n    onModalComplete: function(condition)\n    {\n        var bubble = _.get(this.props, 'data', null);\n        _.set(bubble || {}, 'condition', condition);\n        \n        Panneau.dispatch(ListActions.updateItem(this.props.index, bubble, this.props.list));\n        Panneau.dispatch(ModalActions.closeModal('Conditions'));\n        \n        if(this.props.onConditionChange)\n        {\n            this.props.onConditionChange(condition);\n        }\n    },\n    \n    onModalClose: function()\n    {\n        \n    },\n    \n    onConditionUpdated: function(condition)\n    {\n        \n    },\n    \n    onClickRemove: function()\n    {\n        if(this.props.onClickRemove)\n        {\n            this.props.onClickRemove(this.props.data);\n        }\n    }\n\n});\n\nmodule.exports = PlaylistItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/PlaylistItem.react.js\n **/","var React = require('react-external');\n\nvar ScreenActions = require('../../actions/ScreenActions');\nvar ModalActions = Panneau.Actions.Modal;\nvar Requests = require('../../requests/index');\n\nvar PlaylistItemAdd = React.createClass({\n    \n    propTypes: {\n        bubblesSelectChannelsParams: React.PropTypes.object,\n        currentItems: React.PropTypes.array\n    },\n    \n    getDefaultProps: function() {\n        return {\n            bubblesSelectChannelsParams: null,\n            currentItems: null\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            bubblesToAdd: null,\n            filtersToAdd: null\n        };\n    },\n\n    render: function()\n    {\n        return (\n            <div className=\"list-item list-item-add\">\n                <a href=\"#\" className=\"thumbnail\" onClick={this.onClick}>\n                    <span className=\"glyphicon glyphicon-plus\"></span>\n                    <strong>\n                        Ajouter des diapositives\n                    </strong>\n                </a>\n            </div>\n        );\n\n    },\n    \n    onClick: function(e)\n    {\n        e.preventDefault();\n        \n        this.setState({\n            filtersToAdd: null,\n            bubblesToAdd: null\n        }, function()\n        {\n            Panneau.dispatch(ModalActions.openModal('BubblesSelect', {\n                channelsParams: this.props.bubblesSelectChannelsParams,\n                onComplete: _.bind(this.onBubblesModalComplete, this)\n            }));\n        });\n        \n        \n    },\n    \n    onBubblesModalComplete: function(result)\n    {\n        Panneau.dispatch(ModalActions.closeModal('BubblesSelect'));\n        \n        var bubbles = _.get(result, 'bubbles', null);\n        var filters = _.get(result, 'filters', null);\n        \n        var playlist_id = _.get(this.props, 'playlist.id');\n        if(filters)\n        {\n            Requests.Playlists.addFilters(playlist_id, filters)\n                .then(_.bind(this.onItemAdded, this));\n        }\n        else\n        {\n            Requests.Playlists.addBubbles(playlist_id, bubbles)\n                .then(_.bind(this.onItemAdded, this));\n        }\n        \n        /*this.setState({\n            filtersToAdd: filters,\n            bubblesToAdd: bubbles\n        }, function()\n        {\n            \n            Panneau.dispatch(ModalActions.openModal('Conditions', {\n                bubbles: bubbles,\n                filters: filters,\n                onComplete: _.bind(this.onConditionModalComplete, this)\n            }));\n        });*/\n    },\n    \n    onConditionModalComplete: function(condition)\n    {\n        var playlist_id = _.get(this.props, 'playlist.id');\n        if(this.state.bubblesToAdd)\n        {\n            Requests.Playlists.addBubblesWithCondition(playlist_id, this.state.bubblesToAdd, condition)\n                .then(_.bind(this.onItemAdded, this));\n        }\n        else if(this.state.filtersToAdd)\n        {\n            Requests.Playlists.addFiltersWithCondition(playlist_id, this.state.filtersToAdd, condition)\n                .then(_.bind(this.onItemAdded, this));\n        }\n    },\n    \n    onItemAdded: function(items)\n    {\n        Panneau.dispatch(ModalActions.closeModal('Conditions'));\n        \n        items = !_.isArray(items) ? [items]:items;\n        this.setState({\n            filtersToAdd: null,\n            bubblesToAdd: null\n        }, function()\n        {\n            this.props.onAdd(items);\n        });\n    }\n    \n});\n\nmodule.exports = PlaylistItemAdd;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/PlaylistItemAdd.react.js\n **/","var React = require('react-external');\nvar ReactDOM = require('react-dom-external');\n\nvar TimeField = Panneau.Components.Fields.Time;\n\nvar Timeline = React.createClass({\n    \n    propTypes: {\n        screen_id: React.PropTypes.number,\n        items: React.PropTypes.object\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            items: {}\n        };\n    },\n    \n    getInitialState: function()\n    {\n        var currentTime = (new Date()).getTime();\n        return {\n            time: currentTime,\n            currentTime: currentTime,\n            filter: 'now',\n            cyclesCount: 2,\n            open: false\n        };\n    },\n    \n    render: function()\n    {    \n        var timeline = this.renderTimeline();\n        \n        var pickerStyle = {};\n        if(this.state.filter !== 'time')\n        {\n            pickerStyle.display = 'none';\n        }\n        \n        var date = new Date(this.state.time);\n        var hours = date.getHours();\n        var minutes = date.getMinutes();\n        \n        var time = [];\n        time.push(hours < 10 ? ('0'+hours):hours);\n        time.push(minutes < 10 ? ('0'+minutes):minutes);\n        \n        var timeValue = time.join(':');\n        \n        var toggleIconClassName = 'glyphicon glyphicon glyphicon-menu-'+(this.state.open ? 'down':'up');\n        var timelineClassName = 'container-timeline timeline-slider';\n        if(this.state.open)\n        {\n            timelineClassName += ' timeline-open';\n        }\n        \n        return (\n            <div className={timelineClassName}>\n                        \n                <div className=\"timeline-header\">\n                    <button type=\"button\" className=\"btn btn-toggle\" onClick={this.onToggleClick}>\n                        <span className={toggleIconClassName}></span>\n                    </button>\n                    \n                    <label className=\"timeline-label\" htmlFor=\"\" onClick={this.onToggleClick}>Aperçu du diaporama</label>\n                    <select className=\"form-control timeline-selector\" name=\"role\" value={this.state.filter} onChange={this.onFilterChange}>\n                        <option value=\"now\">maintenant</option>\n                        <option value=\"time\">À une certaine heure</option>\n                    </select>\n                    <div className=\"timeline-picker\" style={pickerStyle}>\n                        <TimeField value={timeValue} onChange={this.onTimeChange} />\n                    </div>\n                </div>\n                \n                <ul className=\"list-group list-group-timeline\">\n                    { timeline }\n                </ul>\n                \n            </div>\n        );\n    },\n    \n    renderTimeline: function()\n    {\n        var cycles = _.get(this.props, 'items.cycles', []);\n        if(!cycles || !cycles.length)\n        {\n            return (\n                <li className=\"list-group-item list-group-item-empty\">\n                    <div className=\"middle\">Aucun contenu pour le moment.</div>\n                </li>\n            );\n        }\n        \n        var items = [];\n        \n        var currentTime = this.state.time;\n        var currentCycle, cycleDuration;\n        var index = 0;\n        for(var i = 0; i < this.state.cyclesCount; i++)\n        {\n            if(i > 0)\n            {\n                items.push(this.renderSeparator(index));\n            }\n            \n            currentCycle = this.getCurrentCycle(currentTime);\n            cycleDuration = this.getCycleDuration(currentCycle);\n            \n            var cycleStartTime = (currentCycle.start*1000);\n            var delta = currentTime - cycleStartTime;\n            var position = delta % cycleDuration;\n            var cyclesCount = Math.floor(delta / cycleDuration);\n            var currentItem = this.getItemAtPosition(currentCycle, position);\n            \n            var itemCurrentTime = cycleStartTime + (cyclesCount * cycleDuration);\n            for(var ii = 0, il = currentCycle.items.length; ii < il; ii++)\n            {\n                var it = currentCycle.items[ii];\n                items.push(this.renderItem(it, itemCurrentTime, it.id === currentItem.id, index));\n                itemCurrentTime += (it.duration * 1000);\n                index++;\n            }\n            \n            currentTime += cycleDuration;\n        }\n        \n        return items;\n    },\n    \n    renderItem: function(it, time, current, index)\n    {\n        var endTime = time + (it.duration*1000);\n        var date = new Date(time);\n        var hours = date.getHours();\n        var minutes = date.getMinutes();\n        var seconds = date.getSeconds();\n        var timeLabel = [];\n        timeLabel.push(hours < 10 ? ('0'+hours):hours);\n        timeLabel.push(minutes < 10 ? ('0'+minutes):minutes);\n        timeLabel.push(seconds < 10 ? ('0'+seconds):seconds);\n        timeLabel = timeLabel.join(':')\n        \n        var key = 'item_'+index;\n        var bubbles = _.get(this.props, 'items.bubbles', []);\n        var bubble = _.find(bubbles, function(bubble)\n        {\n            return bubble.id+'' === it.bubble_id+'';\n        })\n        var pictureLink = _.get(bubble || {}, 'snippet.picture.link');\n        var thumbnailStyle = {\n            'backgroundImage': 'url('+pictureLink+')',\n            'backgroundSize': 'cover'\n        };\n        \n        var itemClassName = 'list-group-item';\n        if(this.state.currentTime >= time && this.state.currentTime < endTime)\n        {\n            itemClassName += ' list-group-item-current';\n            timeLabel = 'Maintenant';\n        }\n        \n        return (\n            <li key={key} className={itemClassName}>\n                <div className=\"timeline-thumbnail\" style={thumbnailStyle}></div>\n                <span>{ timeLabel }</span>\n            </li>\n        );\n    },\n    \n    renderSeparator: function(index)\n    {\n        var key = 'sep_'+index;\n        return (\n            <li key={key} className=\"list-group-item list-group-item-separator\">\n                <div className=\"border-timeline\">\n                    <div className=\"list-group-item-separator-border\"></div>\n                    <div className=\"glyphicon glyphicon-retweet list-group-item-separator-icon\"></div>\n                    <div className=\"list-group-item-separator-border\"></div>\n                </div>\n            </li>\n        );\n    },\n    \n    componentDidMount: function()\n    {\n        _.bindAll(this, 'onClockInterval', 'onResize');\n        this.clockInterval = setInterval(this.onClockInterval, 500);\n        \n        $(window).on('resize', this.onResize);\n        \n        this.onResize();\n    },\n    \n    componentWillUnmount: function()\n    {\n        $(window).off('resize', this.onResize);\n        \n        if(this.clockInterval)\n        {\n            clearInterval(this.clockInterval);\n        }\n    },\n    \n    onResize: function()\n    {\n        var $el = $(ReactDOM.findDOMNode(this));\n        var width = $el.outerWidth();\n        var cycleWidth = 0;\n        var $items = $el.find('.list-group-item');\n        for(var i = 0, il = $items.length; i < il; i++)\n        {\n            cycleWidth += $items.eq(i).outerWidth();\n            if($items.eq(i).is('.list-group-item-separator'))\n            {\n                break;\n            }\n        }\n        \n        var cyclesCount = Math.max(Math.ceil(width/cycleWidth), 1) + 1;\n        this.setState({\n            cyclesCount: cyclesCount\n        });\n    },\n    \n    onToggleClick: function()\n    {\n        this.setState({\n            open: !this.state.open\n        });\n    },\n    \n    onFilterChange: function(e)\n    {\n        this.setState({\n            filter: e.target.value,\n            time: e.target.value === 'now' ? this.state.currentTime:this.state.time,\n            open: true\n        });\n    },\n    \n    onTimeChange: function(value)\n    {\n        var timeParts = value.split(':');\n        var date = new Date();\n        date.setHours(parseInt(timeParts[0]));\n        date.setMinutes(parseInt(timeParts[1]));\n        date.setSeconds(0);\n        \n        this.setState({\n            time: date.getTime()\n        });\n    },\n    \n    onClockInterval: function()\n    {\n        var newState = {\n            currentTime: (new Date()).getTime()\n        };\n        \n        if(this.state.filter === 'now')\n        {\n            newState.time = newState.currentTime;\n        }\n        \n        this.setState(newState);\n    },\n    \n    getCurrentCycle: function(time)\n    {\n        //Find current cycle\n        var currentCycle = null;\n        var cycles = _.get(this.props, 'items.cycles');\n        for(var i = 0, cl = cycles.length; i < cl; i++)\n        {\n            var cycle = cycles[i];\n            var startTime = (new Date(cycle.start * 1000)).getTime();\n            var endTime = (new Date(cycle.end * 1000)).getTime();\n            \n            if(time >= startTime && time < endTime)\n            {\n                currentCycle = cycle;\n                break;\n            }\n        }\n        \n        return currentCycle;\n    },\n    \n    getCycleDuration: function(cycle)\n    {\n        var duration = 0;\n        for(var i = 0, il = cycle.items.length; i < il; i++)\n        {\n            var it = cycle.items[i];\n            duration += (it.duration * 1000);\n        }\n        \n        return duration;\n    },\n    \n    getItemAtPosition: function(cycle, position)\n    {\n        //Find the item covering this position\n        var currentPosition = 0;\n        var currentItem = cycle.items[0];\n        for(var i = 0, il = cycle.items.length; i < il; i++)\n        {\n            var it = cycle.items[i];\n            currentPosition += it.duration;\n            if(currentPosition > position)\n            {\n                break;\n            }\n            currentItem = it;\n        }\n        \n        return currentItem;\n    }\n    \n});\n\nmodule.exports = Timeline;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/lists/Timeline.react.js\n **/","module.exports = {\n    'Organisation': require('./Organisation.react'),\n    'Channel': require('./Channel.react'),\n    'Screen': require('./Screen.react'),\n    'ScreenAdd': require('./ScreenAdd.react'),\n    'Team': require('./Team.react'),\n    'TeamAdd': require('./TeamAdd.react'),\n    'PlaylistBubble': require('./PlaylistBubble.react'),\n    'Bubble': require('./Bubble'),\n    'BubbleAdd': require('./BubbleAdd.react'),\n    'PlaylistItem': require('./PlaylistItem.react'),\n    'PlaylistItemAdd': require('./PlaylistItemAdd.react')\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/index.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\n\nvar PlaylistBubbleItem = React.createClass({\n    \n    getDefaultProps: function() {\n        return {\n            \n        };\n    },\n\n    render: function()\n    {    \n        var name = _.get(this.props, 'data.name');\n        var link = _.get(this.props, 'data.link');\n        \n        return (\n            <div className=\"list-item\">\n                <div className=\"col-sm-1\">\n                    <button className=\"btn btn-default glyphicon glyphicon-menu-hamburger\" type=\"button\" name=\"button\"></button>\n                </div>\n                <div className=\"col-sm-6\">\n                    <div className=\"table-thumbnail\"></div>\n                    <div className=\"table-description\">\n                        <h3>Événement choisi automatiquement</h3>\n                        <span className=\"table-type\">Événements</span>\n                        <a className=\"table-link\" href=\"#\">Modiﬁer</a>\n                    </div>\n                </div>\n                <div className=\"col-sm-4\">\n                    <span>Afﬁcher en tout temps</span>\n                    <a className=\"table-link\" href=\"#\">Modiﬁer</a>\n                </div>\n                <div className=\"col-sm-1\">\n                    <button className=\"btn btn-default glyphicon glyphicon-remove\" type=\"button\" name=\"button\"></button>\n                </div>\n            </div>\n        );\n\n    }\n\n});\n\nmodule.exports = PlaylistBubbleItem;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/items/PlaylistBubble.react.js\n **/","module.exports = {\n    'ScreenLink': require('./ScreenLink.react'),\n    'BubblesSelect': require('./BubblesSelect.react'),\n    'ChannelAdd': require('./ChannelAdd.react'),\n    'ChannelSettings': require('./ChannelSettings.react'),\n    'Conditions': require('./Conditions.react'),\n    \n    'BubbleForm': require('./BubbleFormModal'),\n    \n    'TeamInvite': require('./TeamInvite.react'),\n    'TeamEdit': require('./TeamEdit.react')\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/index.js\n **/","var React = require('react-external');\nvar Immutable = require('immutable-external');\nvar _ = require('lodash-external');\nvar $ = require('jquery-external');\n\nvar FormActions = Panneau.Actions.Form;\nvar ModalActions = Panneau.Actions.Modal;\nvar Requests = require('../../requests/index');\nvar ScreenActions = require('../../actions/ScreenActions');\nvar Popover = Panneau.Components.Modals.Popover;\n\nvar SubFormMixins = require('../../mixins/SubForm.react');\n\nvar ScreenLinkModal = React.createClass({\n    \n    mixins: [SubFormMixins],\n    \n    getDefaultProps: function()\n    {\n        return {\n            visible: false,\n            element: null,\n            formName: 'organisation.screens.link'\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            formData: null,\n            formErrors: null\n        };\n    },\n\n    render: function()\n    {\n        var other = _.omit(this.props, ['onClose', 'authCode']);\n        var title = 'Lier un écran';\n        \n        //Form\n        var formProps = Panneau.Schema.Form[this.props.formName];\n        formProps.name = this.props.formName;\n        formProps.onSubmit = this.onSubmit;\n        var formContainer = this.renderForm(formProps);\n        \n        return (\n            <Popover {...other} title={title} onClose={this.onClose}>\n                <p>Assurez-vous que l’écran soit allumé et connecté à internet.</p>\n                { formContainer }\n                <p>Ce code de 4 chiffres apparaît à l’écran lors de sa première mise en marche.</p>\n            </Popover>\n        );\n\n    },\n    \n    \n    componentDidMount: function()\n    {\n        _.bindAll(this, 'onScreenLinked', 'onScreenLinkError');\n    },\n    \n    onClose: function()\n    {\n        if(this.props.onClose)\n        {\n            this.props.onClose();\n        }\n    },\n    \n    onSubmit: function(e)\n    {\n        e.preventDefault();\n        \n        var authCode = this.state.formData ? this.state.formData.get('auth_code'):null;\n        Requests.Organisations.linkScreen(authCode)\n                .then(this.onScreenLinked, this.onScreenLinkError);\n    },\n    \n    onScreenLinked: function(screen)\n    {\n        this.props.closeModal();\n        \n        if(this.props.onComplete)\n        {\n            this.props.onComplete(screen);\n        }\n    },\n    \n    onScreenLinkError: function(errors)\n    {\n        this.updateFormErrors(errors);\n    }\n\n});\n\nmodule.exports = ScreenLinkModal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/ScreenLink.react.js\n **/","var Immutable = require('immutable-external');\nvar _ = require('lodash-external');\n\nvar FormComponent = Panneau.Components.Form.Component;\n\nvar SubForm = {\n\n    renderForm: function(props)\n    {\n        props.data = this.state.formData ? this.state.formData.toJS():null;\n        props.errors = this.state.formErrors ? this.state.formErrors.toJS():null;\n        props.token = document.querySelector('meta[name=csrf-token]').getAttribute('content');\n        \n        return (\n            <FormComponent {...props} onSubmit={this.onSubmit} onFieldChange={this.onFormFieldChange} />\n        );\n    },\n    \n\n    updateFormErrors: function(errors)\n    {\n        var formName = this.props.formName;\n        var errorsByField = {};\n        _.each(errors, function(error)\n        {\n            if(error.message === 'validation')\n            {\n                errorsByField = _.merge(errorsByField, error.validation);\n            }\n            else\n            {\n                var matches = error.message.match(/\\$([a-z][a-z0-9\\[\\]_-]+)/);\n                if(matches)\n                {\n                    var message = \n                        error.message.match(/^\\$[a-z][^\\s]+\\:?\\s*/) ?\n                        error.message.replace(/^\\$[a-z][^\\s]+\\:?\\s*/, ''):\n                        '';\n                    _.set(errorsByField, matches[1], [message]);\n                }\n            }\n        });\n        \n        var newErrors = Immutable.fromJS(errorsByField);\n        \n        this.setState({\n            formErrors: newErrors\n        });\n    },\n    \n    onFormFieldChange: function(name, value)\n    {\n        var data = this.state.formData;\n        if(!data)\n        {\n            data = Immutable.fromJS({});\n        }\n        var newData = data.set(name, value);\n        \n        this.setState({\n            formData: newData\n        });\n    }\n    \n};\n\n\nmodule.exports = SubForm;\n\n\n\n/** WEBPACK FOOTER **\n ** ./mixins/SubForm.react.js\n **/","var React = require('react-external');\nvar ReactDOM = require('react-dom-external');\nvar Relay = Panneau.Relay;\n\nvar $ = require('jquery-external');\n\nvar ModalMixins = Panneau.Mixins.Modal;\nvar Modal = Panneau.Components.Modals.Modal;\nvar BubblesList = require('../lists/Bubbles.react');\nvar BubblesSelector = require('../BubblesSelector.react');\n\nvar BubblesSelectModal = React.createClass({\n    \n    propTypes: {\n        visible: React.PropTypes.bool,\n        channelsParams: React.PropTypes.object\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            visible: false,\n            channelsParams: null\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            selectedBubbles: [],\n            filters: [],\n            channel: null\n        };\n    },\n\n    render: function()\n    {\n        \n        var addSelectedButton = null;\n        var bubblesCount = this.state.selectedBubbles.length;\n        if(!bubblesCount)\n        {\n            addSelectedButton= (\n                <button type=\"button\" className=\"btn btn-default\" disabled=\"disabled\">\n                    Sélectionnez des diapositives...\n                </button>\n            );\n        }\n        else\n        {\n            var label = bubblesCount === 1 ? 'Ajouter 1 diapositive':'Ajouter les '+bubblesCount+' diapositives';\n            addSelectedButton= (\n                <button type=\"button\" className=\"btn btn-default\" onClick={this.onAddSelectedClick}>\n                    { label }\n                </button>\n            );\n        }\n        \n        var addFilterButtonProps = {\n            type: 'button',\n            className: 'btn btn-default',\n            onClick: this.onAddFilterClick\n        };\n        if(!_.get(this.state, 'filters.0.value'))\n        {\n            addFilterButtonProps.disabled = 'disabled';\n        }\n        var addFilterButton = (\n            <button {...addFilterButtonProps}  >\n                Ajouter en tant que règle\n            </button>\n        );\n        \n        \n        return (\n            <Modal closeModal={this.props.closeModal} visible={this.props.visible} onClose={this.onClose} onOpen={this.onOpen}>\n                <div className=\"modal-header\">\n                    <button type=\"button\" className=\"close\" onClick={this.onClickClose} aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                    <h4 className=\"modal-title\">Ajouter une diapositive</h4>\n                </div>\n                <div className=\"modal-body\">\n                    <BubblesSelector \n                        channelsParams={this.props.channelsParams} \n                        filters={this.state.filters} \n                        checkedBubbles={this.state.selectedBubbles} \n                        onChannelLoaded={this.onLoaded}\n                        onBubblesLoaded={this.onLoaded}\n                        onChange={this.onBubblesChange} \n                        onClickAdd={this.onBubbleClickAdd}\n                        onChannelChange={this.onChannelChange}\n                        onFiltersChange={this.onFiltersChange}\n                    />\n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-default\" onClick={this.onClickClose}>\n                        Annuler\n                    </button>\n                    { addSelectedButton }\n                    { addFilterButton }\n                </div>\n            </Modal>\n        );\n\n    },\n    \n    componentDidMount: function()\n    {\n        _.bindAll(this, 'onResize');\n        $(window).on('resize', this.onResize);\n        this.onResize();\n    },\n    \n    componentWillUnmount: function()\n    {\n        $(window).off('resize', this.onResize);\n    },\n    \n    componentDidUpdate: function()\n    {\n        this.resizeList();\n    },\n    \n    resizeList: function()\n    {\n        var $el = $(ReactDOM.findDOMNode(this));\n        \n        var $header = $el.find('.modal-header');\n        var $footer = $el.find('.modal-footer');\n        var $children = $el.find('.bubbles-channel > div');\n        var $list = $el.find('.list-bubbles');\n        var windowHeight = $(window).height();\n        var listHeight = windowHeight - $header.outerHeight() - $footer.outerHeight() - 100;\n        $children.each(function()\n        {\n            if(!$(this).is('.list-bubbles') && !$(this).is('.loading-block'))\n            {\n                listHeight -= $(this).outerHeight();\n            }\n        })\n        \n        $list.css({\n            'height': listHeight+'px'\n        });\n    },\n    \n    onResize: function()\n    {\n        this.resizeList();\n    },\n    \n    onLoaded: function(bubbles)\n    {\n        this.resizeList();\n    },\n    \n    onChannelChange: function(channel)\n    {\n        this.setState({\n            channel: channel\n        });\n    },\n    \n    onFiltersChange: function(filters)\n    {    \n        this.resizeList();\n        \n        this.setState({\n            filters: filters\n        });\n    },\n    \n    onBubblesChange: function(bubbles)\n    {\n        this.resizeList();\n        \n        this.setState({\n            selectedBubbles: bubbles\n        });\n    },\n    \n    onBubbleClickAdd: function(bubble)\n    {\n        this.setState({\n            selectedBubbles: [bubble]\n        }, function()\n        {\n            this.onCompleteWithBubbles(this.state.selectedBubbles);\n        });\n    },\n    \n    onAddSelectedClick: function()\n    {\n        this.onCompleteWithBubbles(this.state.selectedBubbles);\n    },\n    \n    onAddFilterClick: function()\n    {\n        var filters = [];\n        filters.push({\n            name: 'channel_id',\n            value: this.state.channel.id\n        });\n        _.each(this.state.filters, function(filter)\n        {\n            filters.push(filter);\n        });\n        \n        this.onCompleteWithFilters(filters);\n    },\n    \n    onCompleteWithBubbles: function(bubbles)\n    {\n        this.props.onComplete({\n            bubbles: bubbles\n        });\n    },\n    \n    onCompleteWithFilters: function(filters)\n    {\n        this.props.onComplete({\n            filters: filters\n        });\n    },\n    \n    onClickClose: function()\n    {\n        if(this.props.closeModal)\n        {\n            this.props.closeModal();\n        }\n        else\n        {\n            this.close();\n        }\n    },\n    \n    onOpen: function()\n    {\n        this.resizeList();\n        \n        if(this.props.onOpen)\n        {\n            this.props.onOpen();\n        }\n    },\n    \n    onClose: function()\n    {\n        this.setState({\n            selectedBubbles: [],\n            filters: [],\n            channel: null\n        }, function()\n        {\n            if(this.props.onClose)\n            {\n                this.props.onClose();\n            }\n        });\n    }\n\n});\n\nmodule.exports = BubblesSelectModal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/BubblesSelect.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar $ = require('jquery-external');\nvar Immutable = require('immutable-external');\n\nvar Requests = require('../requests/index');\n\nvar BubblesChannelList = require('./lists/BubblesChannel.react');\nvar Form = Panneau.Components.Form.Component;\nvar Paginator = Panneau.Components.Paginator;\n\nvar BubblesSelector = React.createClass({\n    \n    propTypes: {\n        channelsParams: React.PropTypes.object,\n        channels: React.PropTypes.array,\n        bubbles: React.PropTypes.array,\n        checkedBubbles: React.PropTypes.array,\n        onChange: React.PropTypes.func,\n        onChannelChange: React.PropTypes.func,\n        onFiltersChange: React.PropTypes.func,\n        onClickAdd: React.PropTypes.func,\n        onChannelsLoaded: React.PropTypes.func,\n        onBubblesLoaded: React.PropTypes.func\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            channelsParams: null,\n            channels: null,\n            bubbles: null,\n            checkedBubbles: null\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            channels: this.props.channels,\n            channel: this.props.channels && this.props.channels.length ? this.props.channels[0]:null,\n            \n            loadingChannels: false\n        };\n    },\n\n    render: function()\n    {\n        if(!this.state.channels || !this.state.channel)\n        {\n            var loading = this.renderLoading();\n            return (\n                <div className=\"bubbles-selector\">\n                    { loading }\n                </div>\n            );\n        }\n        \n        //Channels menu\n        var channelsMenu = null;\n        if(this.state.channels)\n        {\n            channelsMenu = this.renderChannels(this.state.channels);\n        }\n        \n        //Bubbles list\n        var bubblesList = (\n            <BubblesChannelList \n                layout=\"add\" \n                paginatorBottom={false}\n                channel={this.state.channel}\n                checkedBubbles={this.props.checkedBubbles}\n                onLoaded={this.onBubblesLoaded}\n                onChange={this.onBubblesChange}\n                onClickAdd={this.onBubblesClickAdd}\n                onFiltersChange={this.onBubblesFiltersChange}\n            />\n        );\n        \n        var channelLoading = null;\n        if(this.state.loadingChannels || !this.state.channels)\n        {\n            channelLoading = this.renderLoading();\n        }\n\n        return (\n            <div className=\"bubbles-selector\">\n                <div className=\"row\">\n                    <div className=\"col-sm-3 col-channels\">\n                        { channelLoading }\n                        { channelsMenu }\n                    </div>\n                    <div className=\"col-sm-9 col-bubbles\">\n                        { bubblesList }\n                    </div>\n                </div>\n            </div>\n        );\n\n    },\n    \n    renderLoading: function()\n    {\n        return (\n            <div className=\"loading-block\">\n                <div className=\"table\">\n                    <div className=\"middle\">Chargement...</div>\n                </div>\n                <div className=\"block\"></div>\n            </div>\n        );\n    },\n    \n    renderChannels: function(channels)\n    {\n        return (\n            <ul className=\"nav nav-pills nav-stacked\">\n                { channels.map(_.bind(this.renderChannel, this)) }\n            </ul>\n        );\n    },\n    \n    renderChannel: function(channel)\n    {\n        var onClick = _.bind(function() {\n            this.onChannelClick(channel);\n        }, this);\n        \n        var key = 'channel_'+channel.id;\n        \n        var className = '';\n        if(this.state.channel && this.state.channel.id === channel.id)\n        {\n            className += ' active';\n        }\n        \n        var title = _.get(channel, 'snippet.title');\n        \n        return (\n            <li key={key} role=\"presentation\" className={ className }>\n                <a href=\"#\" onClick={ onClick }>{ title }</a>\n            </li>\n        );\n    },\n    \n    componentWillReceiveProps: function(nextProps)\n    {\n        if(nextProps.checkedBubbles && this.state.checkedBubbles !== nextProps.checkedBubbles)\n        {\n            this.setState({\n                checkedBubbles: nextProps.checkedBubbles\n            });\n        }\n    },\n    \n    componentDidMount: function()\n    {\n        _.bindAll(this, 'onChannelsLoaded', 'onBubblesLoaded');\n    \n        if(!this.state.channels)\n        {\n            this.loadChannels();\n        }\n    },\n    \n    componentDidUpdate: function(prevProps, prevState)\n    {\n        var channelId = _.get(this.state, 'channel.id', null)+'';\n        var prevChannelId = _.get(prevState, 'channel.id', null)+'';\n        if(channelId !== prevChannelId && this.props.onChannelChange)\n        {\n            this.props.onChannelChange(this.state.channel);\n        }\n    },\n    \n    loadChannels: function()\n    {\n        this.setState({\n            channels: null,\n            loadingChannels: true\n        }, function()\n        {\n            Requests.Channels.load(this.props.channelsParams)\n                .then(this.onChannelsLoaded);\n        });\n    },\n    \n    onChannelsLoaded: function(channels)\n    {\n        this.setState({\n            channels: channels,\n            channel: channels && channels.length ? channels[0]:null,\n            loadingChannels: false\n        });\n        \n        if(this.props.onChannelsLoaded)\n        {\n            this.props.onChannelsLoaded(channels);\n        }\n    },\n    \n    onChannelClick: function(channel)\n    {\n        this.setState({\n            channel: channel,\n            bubbles: null\n        });\n    },\n    \n    onBubblesClickAdd: function(bubble)\n    {\n        if(this.props.onClickAdd)\n        {\n            this.props.onClickAdd(bubble);\n        }\n    },\n    \n    onBubblesLoaded: function(bubbles)\n    {\n        if(this.props.onBubblesLoaded)\n        {\n            this.props.onBubblesLoaded(bubbles);\n        }\n    },\n    \n    onBubblesChange: function(bubbles)\n    {\n        if(this.props.onChange)\n        {\n            this.props.onChange(bubbles);\n        }\n    },\n    \n    onBubblesFiltersChange: function(filters)\n    {\n        if(this.props.onFiltersChange)\n        {\n            this.props.onFiltersChange(filters);\n        }\n    }\n\n});\n\nmodule.exports = BubblesSelector;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/BubblesSelector.react.js\n **/","var React = require('react-external');\n\nvar $ = require('jquery-external');\n\nvar FormActions = Panneau.Actions.Form;\nvar Modal = Panneau.Components.Modals.Modal;\nvar ChannelActions = require('../../actions/ChannelActions');\n\nvar Requests = require('../../requests/index');\n\nvar ChannelAddModal = React.createClass({\n    \n    getDefaultProps: function()\n    {\n        return {\n            visible: false,\n            channels: null,\n            channelsAdded: []\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            channels: this.props.channels,\n            channelsAdded: this.props.channelsAdded\n        };\n    },\n\n    render: function()\n    {\n        var channels = null;\n        if(this.state.channels)\n        {\n            channels = this.renderChannels(this.state.channels);\n        }\n        \n        return (\n            <Modal closeModal={this.props.closeModal} visible={this.props.visible} onClose={this.onClose}>\n                <div className=\"modal-header\">\n                    <button type=\"button\" className=\"close\" onClick={this.onClickClose} aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                    <h4 className=\"modal-title\">Ajouter une chaîne</h4>\n                </div>\n                <div className=\"modal-body\">\n                    \n                    <div className=\"row\">\n\n                        <div className=\"col-sm-3\">\n                            <ul className=\"nav nav-pills nav-stacked\">\n                                <li role=\"presentation\" className=\"active\"><a href=\"#\">Culture</a></li>\n                            </ul>    \n                        </div>\n                        <div className=\"col-sm-9\">\n                            \n                            <div className=\"list list-add-channel\">\n                                <div className=\"list-items\">\n                                    <div className=\"list-item\">\n                                        <h3>Culture</h3>\n                                        \n                                        <div className=\"list list-thumbnails\">\n                                            { channels }\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                        </div>\n                        \n                    </div>\n                    \n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-default\" onClick={this.onClickClose}>Fermer</button>\n                </div>\n            </Modal>\n        );\n\n    },\n    \n    renderChannels: function(channels)\n    {\n        return channels.map(_.bind(this.renderChannel, this));\n    },\n    \n    renderChannel: function(channel)\n    {\n        var added = _.find(this.state.channelsAdded, function(channelAdded)\n        {\n            return ''+channelAdded.id === ''+channel.id;\n        }) ? true:false;\n        var btnLabel = added ? 'Enlever':'Ajouter';\n        var btnIcon = 'glyphicon '+(added ? 'glyphicon-remove':'glyphicon-plus');\n        \n        var onClick = _.bind(function()\n        {\n            if(added)\n            {\n                this.onRemove(channel);\n            }\n            else\n            {\n                this.onAdd(channel);\n            }\n        }, this);\n        \n        var key = 'channel_'+channel.id;\n        \n        var title = _.get(channel, 'snippet.title');\n        var description = _.get(channel, 'snippet.description');\n        var picture = _.get(channel, 'snippet.picture.link');\n        var imageStyle = {\n            backgroundImage: picture ? ('url('+picture+')'):'none'\n        };\n        \n        var descriptionParagraph = null;\n        if(description && description.length)\n        {\n            descriptionParagraph = (\n                <p>{ description }</p>\n            );\n        }\n        \n        return (\n            <div key={key} className=\"list-item list-item-col-4\">\n                <div className=\"thumbnail\">\n                    <div className=\"image\" style={imageStyle}></div>\n                </div>\n                <div className=\"detail\">\n                    <h4>{ title }</h4>\n                    { descriptionParagraph }\n                    \n                    <button className=\"btn btn-default btn-sm\" onClick={onClick}>\n                        <span className={btnIcon}></span> { btnLabel }\n                    </button>\n                </div>\n            </div>\n        );\n    },\n    \n    componentWillMount: function()\n    {\n        if(!this.state.channels)\n        {\n            Requests.Channels.load()\n                .then(_.bind(this.onChannelsLoaded, this));\n        }\n    },\n    \n    onChannelsLoaded: function(channels)\n    {\n        this.setState({\n            channels: channels,\n            channel: channels && channels.length ? channels[0]:null\n        });\n    },\n    \n    onClickClose: function()\n    {\n        if(this.props.closeModal)\n        {\n            this.props.closeModal();\n        }\n        else\n        {\n            this.close();\n        }\n    },\n    \n    onAdd: function(channel)\n    {\n        var currentChannels = Immutable.fromJS(this.state.channelsAdded);\n        var newChannels = currentChannels.push(channel);\n        \n        if(currentChannels !== newChannels)\n        {\n            this.setState(\n            {\n                channelsAdded: newChannels.toJS()\n            });\n        }\n        \n        if(this.props.onAdd)\n        {\n            this.props.onAdd(channel);\n        }\n    },\n    \n    onRemove: function(channel)\n    {\n        var index = _.findIndex(this.state.channelsAdded, function(channelAdded)\n        {\n            return channelAdded.id+'' === channel.id+'';\n        });\n        if(index >= 0)\n        {\n            var currentChannels = Immutable.fromJS(this.state.channelsAdded);\n            var newChannels = currentChannels.delete(index);\n            \n            if(currentChannels !== newChannels)\n            {\n                this.setState(\n                {\n                    channelsAdded: newChannels.toJS()\n                });\n            }\n        }\n        \n        \n        if(this.props.onRemove)\n        {\n            this.props.onRemove(channel);\n        }\n    },\n    \n    onClose: function()\n    {\n        if(this.props.onClose)\n        {\n            this.props.onClose();\n        }\n    }\n\n});\n\nmodule.exports = ChannelAddModal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/ChannelAdd.react.js\n **/","var React = require('react-external');\nvar ReactDOM = require('react-dom-external');\nvar _ = require('lodash-external');\nvar $ = require('jquery-external');\n\nvar Modal = Panneau.Components.Modals.Modal;\nvar ModalActions = Panneau.Actions.Modal;\n\nvar Requests = require('../../requests/index');\nvar BubblesChannelFiltersList = require('../lists/BubblesChannelFilters.react');\n\nvar ChannelSettings = React.createClass({\n    \n    contextTypes: {\n        store: React.PropTypes.object\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            visible: false,\n            screen: null,\n            channel: null\n        };\n    },\n\n    render: function()\n    {\n        \n        var filters = _.get(this.props, 'channel.screen_settings.filters', null);\n        \n        var addButton;\n        var canAddBubbles = _.get(this.props, 'channel.fields.settings.canAddBubbles', false);\n        if(canAddBubbles)\n        {\n            addButton = (\n                <button type=\"button\" className=\"btn btn-primary pull-left\" onClick={this.onClickAdd}>\n                    <span className=\"glyphicon glyphicon-plus\"></span> Ajouter du contenu\n                </button>\n            );\n        }\n        \n        return (\n            <Modal closeModal={this.props.closeModal} visible={this.props.visible} onClose={this.onClose}>\n                <div className=\"modal-header\">\n                    <button type=\"button\" className=\"close\" onClick={this.onClickClose} aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                    <h4 className=\"modal-title\">Modifier une chaîne</h4>\n                </div>\n                <div className=\"modal-body\">\n                    <BubblesChannelFiltersList \n                        screen={this.props.screen} \n                        channel={this.props.channel} \n                        filters={filters} \n                        onBubblesLoaded={this.onBubblesLoaded} \n                        onFiltersChange={this.onFiltersChange} \n                        onChannelChange={this.onChannelChange} />\n                </div>\n                <div className=\"modal-footer\">\n                    { addButton }\n                    <button type=\"button\" className=\"btn btn-default\" onClick={this.onClickClose}>Fermer</button>\n                </div>\n            </Modal>\n        );\n\n    },\n    \n    resizeList: function()\n    {\n        var $el = $(ReactDOM.findDOMNode(this));\n        \n        var $header = $el.find('.modal-header');\n        var $footer = $el.find('.modal-footer');\n        var $children = $el.find('.bubbles-channel > div');\n        var $list = $el.find('.list-bubbles');\n        var windowHeight = $(window).height();\n        var listHeight = windowHeight - $header.outerHeight() - $footer.outerHeight() - 100;\n        $children.each(function()\n        {\n            if(!$(this).is('.list-bubbles') && !$(this).is('.loading-block'))\n            {\n                listHeight -= $(this).outerHeight();\n            }\n        })\n        \n        $list.css({\n            'height': listHeight+'px'\n        });\n    },\n    \n    componentDidMount: function()\n    {\n        _.bindAll(this, 'onResize');\n        $(window).on('resize', this.onResize);\n        this.onResize();\n    },\n    \n    componentWillUnmount: function()\n    {\n        $(window).off('resize', this.onResize);\n    },\n    \n    componentDidUpdate: function()\n    {\n        this.resizeList();\n    },\n    \n    onFiltersChange: function()\n    {\n        this.resizeList();\n    },\n    \n    onBubblesLoaded: function()\n    {\n        this.resizeList();\n    },\n    \n    onChannelChange: function(channel)\n    {\n        if(this.props.onChannelChange)\n        {\n            this.props.onChannelChange(channel);\n        }\n    },\n    \n    onResize: function()\n    {\n        this.resizeList();\n    },\n    \n    onOpen: function()\n    {\n        this.resizeList();\n        \n        if(this.props.onOpen)\n        {\n            this.props.onOpen();\n        }\n    },\n    \n    onClickAdd: function(e)\n    {\n        e.preventDefault();\n        \n        this.context.store.dispatch(ModalActions.closeModal());\n        \n        /*this.props.closeModal();\n        \n        this.context.store.dispatch(ModalActions.openModal('BubbleForm', {\n            onComplete: this.onAddModalComplete,\n            onClose: this.onAddModalClose\n        }));*/\n    },\n    \n    onClickClose: function()\n    {\n        if(this.props.closeModal)\n        {\n            this.props.closeModal();\n        }\n        else\n        {\n            this.close();\n        }\n    },\n    \n    onClose: function()\n    {\n        this.context.store.dispatch(ModalActions.openModal('BubbleForm', {\n            onComplete: this.onAddModalComplete,\n            onClose: this.onAddModalClose\n        }));\n        \n        if(this.props.onClose)\n        {\n            this.props.onClose();\n        }\n    },\n    \n    onAddModalComplete: function()\n    {\n        \n    },\n    \n    onAddModalClose: function()\n    {\n        \n    }\n\n});\n\nmodule.exports = ChannelSettings;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/ChannelSettings.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar $ = require('jquery-external');\nvar Immutable = require('immutable-external');\n\nvar FormActions = Panneau.Actions.Form;\nvar Modal = Panneau.Components.Modals.Modal;\nvar Form = Panneau.Components.Form.Component;\n\nvar Requests = require('../../requests/index');\n\nvar ConditionsModal = React.createClass({\n    \n    contextTypes: {\n        store: React.PropTypes.object\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            visible: false,\n            condition: null\n        };\n    },\n    \n    getInitialState: function()\n    {\n        var condition = _.get(this.props, 'condition.fields', {});\n        var filteredCondition = {};\n        _.each(condition, function(val, key)\n        {\n            if(val !== null)\n            {\n                filteredCondition[key] = val;\n            }\n        });\n        \n        return {\n            condition: filteredCondition\n        };\n    },\n\n    render: function()\n    {\n        var formFields = [\n            {\n                'name' : 'days',\n                'type' : 'condition_weekdays'\n            },\n            {\n                'name' : 'daterange',\n                'type' : 'condition_daterange'\n            },\n            {\n                'name' : 'date',\n                'type' : 'condition_date'\n            },\n            {\n                'name' : 'time',\n                'type' : 'condition_time'\n            }\n        ];\n        \n        var formData = this.state.condition || {};\n        \n        return (\n            <Modal closeModal={this.props.closeModal} visible={this.props.visible} onClose={this.onClose}>\n                <div className=\"modal-header\">\n                    <button type=\"button\" className=\"close\" onClick={this.onClickClose} aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                    <h4 className=\"modal-title\">Conditions d'affichage</h4>\n                </div>\n                <div className=\"modal-body\">\n                    <Form name=\"condition\" data={formData} fields={formFields} onFieldChange={this.onFormFieldChange} />\n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-default\" onClick={this.onClickClose}>Annuler</button>\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.onClickSave}>Enregistrer</button>\n                </div>\n            </Modal>\n        );\n\n    },\n    \n    onFormFieldChange: function(name, value)\n    {\n        var currentValue = Immutable.fromJS(this.state.condition || {});\n        \n        var newValue;\n        if(value === null)\n        {\n            newValue = currentValue.delete(name);\n        }\n        else\n        {\n            newValue = currentValue.set(name, value);\n        }\n        \n        if(currentValue !== newValue)\n        {\n            this.setState({\n                condition: newValue.toJS()\n            });\n        }\n    },\n    \n    onClickClose: function()\n    {\n        if(this.props.closeModal)\n        {\n            this.props.closeModal();\n        }\n        else\n        {\n            this.close();\n        }\n    },\n    \n    onClickSave: function()\n    {\n        var id = _.get(this.props, 'condition.id', null);\n        Requests.Playlists.saveCondition(this.state.condition, id)\n            .then(_.bind(this.onConditionsSaved, this))\n    },\n    \n    onClose: function()\n    {\n        if(this.props.onClose)\n        {\n            this.props.onClose();\n        }\n    },\n    \n    onConditionsSaved: function(it)\n    {\n        if(this.props.onComplete)\n        {\n            this.props.onComplete(it);\n        }\n    }\n\n});\n\nmodule.exports = ConditionsModal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/Conditions.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Immutable = require('immutable-external');\nvar request = require('superagent-external');\n\nvar URL = require('../../lib/url');\n\nvar FormModal = require('./FormModal');\n\nvar BubbleFormModal = React.createClass({\n\n    getDefaultProps: function()\n    {\n        return {\n            bubbleType: 'banq_service'\n        };\n    },\n\n    render: function()\n    {\n        var props = _.omit(this.props, ['bubbleType', 'title', 'formName', 'formMethod']);\n        var id = _.get(this.props, 'formData.id');\n        var bubbleType = _.get(this.props, 'formData.type', this.props.bubbleType).replace(/[^a-z0-9\\.]+/gi,'');\n        var title = id ? 'Modifier un contenu':'Ajouter un contenu';\n        var formName = 'bubble.'+bubbleType;\n        var formAction = id ? URL.route('organisation.bubbles.update', id):URL.route('organisation.bubbles.store');\n        var formMethod = id ? 'put':'post';\n        \n        return (\n            <FormModal\n                {...props}\n                title={title}\n                formName={formName}\n                formMethod={formMethod}\n                formAction={formAction}\n                />\n        );\n\n    }\n\n});\n\nmodule.exports = BubbleFormModal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/BubbleFormModal.jsx\n **/","var React = require('react-external');\nvar Panneau = require('panneau');\nvar $ = require('jquery-external');\nvar _ = require('lodash-external');\nvar Immutable = require('immutable-external');\nvar request = require('superagent-external');\n\nvar Modal = Panneau.Components.Modals.Modal;\nvar FormActions = Panneau.Actions.Form.Component;\n\nvar FormModal = React.createClass({\n    \n    contextTypes: {\n        store: React.PropTypes.object\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            visible: false,\n            element: null,\n            offsetX: 0,\n            offsetY: 0,\n            title: '',\n            formName: null,\n            formFields: [],\n            formAction: '',\n            formMethod: 'post',\n            formData: null,\n            formErrors: null\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            formData: this.props.formData || {},\n            formErrors: this.props.formErrors || {}\n        };\n    },\n\n    render: function()\n    {\n        var other = _.omit(this.props, ['onClose', 'onOpen']);\n        \n        var title = this.props.title;\n        \n        //Form\n        var formSchema = this.props.formName && Panneau.Schema.Form[this.props.formName] ? Panneau.Schema.Form[this.props.formName]:{};\n        var formProps = _.extend({\n            token: $('meta[name=csrf-token]').attr('content'),\n            fields: this.props.formFields,\n            method: this.props.formMethod,\n            action: this.props.formAction,\n            data: this.state.formData,\n            errors: this.state.formErrors\n        }, formSchema);\n        formProps.buttons = [];\n        \n        var FormComponent = Panneau.Components.Form.Component;\n        \n        return (\n            <Modal {...other} onClose={this.onClose}>\n                <div className=\"modal-header\">\n                    <button type=\"button\" className=\"close\" onClick={this.onClickClose} aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button>\n                    <h4 className=\"modal-title\">{ title }</h4>\n                </div>\n                <div className=\"modal-body\">\n                    <FormComponent {...formProps} onSubmit={this.onSubmit} onChange={this.onFormChange} />\n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"button\" className=\"btn btn-default\" onClick={this.onClickSave}>Enregistrer</button>\n                </div>\n            </Modal>\n        );\n\n    },\n    \n    onClickSave: function(e)\n    {\n        this.onSubmit(e);\n    },\n    \n    onClickClose: function(e)\n    {\n        e.preventDefault();\n        \n        this.props.closeModal(this.props.name);\n    },\n    \n    onClose: function()\n    {\n        if(this.props.onClose)\n        {\n            this.props.onClose();\n        }\n    },\n    \n    onSubmit: function(e)\n    {\n        e.preventDefault();\n        \n        var token = document.querySelector('meta[name=csrf-token]').getAttribute('content');\n        \n        var formMethod = this.props.formMethod.toUpperCase();\n        var methodName = formMethod.toLowerCase();\n        if(methodName !== 'get')\n        {\n            methodName = 'post';\n        }\n        \n        var $form = $(ReactDOM.findDOMNode(this)).find('form');\n        var $inputs = $form.find('input, select, textarea');\n        var data = {\n            '_method': formMethod\n        };\n        $inputs.each(function(i, el)\n        {\n            var name = $(el).attr('name');\n            if(name && name.length)\n            {\n                data[name] = $(el).val();\n            }\n        })\n        \n        var currentRequest = request[methodName](this.props.formAction)\n            .set('X-CSRF-TOKEN', token)\n            .set('Accept', 'application/json');\n        \n        for(var key in data)\n        {\n            currentRequest.field(key, data[key]);\n        }\n        \n        currentRequest.end(_.bind(this.onFormComplete, this));\n    },\n    \n    onFormComplete: function(err, response)\n    {\n        if(err)\n        {\n            this.onFormError(response.body)\n            return;\n        }\n        \n        this.props.closeModal();\n        \n        if(this.props.onComplete)\n        {\n            this.props.onComplete(response.body);\n        }\n    },\n    \n    onFormError: function(errors)\n    {\n        var formName = this.props.formName;\n        var errorsByField = {};\n        _.each(errors, function(error)\n        {\n            var matches = error.message.match(/\\$([a-z][a-z0-9\\[\\]_-]+)/);\n            if(matches)\n            {\n                _.set(errorsByField, matches[1], ['']);\n            }\n        });\n        \n        this.setState({\n            formErrors: errorsByField\n        });\n    },\n    \n    onFormChange: function(data)\n    {\n        var currentValue = Immutable.fromJS(this.state.formData);\n        var newValue = Immutable.fromJS(data);\n        \n        if(newValue !== currentValue)\n        {\n            var value = newValue.toJS();\n            this.setState({\n                formData: value\n            });\n        }\n    }\n\n});\n\nmodule.exports = FormModal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/FormModal.jsx\n **/","var React = require('react-external');\nvar Immutable = require('immutable-external');\nvar _ = require('lodash-external');\nvar $ = require('jquery-external');\n\nvar ModalMixins = Panneau.Mixins.Modal;\nvar SubFormMixins = require('../../mixins/SubForm.react');\n\nvar Popover = Panneau.Components.Modals.Popover;\nvar FormActions = Panneau.Actions.Form;\nvar Requests = require('../../requests/index');\nvar TeamActions = require('../../actions/TeamActions');\n\nvar TeamInviteModal = React.createClass({\n    \n    mixins: [SubFormMixins],\n    \n    getDefaultProps: function()\n    {\n        return {\n            visible: false,\n            element: null,\n            offsetX: 0,\n            offsetY: 0,\n            formName: 'organisation.team.invite'\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            formData: null,\n            formErrors: null\n        };\n    },\n\n    render: function()\n    {\n        var other = _.omit(this.props, ['email', 'role', 'onClose', 'onOpen']);\n        \n        var title = 'Ajouter un membre à l\\'équipe';\n        \n        //Form\n        var formProps = Panneau.Schema.Form[this.props.formName];\n        formProps.name = this.props.formName;\n        formProps.onSubmit = this.onSubmit;\n        var formContainer = this.renderForm(formProps);\n        \n        return (\n            <Popover title={title} {...other} onClose={this.onClose}>\n                <p>Entrez l'adresse courriel d'un membre à inviter</p>\n                { formContainer }\n            </Popover>\n        );\n\n    },\n    \n    onClose: function()\n    {\n        if(this.props.onClose)\n        {\n            this.props.onClose();\n        }\n    },\n    \n    onSubmit: function(e)\n    {\n        e.preventDefault();\n        \n        if(!this.state.formData)\n        {\n            this.setState({\n                formErrors: Immutable.fromJS({\n                    'email': [''],\n                    'role_id': ['']\n                })\n            });\n            return \n        }\n        \n        var email = this.state.formData.get('email') || '';\n        var role_id = this.state.formData.get('role_id') || '';\n        var onUserInvited = _.bind(this.onUserInvited, this);\n        var onUserInviteError = _.bind(this.onUserInviteError, this);\n        \n        Requests.Organisations.inviteUser(email, role_id)\n                .then(onUserInvited, onUserInviteError);\n    },\n    \n    onUserInvited: function(invitation)\n    {\n        this.props.closeModal();\n        \n        if(this.props.onComplete)\n        {\n            this.props.onComplete(invitation);\n        }\n    },\n    \n    onUserInviteError: function(errors)\n    {\n        this.updateFormErrors(errors);\n    }\n\n});\n\nmodule.exports = TeamInviteModal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/TeamInvite.react.js\n **/","var React = require('react-external');\nvar Immutable = require('immutable-external');\nvar _ = require('lodash-external');\nvar $ = require('jquery-external');\n\nvar ModalMixins = Panneau.Mixins.Modal;\nvar SubFormMixins = require('../../mixins/SubForm.react');\n\nvar Popover = Panneau.Components.Modals.Popover;\nvar FormActions = Panneau.Actions.Form;\nvar Requests = require('../../requests/index');\nvar TeamActions = require('../../actions/TeamActions');\n\nvar DangerZone = require('../DangerZone.react');\n\nvar TeamEditModal = React.createClass({\n    \n    mixins: [SubFormMixins],\n    \n    propTypes: {\n        data: React.PropTypes.object.isRequired\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            visible: false,\n            element: null,\n            offsetX: 0,\n            offsetY: 0,\n            formName: 'organisation.team.edit'\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            formData: Immutable.fromJS({\n                role_id: _.get(this.props, 'data.role.id','')+''\n            }),\n            formErrors: null\n        };\n    },\n\n    render: function()\n    {\n        var other = _.omit(this.props, ['role', 'onClose', 'onOpen']);\n        var type = _.get(this.props, 'data.type', 'invitation');\n        \n        var title = type === 'inivtation' ? 'Modifier une invitation':'Modifer un membre de l\\'équipe';\n        var deleteTitle = '';\n        var deleteDescription = type === 'inivtation' ? 'Supprimer l\\'invitation':'Supprimer l\\'utilisateur';\n        var deleteConfirmation = type === 'invitation' ? 'Êtes-vous certain de vouloir supprimer cette invitation?':'Êtes-vous certain de vouloir enlever cet utilisateur de l\\'organisation?';\n        \n        //Form\n        var formProps = Panneau.Schema.Form[this.props.formName];\n        formProps.name = this.props.formName;\n        formProps.onSubmit = this.onSubmit;\n        var formContainer = this.renderForm(formProps);\n        \n        return (\n            <Popover title={title} {...other} onClose={this.onClose}>\n                { formContainer }\n                <DangerZone deleteTitle={deleteTitle} deleteDescription={deleteDescription} deleteConfirmation={deleteConfirmation} onDelete={this.onDelete} />\n            </Popover>\n        );\n\n    },\n    \n    onClose: function()\n    {\n        if(this.props.onClose)\n        {\n            this.props.onClose();\n        }\n    },\n    \n    onSubmit: function(e)\n    {\n        e.preventDefault();\n        \n        if(!this.state.formData)\n        {\n            this.setState({\n                formErrors: Immutable.fromJS({\n                    'role_id': ['']\n                })\n            });\n            return \n        }\n        \n        var type = _.get(this.props, 'data.type', 'invitation');\n        var role_id = this.state.formData.get('role_id') || '';\n        var onUpdated = _.bind(this.onUpdated, this);\n        var onUpdateError = _.bind(this.onUpdateError, this);\n        \n        if(type === 'invitation')\n        {\n            Requests.Organisations.updateInvitation(this.props.data.id, role_id)\n                    .then(onUpdated, onUpdateError);\n        }\n        else\n        {\n            Requests.Organisations.updateUser(this.props.data.id, role_id)\n                    .then(onUpdated, onUpdateError);\n        }\n    },\n    \n    onDelete: function(e)\n    {\n        e.preventDefault();\n        \n        var type = _.get(this.props, 'data.type', 'invitation');\n        var onRemoved = _.bind(this.onRemoved, this);\n        var onRemoveError = _.bind(this.onRemoveError, this);\n        \n        if(type === 'invitation')\n        {\n            Requests.Organisations.removeInvitation(this.props.data.id)\n                    .then(onRemoved, onRemoveError);\n        }\n        else\n        {\n            Requests.Organisations.removeUser(this.props.data.id)\n                    .then(onRemoved, onRemoveError);\n        }\n    },\n    \n    onUpdated: function(data)\n    {\n        this.props.closeModal();\n        \n        data.type = this.props.data.type;\n        \n        if(this.props.onComplete)\n        {\n            this.props.onComplete(data);\n        }\n    },\n    \n    onUpdateError: function(errors)\n    {\n        this.updateFormErrors(errors);\n    },\n    \n    onRemoved: function(user)\n    {\n        this.props.closeModal();\n        \n        if(this.props.onComplete)\n        {\n            this.props.onComplete(null);\n        }\n    },\n    \n    onRemoveError: function()\n    {\n        \n    }\n\n});\n\nmodule.exports = TeamEditModal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/modals/TeamEdit.react.js\n **/","module.exports = {\n    'Location': require('./Location.react'),\n    'Position': require('./Position.react'),\n    'Role': require('./Role.react'),\n    'PasswordChange': require('./PasswordChange.react'),\n    'Organisations': require('./Organisations.react'),\n    \n    'ScreenTechnical': require('./ScreenTechnical.react'),\n    'ScreenResolution': require('./ScreenResolution.react'),\n    \n    'Filters': require('./Filters.react'),\n    'Filter': require('./Filter.react'),\n    'FilterDate': require('./FilterDate.react'),\n    'FilterSelect': require('./FilterSelect.react'),\n    \n    'ConditionWeekdays': require('./ConditionWeekdays.react'),\n    'ConditionDateRange': require('./ConditionDateRange.react'),\n    'ConditionTime': require('./ConditionTime.react')\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/index.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Panneau = require('panneau');\n\nvar SubFieldMixin = require('../../mixins/SubField.react');\nvar PositionField = require('./Position.react');\nvar gmap = require('../../lib/gmap');\n\nvar AddressField = React.createClass({\n    \n    mixins: [SubFieldMixin],\n    \n    propTypes: {\n        name: React.PropTypes.string,\n        value: React.PropTypes.object,\n        onChange: React.PropTypes.func\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            withPosition: true\n        };\n    },\n    \n    render: function()\n    {\n        \n        var inputNumber = this.renderTextField('number', {\n            label: 'Numéro',\n            wrapperClassName: 'col-xs-4 col-md-4'\n        });\n        var inputStreet = this.renderTextField('street', {\n            label: 'Rue',\n            wrapperClassName: 'col-xs-8 col-md-8'\n        });\n        var inputCity = this.renderTextField('city', {\n            label: 'Ville',\n            wrapperClassName: 'col-xs-8 col-md-8'\n        });\n        var inputPostalcode = this.renderTextField('postalcode', {\n            label: 'Code postal',\n            wrapperClassName: 'col-xs-4 col-md-4'\n        });\n        \n        var positionValue = _.get(this.props, 'value.position', {});\n        var positionName = this.props.name+'[position]';\n        var position = null;\n        if(this.props.withPosition)\n        {\n            position = (\n                <PositionField name={positionName} value={ positionValue } onChange={this.onPositionChange} />\n            );\n        }\n        \n        return (\n            <div className=\"form-group form-group-address\">\n                <div className=\"row\">\n                    { inputNumber }\n                    { inputStreet }\n                    { inputCity }\n                    { inputPostalcode }\n                </div>\n                { position }\n            </div>\n        );\n    },\n    \n    checkAddress: _.debounce(function(value)\n    {\n        if(!value.number || !value.street || !value.street.length)\n        {\n            return;\n        }\n        \n        var address = [\n            value.number+' '+value.street\n        ];\n        if(value.city && value.city.length)\n        {\n            address.push(value.city);\n        }\n        else\n        {\n            address.push('Montreal');\n        }\n        if(value.postalcode && value.postalcode.length)\n        {\n            address.push(value.postalcode);\n        }\n        \n        gmap.loadGMap().then(function()\n        {\n            return gmap.geocode(address.join(', '));\n        })\n        .then(_.bind(this.onGeocode, this))\n    }, 300),\n    \n    onGeocode: function(latLng)\n    {\n        this.onSubFieldChange('position', {\n            latitude: latLng.lat(),\n            longitude: latLng.lng()\n        });\n    },\n    \n    onPositionChange: function(value)\n    {\n        var currentValue = Immutable.fromJS(this.props.value || {});\n        var newValue = currentValue.mergeIn(['position'], value);\n        \n        if(currentValue !== newValue)\n        {\n            var value = newValue.toJS();\n            \n            if(this.props.onChange)\n            {\n                this.props.onChange(value);\n            }\n        }\n    },\n    \n    onChange: function(value)\n    {\n        var latitude = _.get(value, 'position.latitude', null);\n        var longitude = _.get(value, 'position.longitude', null);\n        if(!latitude && !longitude)\n        {\n            this.checkAddress(value);\n        }\n    }\n    \n    \n});\n\nmodule.exports = AddressField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/Location.react.js\n **/","var _ = require('lodash-external');\n\nvar TextField = Panneau.Components.Fields.Text;\n\nvar SubField = {\n\n    renderTextField: function(key, props)\n    {\n        return this.renderSubField(TextField, key, props);\n    },\n    \n    renderSubField: function(FieldComponent, key, props)\n    {\n        var name = this.props.name+'['+key+']';\n        var value = _.get(this.props, 'value.'+key, null);\n        \n        props = _.extend({\n            wrapper: true,\n            wrapperClassName: ''\n        }, props);\n        \n        var onChange = _.bind(function(value)\n        {\n            this.onSubFieldChange(key, value);\n        }, this);\n        \n        var field = (\n            <FieldComponent name={name} value={value} onChange={onChange} {...props} />\n        );\n        \n        if(props.wrapper)\n        {\n            return (\n                <div className={ props.wrapperClassName }>\n                    { field }\n                </div>\n            );\n        }\n        else\n        {\n            return field;\n        }\n    },\n    \n    onSubFieldChange: function(key, value)\n    {\n        var currentValue = Immutable.fromJS(this.props.value || {});\n        var newValue = currentValue.set(key, value);\n        \n        if(currentValue !== newValue)\n        {\n            var value = newValue.toJS();\n            \n            if(this.onChange)\n            {\n                this.onChange(value);\n            }\n            \n            if(this.props.onChange)\n            {\n                this.props.onChange(value);\n            }\n        }\n    }\n    \n};\n\n\nmodule.exports = SubField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./mixins/SubField.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Panneau = require('panneau');\n\nvar SubFieldMixin = require('../../mixins/SubField.react');\nvar Map = require('../Map.react.js');\n\nvar PositionField = React.createClass({\n    \n    mixins: [SubFieldMixin],\n    \n    propTypes: {\n        name: React.PropTypes.string,\n        value: React.PropTypes.object,\n        onChange: React.PropTypes.func\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            \n        };\n    },\n    \n    render: function()\n    {\n        \n        var inputLatitude = this.renderTextField('latitude', {\n            label: 'Latitude',\n            wrapperClassName: 'col-xs-6'\n        });\n        var inputLongitude = this.renderTextField('longitude', {\n            label: 'Longitude',\n            wrapperClassName: 'col-xs-6'\n        });\n        \n        var latitude = _.get(this.props, 'value.latitude', null);\n        var longitude = _.get(this.props, 'value.longitude', null);\n        var radius = parseInt(_.get(this.props, 'value.radius', 0));\n        \n        return (\n            <div className=\"form-group form-group-position\">\n                <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                        <div className=\"row\">\n                            { inputLatitude }\n                            { inputLongitude }\n                        </div>\n                    </div>\n                    <div className=\"col-sm-12\">\n                        <Map zoom={17} latitude={parseFloat(latitude)} longitude={parseFloat(longitude)} radius={parseInt(radius)} onPositionChange={this.onMapPositionChange} onRadiusChange={this.onMapRadiusChange} />\n                    </div>\n                </div>\n            </div>\n        );\n    },\n    \n    onMapPositionChange: function(position)\n    {\n        if(this.props.onChange)\n        {\n            this.props.onChange(position);\n        }\n    },\n    \n    onMapRadiusChange: function(value)\n    {\n        this.onSubFieldChange('radius', Math.round(value));\n    }\n    \n    \n});\n\nmodule.exports = PositionField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/Position.react.js\n **/","var React = require('react-external');\nvar ReactDOM = require('react-dom-external');\nvar _ = require('lodash-external');\nvar Panneau = require('panneau');\nvar Promise = require('promise');\n\nvar loadGMap = require('../lib/gmap').loadGMap;\n\nvar Map = React.createClass({\n    \n    propTypes: {\n        latitude: React.PropTypes.number,\n        longitude: React.PropTypes.number,\n        zoom: React.PropTypes.number,\n        radius: React.PropTypes.number,\n        marker: React.PropTypes.bool\n    },\n    \n    map: null,\n    marker: null,\n    circle:null,\n    \n    getDefaultProps: function()\n    {\n        return {\n            apiKey: null,\n            latitude: null,\n            longitude: null,\n            defaultLatitude: 45.509247,\n            defaultLongitude: -73.56816,\n            zoom: 14,\n            radius: 0,\n            marker: true,\n            draggable: true\n        };\n    },\n    \n    render: function()\n    {\n        \n        return (\n            <div className=\"map-container\">\n                <div ref=\"map\" className=\"map\"></div>\n            </div>\n        );\n    },\n    \n    renderMap: function()\n    {\n        var center = this.getCenter();\n        var mapElement = ReactDOM.findDOMNode(this.refs.map);\n        this.map = new google.maps.Map(mapElement, {\n            center: center,\n            zoom: this.props.zoom\n        });\n        \n        if(this.props.radius)\n        {\n            this.renderCircle(center);\n        }\n        \n        if(this.props.marker)\n        {\n            this.renderMarker(center);\n        }\n    },\n    \n    renderMarker: function(position)\n    {\n        if(this.marker)\n        {\n            this.marker.setMap(this.map);\n            return;\n        }\n        \n        this.marker = new google.maps.Marker({\n            position: position,\n            map: this.map,\n            draggable: this.props.draggable\n        });\n        \n        this.marker.addListener('drag', _.bind(this.onMarkerDrag, this));\n        this.marker.addListener('dragend', _.bind(this.onMarkerDragEnd, this));\n    },\n    \n    renderCircle: function(center)\n    {\n        if(this.circle)\n        {\n            this.circle.setMap(this.map);\n            this.circle.setRadius(this.props.radius);\n            return;\n        }\n        \n        this.circle = new google.maps.Circle({\n            strokeColor: '#0000FF',\n            strokeOpacity: 0.8,\n            strokeWeight: 2,\n            fillColor: '#0000FF',\n            fillOpacity: 0.35,\n            center: center,\n            map: this.map,\n            radius: this.props.radius,\n            editable: true,\n            draggable: this.props.draggable\n        });\n        \n        this.circle.addListener('radius_changed', _.bind(this.onCircleRadiusChanged, this));\n        this.circle.addListener('drag', _.bind(this.onCircleDrag, this));\n        this.circle.addListener('dragend', _.bind(this.onCircleDragEnd, this));\n        \n    },\n    \n    getCenter: function()\n    {\n        return {\n            lat: this.props.latitude || this.props.defaultLatitude,\n            lng: this.props.longitude || this.props.defaultLongitude\n        };\n    },\n    \n    componentDidMount: function()\n    {\n        loadGMap(this.props.apiKey).then(_.bind(this.renderMap, this));\n    },\n    \n    componentWillUnmount: function()\n    {\n        this.map = null;\n    },\n    \n    componentDidUpdate: function(prevProps, prevState)\n    {\n        if(typeof(google) === 'undefined' || typeof(google.maps) === 'undefined')\n        {\n            return;\n        }\n        \n        var center = this.getCenter();\n        \n        if(this.props.latitude && this.props.longitude && (prevProps.latitude !== this.props.latitude || prevProps.longitude !== this.props.longitude))\n        {\n            if(this.map)\n            {\n                this.map.setCenter(center);\n            }\n            if(this.marker)\n            {\n                this.marker.setPosition(center);\n            }\n            if(this.circle)\n            {\n                this.circle.setCenter(center);\n            }\n        }\n        if(prevProps.zoom !== this.props.zoom)\n        {\n            if(this.map)\n            {\n                this.map.setZoom(this.props.zoom);\n            }\n        }\n        if(prevProps.marker !== this.props.marker)\n        {\n            if(this.props.marker)\n            {\n                this.renderMarker();\n            }\n            else if(this.marker)\n            {\n                this.marker.setMap(null);\n            }\n        }\n        if(prevProps.radius !== this.props.radius)\n        {\n            if(this.props.radius)\n            {\n                this.renderCircle(center);\n            }\n            else if(this.circle)\n            {\n                this.circle.setMap(null);\n            }\n        }\n    },\n    \n    onCircleRadiusChanged: function()\n    {\n        var radius = this.circle.getRadius();\n        if(radius !== parseInt(this.props.radius))\n        {\n            if(this.props.onRadiusChange)\n            {\n                this.props.onRadiusChange(radius);\n            }\n        }\n    },\n    \n    onCircleDrag: function(e)\n    {\n        if(this.marker)\n        {\n            this.marker.setPosition(this.circle.getCenter());\n        }\n    },\n    \n    onCircleDragEnd: function(e)\n    {\n        var position = this.circle.getCenter();\n        if(this.props.onPositionChange)\n        {\n            this.props.onPositionChange({\n                latitude: position.lat(),\n                longitude: position.lng()\n            })\n        }\n    },\n    \n    onMarkerDrag: function(e)\n    {\n        if(this.circle)\n        {\n            this.circle.setCenter(e.latLng);\n        }\n    },\n    \n    onMarkerDragEnd: function(e)\n    {\n        if(this.props.onPositionChange)\n        {\n            this.props.onPositionChange({\n                latitude: e.latLng.lat(),\n                longitude: e.latLng.lng()\n            })\n        }\n    }\n    \n    \n});\n\nmodule.exports = Map;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Map.react.js\n **/","var API_KEY = typeof(GOOGLE_API_KEY) !== 'undefined' ? GOOGLE_API_KEY:'AIzaSyDYuKJ4N-IxhsZHSaiBFwzTE4KTJrE17Js';\n\nfunction loadGMap(apiKey)\n{\n    if(typeof(apiKey) === 'undefined' || !apiKey)\n    {\n        apiKey = API_KEY;\n    }\n    \n    return new Promise(function(resolve, reject)\n    {\n        if(typeof(google) !== 'undefined' && typeof(google.maps) !== 'undefined')\n        {\n            return resolve();\n        }\n        \n        var callbackName = 'gmapLoaded_'+(new Date()).getTime();\n        window[callbackName] = function()\n        {\n            return resolve();\n            window[callbackName] = null;\n        };\n        var url = 'https://maps.googleapis.com/maps/api/js?key='+apiKey+'&callback='+callbackName;\n        var script = document.createElement('script');\n        script.src = url;\n        script.type = 'text/javascript';\n        document.getElementsByTagName('head')[0].appendChild(script);\n    });\n}\n\nfunction geocode(address)\n{\n    return new Promise(function(resolve, reject)\n    {\n        var geocoder = new google.maps.Geocoder();\n        \n        geocoder.geocode({\n            'address': address\n        }, function(results, status)\n        {\n            if (status == google.maps.GeocoderStatus.OK)\n            {\n                resolve(results[0].geometry.location);\n            }\n            else\n            {\n                reject(status);\n            }\n        });\n    });\n}\n\nmodule.exports = {\n    API_KEY: API_KEY,\n    loadGMap: loadGMap,\n    geocode: geocode\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/gmap.js\n **/","var React = require('react-external');\n\nvar RoleField = React.createClass({\n    \n    mixins: [ Panneau.Mixins.FieldErrors ],\n\n    propTypes: {\n        name: React.PropTypes.string\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            name: 'role',\n            value: null,\n            onChange: null\n        };\n    },\n\n    render: function()\n    {\n        var label;\n        if(this.props.label)\n        {\n            label = <label htmlFor={name} className=\"control-label\">{this.props.label}</label>;\n        }\n        \n        var select = this.renderSelect();\n        \n        var formGroupClassName = 'form-group form-group-role';\n        if(this.props.errors)\n        {\n            formGroupClassName += ' has-error';\n        }\n        \n        var errors = this.renderErrors(this.props.errors);\n        \n        return (\n            <div className={formGroupClassName}>\n                { label }\n                { select }\n                { errors }\n                <div className=\"description\">\n                    \n                </div>\n            </div>\n        );\n    },\n    \n    renderSelect: function()\n    {\n        var selectProps = _.omit(this.props, ['onChange', 'label'])\n        var Select = Panneau.Components.Fields.Select;\n        return (\n            <Select {...selectProps} onChange={this.onChange}></Select>\n        )\n    },\n    \n    onChange: function(value)\n    {\n        \n        if(this.props.onChange)\n        {\n            this.props.onChange(value);\n        }\n    }\n\n});\n\nmodule.exports = RoleField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/Role.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Panneau = require('panneau');\n\nvar PasswordField = Panneau.Components.Fields.Password;\n\nvar PasswordChangeField = React.createClass({\n    \n    propTypes: {\n        name: React.PropTypes.string,\n        value: React.PropTypes.object,\n        onChange: React.PropTypes.func\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            withPosition: true\n        };\n    },\n    \n    getInitialState: function()\n    {\n        return {\n            update: this.props.errors && this.props.errors.length ? true:false\n        };\n    },\n    \n    render: function()\n    {\n        var props = _.omit(this.props, ['label']);\n        \n        var label = null;\n        if(this.props.label && this.props.label.length)\n        {\n            label = (\n                <label htmlFor={this.props.name} className=\"control-label\">{ this.props.label }</label>\n            )\n        }\n        \n        var link = null;\n        if(!this.state.update)\n        {\n            link = (\n                <div className=\"link\">\n                    <a href=\"#\" onClick={this.onClick}>Changer votre mot de passe...</a>\n                </div>\n            );\n        }\n        \n        var passwordField = null;\n        if(this.state.update)\n        {\n            passwordField = (\n                <div className=\"field\">\n                    <PasswordField {...props} label=\"Nouveau mot de passe\" confirmationLabel=\"Confirmer le mot de passe\" />\n                </div>\n            );\n        }\n        \n        return (\n            <div className=\"form-group form-group-password-change\">\n                { label }\n                { link }\n                { passwordField }\n            </div>\n        );\n    },\n    \n    onClick: function(e)\n    {\n        e.preventDefault();\n        \n        this.setState({\n            update: true\n        });\n    }\n    \n});\n\nmodule.exports = PasswordChangeField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/PasswordChange.react.js\n **/","var React = require('react-external');\nvar Panneau = require('panneau');\n\nvar OrganisationsField = React.createClass({\n\n    propTypes: {\n        name: React.PropTypes.string\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            \n        };\n    },\n\n    render: function()\n    {\n        var label;\n        if(this.props.label)\n        {\n            label = <label htmlFor={this.props.name} className=\"control-label\">{this.props.label}</label>;\n        }\n        \n        var organisations = (this.props.value || []).map(_.bind(this.renderOrganisation, this));\n        if(!organisations.length)\n        {\n            organisations = (\n                <div className=\"list-item list-item-empty\">\n                    Aucune organisation pour le moment.\n                </div>\n            );\n        }\n        \n        return (\n            <div className=\"form-group form-group-organisations\">\n                { label }\n                <div className=\"list list-rows list-organisations\">\n                    { organisations }\n                </div>\n            </div>\n        );\n    },\n    \n    renderOrganisation: function(organisation, index)\n    {\n        var onClickRemove = _.bind(function(e)\n        {\n            this.onClickRemove(e, organisation, index);\n        }, this);\n        \n        var role = _.get(organisation, 'pivot.role.name');\n        var name = this.props.name+'[]';\n        var key = 'organisation_'+index;\n        \n        return (\n            <div key={key} className=\"list-item\">\n                <div className=\"list-item-col list-item-col-icon\">\n                    <span className=\"glyphicon glyphicon-lock\"></span>\n                </div>\n                <div className=\"list-item-col\">\n                    { organisation.name }\n                    <input type=\"hidden\" name={name} value={organisation.id} />\n                </div>\n                <div className=\"list-item-col list-item-col-role\">\n                    { role }\n                </div>\n                <div className=\"list-item-col list-item-col-actions list-item-col-last\">\n                    <button type=\"button\" className=\"btn btn-default\" onClick={onClickRemove}>\n                        <span className=\"glyphicon glyphicon-remove\"></span>\n                    </button>\n                </div>\n            </div>\n        );\n    },\n    \n    onClickRemove: function(e, organisation, index)\n    {\n        e.preventDefault();\n        \n        if(!confirm('Êtes-vous certain de vouloir vous enlever de cet organisation?'))\n        {\n            return;\n        }\n        \n        var currentValue = Immutable.fromJS(this.props.value || []);\n        var newValue = currentValue.delete(index);\n        \n        if(currentValue !== newValue)\n        {\n            var value = newValue.toJS();\n            \n            if(this.props.onChange)\n            {\n                this.props.onChange(value);\n            }\n        }\n    }\n\n});\n\nmodule.exports = OrganisationsField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/Organisations.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Panneau = require('panneau');\n\nvar SubFieldMixin = require('../../mixins/SubField.react');\n\nvar ScreenResolutionField = require('./ScreenResolution.react');\n\nvar ScreenTechnicalField = React.createClass({\n    \n    mixins: [SubFieldMixin],\n    \n    propTypes: {\n        name: React.PropTypes.string,\n        value: React.PropTypes.object,\n        onChange: React.PropTypes.func\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            \n        };\n    },\n    \n    render: function()\n    {\n        \n        var fieldScreenResolution = this.renderSubField(ScreenResolutionField, 'resolution', {\n            \n        });\n        \n        var fieldVendor = this.renderTextField('vendor', {\n            wrapperClassName: 'col-xs-12 col-sm-4',\n            label: 'Vendeur'\n        });\n        \n        var fieldModel = this.renderTextField('model', {\n            wrapperClassName: 'col-xs-12 col-sm-4',\n            label: 'Modèle'\n        });\n        \n        var fieldSerialNumber = this.renderTextField('serial_number', {\n            wrapperClassName: 'col-xs-12 col-sm-4',\n            label: 'Numéro de série'\n        });\n        \n        var fieldSize = this.renderTextField('size', {\n            label: 'Taille'\n        });\n        \n        return (\n            <div className=\"form-group form-group-screen-technical\">\n                <div className=\"row\">\n                    { fieldVendor }\n                    { fieldModel }\n                    { fieldSerialNumber }\n                </div>\n                \n                <div className=\"row\">\n                    <div className=\"col-sm-4\">\n                        { fieldSize }\n                    </div>\n                    <div className=\"col-sm-8\">\n                        { fieldScreenResolution }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    \n    \n});\n\nmodule.exports = ScreenTechnicalField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/ScreenTechnical.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Panneau = require('panneau');\n\nvar SubFieldMixin = require('../../mixins/SubField.react');\n\nvar ScreenResolutionField = React.createClass({\n    \n    mixins: [SubFieldMixin],\n    \n    propTypes: {\n        name: React.PropTypes.string,\n        value: React.PropTypes.object,\n        onChange: React.PropTypes.func\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            \n        };\n    },\n    \n    render: function()\n    {\n        \n        var inputResolutionX = this.renderTextField('x', {\n            wrapperClassName: 'col-xs-6 col-md-6',\n            prefix: 'x:',\n            suffix: 'px'\n        });\n        var inputResolutionY = this.renderTextField('y', {\n            wrapperClassName: 'col-xs-6 col-md-6',\n            prefix: 'y:',\n            suffix: 'px'\n        });\n        \n        return (\n            <div className=\"form-group form-group-screen-resolution\">\n                <label className=\"control-label\">Résolution</label>\n                <div className=\"row\">\n                    { inputResolutionX }\n                    { inputResolutionY }\n                </div>\n            </div>\n        );\n    }\n    \n    \n});\n\nmodule.exports = ScreenResolutionField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/ScreenResolution.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Immutable = require('immutable-external');\n\nvar FilterField = require('./Filter.react');\n\nvar FiltersField = React.createClass({\n    \n    propTypes: {\n        name: React.PropTypes.string,\n        onChange: React.PropTypes.func,\n        value: React.PropTypes.array\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            name: 'filters',\n            onChange: null,\n            value: null,\n            filters: [\n                {\n                    'name': 'date',\n                    'type': 'date',\n                    'label': 'Date'\n                },\n                {\n                    'name': 'author',\n                    'type': 'select',\n                    'label': 'Auteur',\n                    'values': [\n                        {\n                            'value': '1',\n                            'label': 'Auteur 1'\n                        }\n                    ]\n                }\n            ]\n        };\n    },\n    \n    render: function()\n    {\n        \n        var value = _.get(this.props, 'value', null) || [];\n        if(!value.length)\n        {\n            value.push({});\n        }\n        var filters = this.renderFilters(value);\n        \n        return (\n            <div className=\"form-group form-group-list form-group-filters\">\n                { filters }\n            </div>\n        );\n    },\n    \n    renderFilters: function(filters)\n    {\n        var lastIndex = filters.length-1;\n        return filters.map(_.bind(function(filter, index)\n        {\n            var isLast = index === lastIndex;\n            return this.renderFilter(filter, index, isLast);\n        }, this));    \n    },\n    \n    renderFilter: function(filter, index, isLast)\n    {\n        var key = 'filter_'+index;\n        var name = this.props.name+'['+index+']';\n        \n        //Event handlers\n        var onChange = _.bind(function(value)\n        {\n            this.onFilterChange(value, index);\n        }, this);\n        \n        var onClickRemove = _.bind(function(e)\n        {\n            this.onFilterClickRemove(e, index);\n        }, this);\n        \n        var addButton = null;\n        if(isLast)\n        {\n            addButton = (\n                <button type=\"button\" className=\"btn btn-default glyphicon glyphicon-plus-sign\" onClick={ this.onClickAdd }></button>\n            );\n        }\n        \n        var filters = this.props.filters;\n        \n        return (\n            <div key={ key } className=\"form-group-list-item form-group-row\">\n                <div className=\"form-group-inline\">\n                    <FilterField filters={filters} name={name} value={filter} onChange={ onChange } />\n                </div>\n                <div className=\"form-group-inline form-group-actions\">\n                    <div className=\"btn-group\">\n                        { addButton }\n                        <button type=\"button\" className=\"btn btn-default glyphicon glyphicon-minus-sign\" onClick={ onClickRemove }></button>\n                    </div>\n                </div>\n            </div>\n        );\n        \n    },\n    \n    onClickAdd: function(e)\n    {\n        e.preventDefault();\n        \n        var value = _.get(this.props, 'value', null) || [];\n        if(!value.length)\n        {\n            value.push({});\n        }\n        value.push({});\n        \n        if(this.props.onChange)\n        {\n            this.props.onChange(value);\n        }\n    },\n    \n    onFilterChange: function(value, index)\n    {\n        var currentValue = Immutable.fromJS(this.props.value || []);\n        var newValue = currentValue.set(index, value);\n        if(newValue !== currentValue)\n        {\n            var value = newValue.toJS();\n            \n            if(this.props.onChange)\n            {\n                this.props.onChange(value);\n            }\n        }\n    },\n    \n    onFilterClickRemove: function(e, index)\n    {\n        e.preventDefault();\n        \n        var value = _.get(this.props, 'value', null) || [];\n        var currentValue = Immutable.fromJS(value);\n        var newValue = currentValue.delete(index);\n        value = newValue.toJS();\n        \n        if(this.props.onChange)\n        {\n            this.props.onChange(value);\n        }\n    }\n    \n    \n});\n\nmodule.exports = FiltersField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/Filters.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Immutable = require('immutable-external');\n\n\nvar Filter = React.createClass({\n    \n    propTypes: {\n        name: React.PropTypes.string,\n        onChange: React.PropTypes.func,\n        value: React.PropTypes.object,\n        filters: React.PropTypes.array\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            name: 'filter',\n            onChange: null,\n            value: null,\n            filters: []\n        };\n    },\n    \n    render: function()\n    {\n        var filterName = _.get(this.props, 'value.name', null);\n        var filter = _.find(this.props.filters, 'name', filterName);\n        var filterValue = _.get(this.props, 'value.value', null);\n        var filterLabel = filter ? filter.label:'Filtrer par';\n        var filtersMenu = this.renderFiltersMenu(this.props.filters || []);\n        var filterFieldName = this.props.name+'[name]';\n        var valueFieldName = this.props.name+'[value]';\n        \n        var filterFieldGroup = null;\n        if(filter)\n        {\n            var filterType = 'filter'+filter.type.replace(/[^a-z0-9]/gi,'').toLowerCase();\n            var FilterField = _.find(Panneau.Components.Fields, function(Component, key)\n            {\n                return key.replace(/[^a-z0-9]/gi,'').toLowerCase() === filterType;\n            });\n            if(FilterField)\n            {\n                var other = _.omit(filter, ['name', 'value', 'label', 'onChange']);\n                filterFieldGroup = (\n                    <div className=\"form-group-inline\">\n                        <FilterField name={valueFieldName} value={filterValue} onChange={ this.onFilterValueChange } {...other} />\n                    </div>\n                );\n            }\n        }\n        \n        return (\n            <div className=\"form-group form-group-filter form-group-row\">\n                <div className=\"form-group-inline\">\n                    <button type=\"button\" className=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        <span className=\"tag\">{ filterLabel }</span>\n                        <span className=\"glyphicon glyphicon glyphicon-menu-down\"></span>\n                    </button>\n                    <ul className=\"dropdown-menu\">\n                        { filtersMenu }\n                    </ul>\n                    <input type=\"hidden\" name={filterFieldName} value={filterName} />\n                </div>\n                { filterFieldGroup }\n            </div>\n        );\n    },\n    \n    renderFiltersMenu: function(filters)\n    {\n        return filters.map(_.bind(this.renderFiltersMenuItem, this));\n    },\n    \n    renderFiltersMenuItem: function(filter, index)\n    {\n        var key = 'filter_menu'+index;\n        \n        var onClick = _.bind(function(e)\n        {\n            this.onFilterMenuClick(e, filter);\n        }, this);\n        \n        return (\n            <li key={key}>\n                <a href=\"#\" onClick={onClick}>{ filter.label }</a>\n            </li>\n        );\n    },\n    \n    onFilterMenuClick: function(e, filter)\n    {\n        e.preventDefault();\n        \n        this.onValueChange({\n            name: filter.name\n        });\n    },\n    \n    onFilterValueChange: function(value)\n    {\n        this.onValueChange('value', value);\n    },\n    \n    onValueChange: function(name, value)\n    {\n        var currentValue = Immutable.fromJS(this.props.value || {});\n        var newValue = _.isObject(name) ? Immutable.fromJS(name):currentValue.set(name, value);\n        \n        if(currentValue !== newValue)\n        {\n            var value = newValue.toJS();\n            \n            if(this.props.onChange)\n            {\n                this.props.onChange(value);\n            }\n        }\n    }\n    \n});\n\n/*\n\n<div className=\"list-item\">\n    <div className=\"list-item-col-8\">\n        <div className=\"select-info\">\n            <button type=\"button\" className=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span className=\"tag\">Lieu</span>\n                <span className=\"glyphicon glyphicon glyphicon-menu-down\"></span>\n            </button>\n            <div className=\"dropdown-menu\"></div>\n        </div>\n        <span className=\"word-separator\" >est</span>\n        <div className=\"select-info\">\n            <button type=\"button\" className=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span className=\"tag\">à moins de 10 km</span>\n                <span className=\"glyphicon glyphicon glyphicon-menu-down\"></span>\n            </button>\n            <div className=\"dropdown-menu\"></div>\n        </div>\n    </div>\n    <div className=\"list-item-col-4 list-item-col-last\">\n        <button type=\"button\" className=\"btn btn-default glyphicon glyphicon-plus-sign\"></button>\n        <button type=\"button\" className=\"btn btn-default glyphicon glyphicon-minus-sign\"></button>\n    </div>\n</div>\n\n*/\n\nmodule.exports = Filter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/Filter.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Immutable = require('immutable-external');\n\nvar DateField = Panneau.Components.Fields.Date;\nvar DateRangeField = Panneau.Components.Fields.DateRange;\n\nvar FilterDateField = React.createClass({\n\n    propTypes: {\n        name: React.PropTypes.string,\n        types: React.PropTypes.array.isRequired\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            name: 'filter_date',\n            value: null,\n            onChange: null,\n            types: [\n                {\n                    'name': 'future',\n                    'label': 'dans le futur'\n                },\n                {\n                    'name': 'date',\n                    'label': 'à la date'\n                },\n                {\n                    'name': 'range',\n                    'label': 'entre les dates'\n                }\n            ]\n        };\n    },\n\n    render: function()\n    {\n        var value = _.get(this.props, 'value', null);\n        var valueType = value === 'future' ? value:(_.isArray(value) ? 'range':(value !== null ? 'date':null));\n        console.log(valueType);\n        var type = _.find(this.props.types, function(type)\n        {\n            return type.name === valueType;\n        });\n        var typeLabel = 'Sélectionnez...';\n        if(type)\n        {\n            typeLabel = type.label;\n        }\n        \n        var types = this.renderTypes(this.props.types);\n        \n        var dateField;\n        if(type && type.name === 'date')\n        {\n            dateField = (\n                <div className=\"form-group-inline\">\n                    <DateField value={value} onChange={this.onDateChange} />\n                </div>\n            );\n        }\n        else if(type && type.name === 'range')\n        {\n            value = value || [];\n            var valueStart = _.get(value, '0');\n            var valueEnd = _.get(value, '1');\n            dateField = (\n                <div className=\"form-group-inline\">\n                    <div className=\"form-group-row\">\n                        <div className=\"form-group-inline form-group-inline-daterange\">\n                            <DateField value={valueStart} onChange={this.onStartDateChange} />\n                        </div>\n                        <div className=\"form-group-inline form-group-label\">\n                            et\n                        </div>\n                        <div className=\"form-group-inline form-group-inline-daterange\">\n                            <DateField value={valueEnd} onChange={this.onEndDateChange} />\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n        \n        return (\n            <div className=\"form-group form-group-filter-date form-group-row\">\n                <div className=\"form-group-inline form-group-label\">\n                    est\n                </div>\n                <div className=\"form-group-inline\">\n                    <button type=\"button\" className=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        <span className=\"tag\">{ typeLabel }</span>\n                        <span className=\"glyphicon glyphicon glyphicon-menu-down\"></span>\n                    </button>\n                    <ul className=\"dropdown-menu\">\n                        { types }\n                    </ul>\n                </div>\n                { dateField }\n            </div>\n        );\n    },\n    \n    renderTypes: function(types)\n    {\n        return types.map(_.bind(this.renderType, this));\n    },\n    \n    renderType: function(type, index)\n    {\n        var key = 'type_'+index;\n        \n        var onClick = _.bind(function(e)\n        {\n            e.preventDefault();\n            this.onTypeClick(type);\n        }, this);\n        \n        return (\n            <li key={key}>\n                <a href=\"#\" onClick={ onClick }>{ type.label }</a>\n            </li>\n        );\n    },\n    \n    componentDidMount: function()\n    {\n        \n    },\n    \n    onTypeClick: function(type)\n    {\n        if(type.name === 'future')\n        {\n            this.props.onChange('future');\n        }\n        else if(type.name === 'range')\n        {\n            this.props.onChange(['', '']);\n        }\n        else\n        {\n            this.props.onChange('');\n        }\n    },\n    \n    onDateChange: function(dateValue)\n    {\n        this.props.onChange(dateValue);\n    },\n    \n    onStartDateChange: function(dateValue)\n    {\n        var value = _.get(this.props, 'value', null) || ['', ''];\n        var currentValue = Immutable.fromJS(value);\n        var newValue = currentValue.set(0, dateValue);\n        \n        if(currentValue !== newValue)\n        {\n            value = newValue.toJS();\n            this.props.onChange(value);\n        }\n    },\n    \n    onEndDateChange: function(dateValue)\n    {\n        var value = _.get(this.props, 'value', null) || ['', ''];\n        var currentValue = Immutable.fromJS(value);\n        var newValue = currentValue.set(1, dateValue);\n        \n        if(currentValue !== newValue)\n        {\n            value = newValue.toJS();\n            this.props.onChange(value);\n        }\n    }\n\n});\n\nmodule.exports = FilterDateField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/FilterDate.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Immutable = require('immutable-external');\n\nvar SelectField = Panneau.Components.Fields.Select;\n\nvar FilterSelectField = React.createClass({\n\n    propTypes: {\n        name: React.PropTypes.string\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            name: 'filter_select',\n            value: null,\n            onChange: null\n        };\n    },\n\n    render: function()\n    {\n        var value = _.get(this.props, 'value', null);\n        var props = _.cloneDeep(_.omit(this.props, ['name', 'value', 'label', 'onChange']));\n        if(props.values)\n        {\n            props.values.unshift({\n                value: null,\n                label: 'Sélectionnez...'\n            });\n        }\n        \n        return (\n            <div className=\"form-group form-group-filter-select form-group-row\">\n                <div className=\"form-group-inline form-group-label\">\n                    est\n                </div>\n                <div className=\"form-group-inline\">\n                    <SelectField {...props} name={this.props.name} value={value} onChange={this.onSelectChange} />\n                </div>\n            </div>\n        );\n    },\n    \n    onSelectChange: function(value)\n    {\n        if(this.props.onChange)\n        {\n            this.props.onChange(value);\n        }\n    }\n\n});\n\nmodule.exports = FilterSelectField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/FilterSelect.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Immutable = require('immutable-external');\n\nvar WeekdaysField = require('../fields/Weekdays.react');\n\nvar ConditionWeekdaysField = React.createClass({\n\n    propTypes: {\n        name: React.PropTypes.string\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            name: 'condition_weekdays',\n            value: null,\n            onChange: null\n        };\n    },\n\n    render: function()\n    {\n        var value = _.get(this.props, 'value', null);\n        var checked = value ? true:false;\n        \n        var field = null;\n        if(value)\n        {\n            field = (\n                <WeekdaysField name={this.props.name} value={value} onChange={this.onChange} />\n            );\n        }\n        \n        return (\n            <div className=\"form-group form-group-condition form-group-condition-weekdays\">\n                \n                <div className=\"form-group form-group-checkbox\">\n                    <div className=\"checkbox\">\n                        <label>\n                            <input type=\"checkbox\" autoComplete=\"off\" checked={checked} onChange={this.onCheckChange}/>\n                            <span>Afficher seulement certains jours de la semaine</span>\n                        </label>\n                    </div>\n                </div>\n                \n                { field }\n            </div>\n        );\n    },\n    \n    onCheckChange: function(e)\n    {\n        if(e.target.checked)\n        {\n            this.onChange([]);\n        }\n        else\n        {\n            this.onChange(null);\n        }\n    },\n    \n    onChange: function(value)\n    {\n        if(this.props.onChange)\n        {\n            this.props.onChange(value);\n        }\n    }\n\n});\n\nmodule.exports = ConditionWeekdaysField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/ConditionWeekdays.react.js\n **/","var React = require('react-external');\n\nvar CheckboxesField = Panneau.Components.Fields.Checkboxes;\n\nvar WeekdaysField = React.createClass({\n    \n    mixins: [ Panneau.Mixins.FieldErrors ],\n\n    propTypes: {\n        name: React.PropTypes.string\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            name: 'weekdays',\n            value: null,\n            onChange: null,\n            days: [\n                {\n                    label: 'Lundi',\n                    value: '0'\n                },\n                {\n                    label: 'Mardi',\n                    value: '1'\n                },\n                {\n                    label: 'Mercredi',\n                    value: '2'\n                },\n                {\n                    label: 'Jeudi',\n                    value: '3'\n                },\n                {\n                    label: 'Vendredi',\n                    value: '4'\n                },\n                {\n                    label: 'Samedi',\n                    value: '5'\n                },\n                {\n                    label: 'Dimanche',\n                    value: '6'\n                }\n            ]\n            \n        };\n    },\n\n    render: function()\n    {\n        var label;\n        if(this.props.label)\n        {\n            label = <label htmlFor={name} className=\"control-label\">{this.props.label}</label>;\n        }\n        \n        var formGroupClassName = 'form-group form-group-weekdays';\n        if(this.props.errors)\n        {\n            formGroupClassName += ' has-error';\n        }\n        \n        var errors = this.renderErrors(this.props.errors);\n        \n        return (\n            <div className={formGroupClassName}>\n                { label }\n                <CheckboxesField type=\"checkbox.button\" value={this.props.value} values={this.props.days} onChange={this.onChange} />\n                { errors }\n            </div>\n        );\n    },\n    \n    onChange: function(value)\n    {\n        if(this.props.onChange)\n        {\n            this.props.onChange(value);\n        }\n    }\n\n});\n\nmodule.exports = WeekdaysField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/Weekdays.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Immutable = require('immutable-external');\n\nvar DateRangeField = Panneau.Components.Fields.DateRange;\n\nvar ConditionDateRangeField = React.createClass({\n\n    propTypes: {\n        name: React.PropTypes.string\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            name: 'condition_daterange',\n            value: null,\n            onChange: null\n        };\n    },\n\n    render: function()\n    {\n        var value = _.get(this.props, 'value', null);\n        var checked = value ? true:false;\n        \n        var start = _.get(value || [], '0', null);\n        var end = _.get(value || [], '1', null);\n        var fieldValue = start || end ? {\n            start: start,\n            end: end\n        }:null;\n        \n        var field = null;\n        if(value)\n        {\n            field = (\n                <DateRangeField type=\"date\" name={this.props.name} value={fieldValue} onChange={this.onChange} />\n            );\n        }\n        \n        return (\n            <div className=\"form-group form-group-condition form-group-condition-daterange\">\n                \n                <div className=\"form-group form-group-checkbox\">\n                    <div className=\"checkbox\">\n                        <label>\n                            <input type=\"checkbox\" autoComplete=\"off\" checked={checked} onChange={this.onCheckChange}/>\n                            <span>Afficher seulement entre des dates</span>\n                        </label>\n                    </div>\n                </div>\n                \n                { field }\n            </div>\n        );\n    },\n    \n    onCheckChange: function(e)\n    {\n        if(e.target.checked)\n        {\n            this.onChange([]);\n        }\n        else\n        {\n            this.onChange(null);\n        }\n    },\n    \n    onChange: function(value)\n    {\n        var start = _.get(value, 'start', null);\n        var end = _.get(value, 'end', null);\n        \n        value = start || end ? [start, end]:(value !== null ? []:null);\n        \n        if(this.props.onChange)\n        {\n            this.props.onChange(value);\n        }\n    }\n\n});\n\nmodule.exports = ConditionDateRangeField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/ConditionDateRange.react.js\n **/","var React = require('react-external');\nvar _ = require('lodash-external');\nvar Immutable = require('immutable-external');\n\nvar DateRangeField = Panneau.Components.Fields.DateRange;\n\nvar ConditionTimeField = React.createClass({\n\n    propTypes: {\n        name: React.PropTypes.string\n    },\n    \n    getDefaultProps: function()\n    {\n        return {\n            name: 'condition_time',\n            value: null,\n            onChange: null\n        };\n    },\n\n    render: function()\n    {\n        var value = _.get(this.props, 'value', null);\n        var checked = value ? true:false;\n        \n        var start = _.get(value || [], '0', null);\n        var end = _.get(value || [], '1', null);\n        var fieldValue = start || end ? {\n            start: start,\n            end: end\n        }:null;\n        \n        var field = null;\n        if(value)\n        {\n            field = (\n                <DateRangeField type=\"time\" name={this.props.name} value={fieldValue} onChange={this.onChange} />\n            );\n        }\n        \n        return (\n            <div className=\"form-group form-group-condition form-group-condition-time\">\n                \n                <div className=\"form-group form-group-checkbox\">\n                    <div className=\"checkbox\">\n                        <label>\n                            <input type=\"checkbox\" autoComplete=\"off\" checked={checked} onChange={this.onCheckChange}/>\n                            <span>Afficher seulement dans les heures</span>\n                        </label>\n                    </div>\n                </div>\n                \n                { field }\n            </div>\n        );\n    },\n    \n    onCheckChange: function(e)\n    {\n        if(e.target.checked)\n        {\n            this.onChange([]);\n        }\n        else\n        {\n            this.onChange(null);\n        }\n    },\n    \n    onChange: function(value)\n    {\n        var start = _.get(value, 'start', null);\n        var end = _.get(value, 'end', null);\n        \n        value = start || end ? [start, end]:(value !== null ? []:null);\n        \n        if(this.props.onChange)\n        {\n            this.props.onChange(value);\n        }\n    }\n\n});\n\nmodule.exports = ConditionTimeField;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/fields/ConditionTime.react.js\n **/","'use strict';\n\nvar $ = require('jquery-external');\n\n$(function()\n{\n    \n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./main.js\n **/"],"sourceRoot":"/source/"}